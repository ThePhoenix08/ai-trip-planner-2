function Wk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function LT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},Mh={},jT={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=Symbol.for("react.element"),Hk=Symbol.for("react.portal"),Gk=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),qk=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),Xk=Symbol.for("react.forward_ref"),Jk=Symbol.for("react.suspense"),Zk=Symbol.for("react.memo"),eN=Symbol.for("react.lazy"),B_=Symbol.iterator;function tN(t){return t===null||typeof t!="object"?null:(t=B_&&t[B_]||t["@@iterator"],typeof t=="function"?t:null)}var FT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,BT={};function aa(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||FT}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $T(){}$T.prototype=aa.prototype;function Iv(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||FT}var Av=Iv.prototype=new $T;Av.constructor=Iv;UT(Av,aa.prototype);Av.isPureReactComponent=!0;var $_=Array.isArray,zT=Object.prototype.hasOwnProperty,Rv={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zT.call(e,r)&&!WT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wc,type:t,key:s,ref:o,props:i,_owner:Rv.current}}function nN(t,e){return{$$typeof:wc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc}function rN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z_=/\/+/g;function lp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rN(""+t.key):e.toString(36)}function Gu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wc:case Hk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+lp(o,0):r,$_(i)?(n="",t!=null&&(n=t.replace(z_,"$&/")+"/"),Gu(i,e,n,"",function(c){return c})):i!=null&&(bv(i)&&(i=nN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(z_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+lp(s,a);o+=Gu(s,e,n,l,i)}else if(l=tN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+lp(s,a++),o+=Gu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(t,e,n){if(t==null)return t;var r=[],i=0;return Gu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function iN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ut={current:null},Ku={transition:null},sN={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Ku,ReactCurrentOwner:Rv};function GT(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:fu,forEach:function(t,e,n){fu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fu(t,function(){e++}),e},toArray:function(t){return fu(t,function(e){return e})||[]},only:function(t){if(!bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=aa;de.Fragment=Gk;de.Profiler=qk;de.PureComponent=Iv;de.StrictMode=Kk;de.Suspense=Jk;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sN;de.act=GT;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zT.call(e,l)&&!WT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wc,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:Yk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qk,_context:t},t.Consumer=t};de.createElement=HT;de.createFactory=function(t){var e=HT.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Xk,render:t}};de.isValidElement=bv;de.lazy=function(t){return{$$typeof:eN,_payload:{_status:-1,_result:t},_init:iN}};de.memo=function(t,e){return{$$typeof:Zk,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Ku.transition;Ku.transition={};try{t()}finally{Ku.transition=e}};de.unstable_act=GT;de.useCallback=function(t,e){return Ut.current.useCallback(t,e)};de.useContext=function(t){return Ut.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Ut.current.useDeferredValue(t)};de.useEffect=function(t,e){return Ut.current.useEffect(t,e)};de.useId=function(){return Ut.current.useId()};de.useImperativeHandle=function(t,e,n){return Ut.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Ut.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Ut.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Ut.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Ut.current.useReducer(t,e,n)};de.useRef=function(t){return Ut.current.useRef(t)};de.useState=function(t){return Ut.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Ut.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Ut.current.useTransition()};de.version="18.3.1";jT.exports=de;var g=jT.exports;const Bn=LT(g),KT=Wk({__proto__:null,default:Bn},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=g,aN=Symbol.for("react.element"),lN=Symbol.for("react.fragment"),cN=Object.prototype.hasOwnProperty,uN=oN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dN={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cN.call(e,r)&&!dN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:aN,type:t,key:s,ref:o,props:i,_owner:uN.current}}Mh.Fragment=lN;Mh.jsx=qT;Mh.jsxs=qT;VT.exports=Mh;var f=VT.exports,QT={exports:{}},cn={},YT={exports:{}},XT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var W=j.length;j.push(F);e:for(;0<W;){var ee=W-1>>>1,ae=j[ee];if(0<i(ae,F))j[ee]=F,j[W]=ae,W=ee;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],W=j.pop();if(W!==F){j[0]=W;e:for(var ee=0,ae=j.length,xe=ae>>>1;ee<xe;){var We=2*(ee+1)-1,et=j[We],je=We+1,Y=j[je];if(0>i(et,W))je<ae&&0>i(Y,et)?(j[ee]=Y,j[je]=W,ee=je):(j[ee]=et,j[We]=W,ee=We);else if(je<ae&&0>i(Y,W))j[ee]=Y,j[je]=W,ee=je;else break e}}return F}function i(j,F){var W=j.sortIndex-F.sortIndex;return W!==0?W:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,w=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=j)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function P(j){if(y=!1,C(j),!w)if(n(l)!==null)w=!0,Z(M);else{var F=n(c);F!==null&&X(P,F.startTime-j)}}function M(j,F){w=!1,y&&(y=!1,x(S),S=-1),v=!0;var W=p;try{for(C(F),h=n(l);h!==null&&(!(h.expirationTime>F)||j&&!N());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var ae=ee(h.expirationTime<=F);F=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),C(F)}else r(l);h=n(l)}if(h!==null)var xe=!0;else{var We=n(c);We!==null&&X(P,We.startTime-F),xe=!1}return xe}finally{h=null,p=W,v=!1}}var L=!1,I=null,S=-1,R=5,b=-1;function N(){return!(t.unstable_now()-b<R)}function D(){if(I!==null){var j=t.unstable_now();b=j;var F=!0;try{F=I(!0,j)}finally{F?k():(L=!1,I=null)}}else L=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ue=J.port2;J.port1.onmessage=D,k=function(){ue.postMessage(null)}}else k=function(){T(D,0)};function Z(j){I=j,L||(L=!0,k())}function X(j,F){S=T(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,Z(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var W=p;p=F;try{return j()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=p;p=j;try{return F()}finally{p=W}},t.unstable_scheduleCallback=function(j,F,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,j={id:d++,callback:F,priorityLevel:j,startTime:W,expirationTime:ae,sortIndex:-1},W>ee?(j.sortIndex=W,e(c,j),n(l)===null&&j===n(c)&&(y?(x(S),S=-1):y=!0,X(P,W-ee))):(j.sortIndex=ae,e(l,j),w||v||(w=!0,Z(M))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var F=p;return function(){var W=p;p=F;try{return j.apply(this,arguments)}finally{p=W}}}})(XT);YT.exports=XT;var hN=YT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN=g,sn=hN;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JT=new Set,Vl={};function Os(t,e){Uo(t,e),Uo(t+"Capture",e)}function Uo(t,e){for(Vl[t]=e,t=0;t<e.length;t++)JT.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Em=Object.prototype.hasOwnProperty,pN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W_={},H_={};function mN(t){return Em.call(H_,t)?!0:Em.call(W_,t)?!1:pN.test(t)?H_[t]=!0:(W_[t]=!0,!1)}function gN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vN(t,e,n,r){if(e===null||typeof e>"u"||gN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pv=/[\-:]([a-z])/g;function kv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pv,kv);yt[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pv,kv);yt[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pv,kv);yt[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nv(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vN(e,n,i,r)&&(n=null),r||i===null?mN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=fN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pu=Symbol.for("react.element"),oo=Symbol.for("react.portal"),ao=Symbol.for("react.fragment"),Dv=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),ZT=Symbol.for("react.provider"),e2=Symbol.for("react.context"),Mv=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Tm=Symbol.for("react.suspense_list"),Ov=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),t2=Symbol.for("react.offscreen"),G_=Symbol.iterator;function Ba(t){return t===null||typeof t!="object"?null:(t=G_&&t[G_]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,cp;function tl(t){if(cp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cp=e&&e[1]||""}return`
`+cp+t}var up=!1;function dp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tl(t):""}function yN(t){switch(t.tag){case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 2:case 15:return t=dp(t.type,!1),t;case 11:return t=dp(t.type.render,!1),t;case 1:return t=dp(t.type,!0),t;default:return""}}function Sm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ao:return"Fragment";case oo:return"Portal";case xm:return"Profiler";case Dv:return"StrictMode";case Cm:return"Suspense";case Tm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case e2:return(t.displayName||"Context")+".Consumer";case ZT:return(t._context.displayName||"Context")+".Provider";case Mv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ov:return e=t.displayName||null,e!==null?e:Sm(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Sm(t(e))}catch{}}return null}function _N(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sm(e);case 8:return e===Dv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function n2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wN(t){var e=n2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mu(t){t._valueTracker||(t._valueTracker=wN(t))}function r2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=n2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i2(t,e){e=e.checked,e!=null&&Nv(t,"checked",e,!1)}function Am(t,e){i2(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rm(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rm(t,e,n){(e!=="number"||Td(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nl=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(nl(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function s2(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function o2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?o2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gu,a2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gu=gu||document.createElement("div"),gu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EN=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(t){EN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ml[e]=ml[t]})});function l2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ml.hasOwnProperty(t)&&ml[t]?(""+e).trim():e+"px"}function c2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=l2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xN=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function km(t,e){if(e){if(xN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function Lv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mm=null,Io=null,Ao=null;function X_(t){if(t=Cc(t)){if(typeof Mm!="function")throw Error($(280));var e=t.stateNode;e&&(e=Fh(e),Mm(t.stateNode,t.type,e))}}function u2(t){Io?Ao?Ao.push(t):Ao=[t]:Io=t}function d2(){if(Io){var t=Io,e=Ao;if(Ao=Io=null,X_(t),e)for(t=0;t<e.length;t++)X_(e[t])}}function h2(t,e){return t(e)}function f2(){}var hp=!1;function p2(t,e,n){if(hp)return t(e,n);hp=!0;try{return h2(t,e,n)}finally{hp=!1,(Io!==null||Ao!==null)&&(f2(),d2())}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Om=!1;if(Dr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){Om=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{Om=!1}function CN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var gl=!1,Sd=null,Id=!1,Lm=null,TN={onError:function(t){gl=!0,Sd=t}};function SN(t,e,n,r,i,s,o,a,l){gl=!1,Sd=null,CN.apply(TN,arguments)}function IN(t,e,n,r,i,s,o,a,l){if(SN.apply(this,arguments),gl){if(gl){var c=Sd;gl=!1,Sd=null}else throw Error($(198));Id||(Id=!0,Lm=c)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function m2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J_(t){if(Ls(t)!==t)throw Error($(188))}function AN(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return J_(i),t;if(s===r)return J_(i),e;s=s.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function g2(t){return t=AN(t),t!==null?v2(t):null}function v2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v2(t);if(e!==null)return e;t=t.sibling}return null}var y2=sn.unstable_scheduleCallback,Z_=sn.unstable_cancelCallback,RN=sn.unstable_shouldYield,bN=sn.unstable_requestPaint,Qe=sn.unstable_now,PN=sn.unstable_getCurrentPriorityLevel,Vv=sn.unstable_ImmediatePriority,_2=sn.unstable_UserBlockingPriority,Ad=sn.unstable_NormalPriority,kN=sn.unstable_LowPriority,w2=sn.unstable_IdlePriority,Oh=null,Gn=null;function NN(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Oh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:ON,DN=Math.log,MN=Math.LN2;function ON(t){return t>>>=0,t===0?32:31-(DN(t)/MN|0)|0}var vu=64,yu=4194304;function rl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rl(a):(s&=o,s!==0&&(r=rl(s)))}else o=n&~i,o!==0?r=rl(o):s!==0&&(r=rl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function LN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=LN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function E2(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function fp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function jN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function x2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C2,Fv,T2,S2,I2,jm=!1,_u=[],gi=null,vi=null,yi=null,Ul=new Map,Bl=new Map,oi=[],FN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ew(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":vi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(e.pointerId)}}function za(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cc(e),e!==null&&Fv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UN(t,e,n,r,i){switch(e){case"focusin":return gi=za(gi,t,e,n,r,i),!0;case"dragenter":return vi=za(vi,t,e,n,r,i),!0;case"mouseover":return yi=za(yi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ul.set(s,za(Ul.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bl.set(s,za(Bl.get(s)||null,t,e,n,r,i)),!0}return!1}function A2(t){var e=us(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=m2(n),e!==null){t.blockedOn=e,I2(t.priority,function(){T2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dm=r,n.target.dispatchEvent(r),Dm=null}else return e=Cc(n),e!==null&&Fv(e),t.blockedOn=n,!1;e.shift()}return!0}function tw(t,e,n){qu(t)&&n.delete(e)}function BN(){jm=!1,gi!==null&&qu(gi)&&(gi=null),vi!==null&&qu(vi)&&(vi=null),yi!==null&&qu(yi)&&(yi=null),Ul.forEach(tw),Bl.forEach(tw)}function Wa(t,e){t.blockedOn===e&&(t.blockedOn=null,jm||(jm=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,BN)))}function $l(t){function e(i){return Wa(i,t)}if(0<_u.length){Wa(_u[0],t);for(var n=1;n<_u.length;n++){var r=_u[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Wa(gi,t),vi!==null&&Wa(vi,t),yi!==null&&Wa(yi,t),Ul.forEach(e),Bl.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)A2(n),n.blockedOn===null&&oi.shift()}var Ro=zr.ReactCurrentBatchConfig,bd=!0;function $N(t,e,n,r){var i=Ae,s=Ro.transition;Ro.transition=null;try{Ae=1,Uv(t,e,n,r)}finally{Ae=i,Ro.transition=s}}function zN(t,e,n,r){var i=Ae,s=Ro.transition;Ro.transition=null;try{Ae=4,Uv(t,e,n,r)}finally{Ae=i,Ro.transition=s}}function Uv(t,e,n,r){if(bd){var i=Fm(t,e,n,r);if(i===null)Cp(t,e,r,Pd,n),ew(t,r);else if(UN(i,t,e,n,r))r.stopPropagation();else if(ew(t,r),e&4&&-1<FN.indexOf(t)){for(;i!==null;){var s=Cc(i);if(s!==null&&C2(s),s=Fm(t,e,n,r),s===null&&Cp(t,e,r,Pd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cp(t,e,r,null,n)}}var Pd=null;function Fm(t,e,n,r){if(Pd=null,t=Lv(r),t=us(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=m2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function R2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PN()){case Vv:return 1;case _2:return 4;case Ad:case kN:return 16;case w2:return 536870912;default:return 16}default:return 16}}var hi=null,Bv=null,Qu=null;function b2(){if(Qu)return Qu;var t,e=Bv,n=e.length,r,i="value"in hi?hi.value:hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qu=i.slice(t,1<r?1-r:void 0)}function Yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wu(){return!0}function nw(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wu:nw,this.isPropagationStopped=nw,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=un(la),xc=$e({},la,{view:0,detail:0}),WN=un(xc),pp,mp,Ha,Lh=$e({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(pp=t.screenX-Ha.screenX,mp=t.screenY-Ha.screenY):mp=pp=0,Ha=t),pp)},movementY:function(t){return"movementY"in t?t.movementY:mp}}),rw=un(Lh),HN=$e({},Lh,{dataTransfer:0}),GN=un(HN),KN=$e({},xc,{relatedTarget:0}),gp=un(KN),qN=$e({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),QN=un(qN),YN=$e({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XN=un(YN),JN=$e({},la,{data:0}),iw=un(JN),ZN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t6[t])?!!e[t]:!1}function zv(){return n6}var r6=$e({},xc,{key:function(t){if(t.key){var e=ZN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(t){return t.type==="keypress"?Yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i6=un(r6),s6=$e({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sw=un(s6),o6=$e({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),a6=un(o6),l6=$e({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),c6=un(l6),u6=$e({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d6=un(u6),h6=[9,13,27,32],Wv=Dr&&"CompositionEvent"in window,vl=null;Dr&&"documentMode"in document&&(vl=document.documentMode);var f6=Dr&&"TextEvent"in window&&!vl,P2=Dr&&(!Wv||vl&&8<vl&&11>=vl),ow=" ",aw=!1;function k2(t,e){switch(t){case"keyup":return h6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function p6(t,e){switch(t){case"compositionend":return N2(e);case"keypress":return e.which!==32?null:(aw=!0,ow);case"textInput":return t=e.data,t===ow&&aw?null:t;default:return null}}function m6(t,e){if(lo)return t==="compositionend"||!Wv&&k2(t,e)?(t=b2(),Qu=Bv=hi=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P2&&e.locale!=="ko"?null:e.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g6[t.type]:e==="textarea"}function D2(t,e,n,r){u2(r),e=kd(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yl=null,zl=null;function v6(t){W2(t,0)}function Vh(t){var e=ho(t);if(r2(e))return t}function y6(t,e){if(t==="change")return e}var M2=!1;if(Dr){var vp;if(Dr){var yp="oninput"in document;if(!yp){var cw=document.createElement("div");cw.setAttribute("oninput","return;"),yp=typeof cw.oninput=="function"}vp=yp}else vp=!1;M2=vp&&(!document.documentMode||9<document.documentMode)}function uw(){yl&&(yl.detachEvent("onpropertychange",O2),zl=yl=null)}function O2(t){if(t.propertyName==="value"&&Vh(zl)){var e=[];D2(e,zl,t,Lv(t)),p2(v6,e)}}function _6(t,e,n){t==="focusin"?(uw(),yl=e,zl=n,yl.attachEvent("onpropertychange",O2)):t==="focusout"&&uw()}function w6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(zl)}function E6(t,e){if(t==="click")return Vh(e)}function x6(t,e){if(t==="input"||t==="change")return Vh(e)}function C6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:C6;function Wl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Em.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hw(t,e){var n=dw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dw(n)}}function L2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V2(){for(var t=window,e=Td();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Td(t.document)}return e}function Hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T6(t){var e=V2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L2(n.ownerDocument.documentElement,n)){if(r!==null&&Hv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hw(n,s);var o=hw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S6=Dr&&"documentMode"in document&&11>=document.documentMode,co=null,Um=null,_l=null,Bm=!1;function fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bm||co==null||co!==Td(r)||(r=co,"selectionStart"in r&&Hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_l&&Wl(_l,r)||(_l=r,r=kd(Um,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},_p={},j2={};Dr&&(j2=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function jh(t){if(_p[t])return _p[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in j2)return _p[t]=e[n];return t}var F2=jh("animationend"),U2=jh("animationiteration"),B2=jh("animationstart"),$2=jh("transitionend"),z2=new Map,pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){z2.set(t,e),Os(e,[t])}for(var wp=0;wp<pw.length;wp++){var Ep=pw[wp],I6=Ep.toLowerCase(),A6=Ep[0].toUpperCase()+Ep.slice(1);Wi(I6,"on"+A6)}Wi(F2,"onAnimationEnd");Wi(U2,"onAnimationIteration");Wi(B2,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi($2,"onTransitionEnd");Uo("onMouseEnter",["mouseout","mouseover"]);Uo("onMouseLeave",["mouseout","mouseover"]);Uo("onPointerEnter",["pointerout","pointerover"]);Uo("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R6=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IN(r,e,void 0,t),t.currentTarget=null}function W2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mw(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mw(i,a,c),s=l}}}if(Id)throw t=Lm,Id=!1,Lm=null,t}function Me(t,e){var n=e[Gm];n===void 0&&(n=e[Gm]=new Set);var r=t+"__bubble";n.has(r)||(H2(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),H2(n,t,r,e)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[xu]){t[xu]=!0,JT.forEach(function(n){n!=="selectionchange"&&(R6.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xu]||(e[xu]=!0,xp("selectionchange",!1,e))}}function H2(t,e,n,r){switch(R2(e)){case 1:var i=$N;break;case 4:i=zN;break;default:i=Uv}n=i.bind(null,e,n,t),i=void 0,!Om||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=us(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}p2(function(){var c=s,d=Lv(n),h=[];e:{var p=z2.get(t);if(p!==void 0){var v=$v,w=t;switch(t){case"keypress":if(Yu(n)===0)break e;case"keydown":case"keyup":v=i6;break;case"focusin":w="focus",v=gp;break;case"focusout":w="blur",v=gp;break;case"beforeblur":case"afterblur":v=gp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=GN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=a6;break;case F2:case U2:case B2:v=QN;break;case $2:v=c6;break;case"scroll":v=WN;break;case"wheel":v=d6;break;case"copy":case"cut":case"paste":v=XN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sw}var y=(e&4)!==0,T=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var _=c,C;_!==null;){C=_;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,x!==null&&(P=Fl(_,x),P!=null&&y.push(Gl(_,P,C)))),T)break;_=_.return}0<y.length&&(p=new v(p,w,null,n,d),h.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Dm&&(w=n.relatedTarget||n.fromElement)&&(us(w)||w[Mr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?us(w):null,w!==null&&(T=Ls(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(y=rw,P="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=sw,P="onPointerLeave",x="onPointerEnter",_="pointer"),T=v==null?p:ho(v),C=w==null?p:ho(w),p=new y(P,_+"leave",v,n,d),p.target=T,p.relatedTarget=C,P=null,us(d)===c&&(y=new y(x,_+"enter",w,n,d),y.target=C,y.relatedTarget=T,P=y),T=P,v&&w)t:{for(y=v,x=w,_=0,C=y;C;C=Xs(C))_++;for(C=0,P=x;P;P=Xs(P))C++;for(;0<_-C;)y=Xs(y),_--;for(;0<C-_;)x=Xs(x),C--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Xs(y),x=Xs(x)}y=null}else y=null;v!==null&&gw(h,p,v,y,!1),w!==null&&T!==null&&gw(h,T,w,y,!0)}}e:{if(p=c?ho(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var M=y6;else if(lw(p))if(M2)M=x6;else{M=w6;var L=_6}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=E6);if(M&&(M=M(t,c))){D2(h,M,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Rm(p,"number",p.value)}switch(L=c?ho(c):window,t){case"focusin":(lw(L)||L.contentEditable==="true")&&(co=L,Um=c,_l=null);break;case"focusout":_l=Um=co=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,fw(h,n,d);break;case"selectionchange":if(S6)break;case"keydown":case"keyup":fw(h,n,d)}var I;if(Wv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else lo?k2(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(P2&&n.locale!=="ko"&&(lo||S!=="onCompositionStart"?S==="onCompositionEnd"&&lo&&(I=b2()):(hi=d,Bv="value"in hi?hi.value:hi.textContent,lo=!0)),L=kd(c,S),0<L.length&&(S=new iw(S,t,null,n,d),h.push({event:S,listeners:L}),I?S.data=I:(I=N2(n),I!==null&&(S.data=I)))),(I=f6?p6(t,n):m6(t,n))&&(c=kd(c,"onBeforeInput"),0<c.length&&(d=new iw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}W2(h,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(t,n),s!=null&&r.unshift(Gl(t,s,i)),s=Fl(t,e),s!=null&&r.push(Gl(t,s,i))),t=t.return}return r}function Xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Fl(n,s),l!=null&&o.unshift(Gl(n,l,a))):i||(l=Fl(n,s),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b6=/\r\n?/g,P6=/\u0000|\uFFFD/g;function vw(t){return(typeof t=="string"?t:""+t).replace(b6,`
`).replace(P6,"")}function Cu(t,e,n){if(e=vw(e),vw(t)!==e&&n)throw Error($(425))}function Nd(){}var $m=null,zm=null;function Wm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hm=typeof setTimeout=="function"?setTimeout:void 0,k6=typeof clearTimeout=="function"?clearTimeout:void 0,yw=typeof Promise=="function"?Promise:void 0,N6=typeof queueMicrotask=="function"?queueMicrotask:typeof yw<"u"?function(t){return yw.resolve(null).then(t).catch(D6)}:Hm;function D6(t){setTimeout(function(){throw t})}function Tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$l(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),$n="__reactFiber$"+ca,Kl="__reactProps$"+ca,Mr="__reactContainer$"+ca,Gm="__reactEvents$"+ca,M6="__reactListeners$"+ca,O6="__reactHandles$"+ca;function us(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_w(t);t!==null;){if(n=t[$n])return n;t=_w(t)}return e}t=n,n=t.parentNode}return null}function Cc(t){return t=t[$n]||t[Mr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Fh(t){return t[Kl]||null}var Km=[],fo=-1;function Hi(t){return{current:t}}function Le(t){0>fo||(t.current=Km[fo],Km[fo]=null,fo--)}function ke(t,e){fo++,Km[fo]=t.current,t.current=e}var Ni={},Dt=Hi(Ni),qt=Hi(!1),ws=Ni;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Dd(){Le(qt),Le(Dt)}function ww(t,e,n){if(Dt.current!==Ni)throw Error($(168));ke(Dt,e),ke(qt,n)}function G2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,_N(t)||"Unknown",i));return $e({},n,r)}function Md(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,ws=Dt.current,ke(Dt,t),ke(qt,qt.current),!0}function Ew(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=G2(t,e,ws),r.__reactInternalMemoizedMergedChildContext=t,Le(qt),Le(Dt),ke(Dt,t)):Le(qt),ke(qt,n)}var yr=null,Uh=!1,Sp=!1;function K2(t){yr===null?yr=[t]:yr.push(t)}function L6(t){Uh=!0,K2(t)}function Gi(){if(!Sp&&yr!==null){Sp=!0;var t=0,e=Ae;try{var n=yr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,Uh=!1}catch(i){throw yr!==null&&(yr=yr.slice(t+1)),y2(Vv,Gi),i}finally{Ae=e,Sp=!1}}return null}var po=[],mo=0,Od=null,Ld=0,fn=[],pn=0,Es=null,wr=1,Er="";function ss(t,e){po[mo++]=Ld,po[mo++]=Od,Od=t,Ld=e}function q2(t,e,n){fn[pn++]=wr,fn[pn++]=Er,fn[pn++]=Es,Es=t;var r=wr;t=Er;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wr=1<<32-Pn(e)+i|n<<i|r,Er=s+t}else wr=1<<s|n<<i|r,Er=t}function Gv(t){t.return!==null&&(ss(t,1),q2(t,1,0))}function Kv(t){for(;t===Od;)Od=po[--mo],po[mo]=null,Ld=po[--mo],po[mo]=null;for(;t===Es;)Es=fn[--pn],fn[pn]=null,Er=fn[--pn],fn[pn]=null,wr=fn[--pn],fn[pn]=null}var tn=null,en=null,Ve=!1,An=null;function Q2(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,en=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:wr,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tn=t,en=null,!0):!1;default:return!1}}function qm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qm(t){if(Ve){var e=en;if(e){var n=e;if(!xw(t,e)){if(qm(t))throw Error($(418));e=_i(n.nextSibling);var r=tn;e&&xw(t,e)?Q2(r,n):(t.flags=t.flags&-4097|2,Ve=!1,tn=t)}}else{if(qm(t))throw Error($(418));t.flags=t.flags&-4097|2,Ve=!1,tn=t}}}function Cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Tu(t){if(t!==tn)return!1;if(!Ve)return Cw(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wm(t.type,t.memoizedProps)),e&&(e=en)){if(qm(t))throw Y2(),Error($(418));for(;e;)Q2(t,e),e=_i(e.nextSibling)}if(Cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=tn?_i(t.stateNode.nextSibling):null;return!0}function Y2(){for(var t=en;t;)t=_i(t.nextSibling)}function $o(){en=tn=null,Ve=!1}function qv(t){An===null?An=[t]:An.push(t)}var V6=zr.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Su(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tw(t){var e=t._init;return e(t._payload)}function X2(t){function e(x,_){if(t){var C=x.deletions;C===null?(x.deletions=[_],x.flags|=16):C.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Ci(x,_),x.index=0,x.sibling=null,x}function s(x,_,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<_?(x.flags|=2,_):C):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,C,P){return _===null||_.tag!==6?(_=Np(C,x.mode,P),_.return=x,_):(_=i(_,C),_.return=x,_)}function l(x,_,C,P){var M=C.type;return M===ao?d(x,_,C.props.children,P,C.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&Tw(M)===_.type)?(P=i(_,C.props),P.ref=Ga(x,_,C),P.return=x,P):(P=rd(C.type,C.key,C.props,null,x.mode,P),P.ref=Ga(x,_,C),P.return=x,P)}function c(x,_,C,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Dp(C,x.mode,P),_.return=x,_):(_=i(_,C.children||[]),_.return=x,_)}function d(x,_,C,P,M){return _===null||_.tag!==7?(_=gs(C,x.mode,P,M),_.return=x,_):(_=i(_,C),_.return=x,_)}function h(x,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Np(""+_,x.mode,C),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case pu:return C=rd(_.type,_.key,_.props,null,x.mode,C),C.ref=Ga(x,null,_),C.return=x,C;case oo:return _=Dp(_,x.mode,C),_.return=x,_;case ri:var P=_._init;return h(x,P(_._payload),C)}if(nl(_)||Ba(_))return _=gs(_,x.mode,C,null),_.return=x,_;Su(x,_)}return null}function p(x,_,C,P){var M=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(x,_,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case pu:return C.key===M?l(x,_,C,P):null;case oo:return C.key===M?c(x,_,C,P):null;case ri:return M=C._init,p(x,_,M(C._payload),P)}if(nl(C)||Ba(C))return M!==null?null:d(x,_,C,P,null);Su(x,C)}return null}function v(x,_,C,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(C)||null,a(_,x,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case pu:return x=x.get(P.key===null?C:P.key)||null,l(_,x,P,M);case oo:return x=x.get(P.key===null?C:P.key)||null,c(_,x,P,M);case ri:var L=P._init;return v(x,_,C,L(P._payload),M)}if(nl(P)||Ba(P))return x=x.get(C)||null,d(_,x,P,M,null);Su(_,P)}return null}function w(x,_,C,P){for(var M=null,L=null,I=_,S=_=0,R=null;I!==null&&S<C.length;S++){I.index>S?(R=I,I=null):R=I.sibling;var b=p(x,I,C[S],P);if(b===null){I===null&&(I=R);break}t&&I&&b.alternate===null&&e(x,I),_=s(b,_,S),L===null?M=b:L.sibling=b,L=b,I=R}if(S===C.length)return n(x,I),Ve&&ss(x,S),M;if(I===null){for(;S<C.length;S++)I=h(x,C[S],P),I!==null&&(_=s(I,_,S),L===null?M=I:L.sibling=I,L=I);return Ve&&ss(x,S),M}for(I=r(x,I);S<C.length;S++)R=v(I,x,S,C[S],P),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),_=s(R,_,S),L===null?M=R:L.sibling=R,L=R);return t&&I.forEach(function(N){return e(x,N)}),Ve&&ss(x,S),M}function y(x,_,C,P){var M=Ba(C);if(typeof M!="function")throw Error($(150));if(C=M.call(C),C==null)throw Error($(151));for(var L=M=null,I=_,S=_=0,R=null,b=C.next();I!==null&&!b.done;S++,b=C.next()){I.index>S?(R=I,I=null):R=I.sibling;var N=p(x,I,b.value,P);if(N===null){I===null&&(I=R);break}t&&I&&N.alternate===null&&e(x,I),_=s(N,_,S),L===null?M=N:L.sibling=N,L=N,I=R}if(b.done)return n(x,I),Ve&&ss(x,S),M;if(I===null){for(;!b.done;S++,b=C.next())b=h(x,b.value,P),b!==null&&(_=s(b,_,S),L===null?M=b:L.sibling=b,L=b);return Ve&&ss(x,S),M}for(I=r(x,I);!b.done;S++,b=C.next())b=v(I,x,S,b.value,P),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?S:b.key),_=s(b,_,S),L===null?M=b:L.sibling=b,L=b);return t&&I.forEach(function(D){return e(x,D)}),Ve&&ss(x,S),M}function T(x,_,C,P){if(typeof C=="object"&&C!==null&&C.type===ao&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case pu:e:{for(var M=C.key,L=_;L!==null;){if(L.key===M){if(M=C.type,M===ao){if(L.tag===7){n(x,L.sibling),_=i(L,C.props.children),_.return=x,x=_;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&Tw(M)===L.type){n(x,L.sibling),_=i(L,C.props),_.ref=Ga(x,L,C),_.return=x,x=_;break e}n(x,L);break}else e(x,L);L=L.sibling}C.type===ao?(_=gs(C.props.children,x.mode,P,C.key),_.return=x,x=_):(P=rd(C.type,C.key,C.props,null,x.mode,P),P.ref=Ga(x,_,C),P.return=x,x=P)}return o(x);case oo:e:{for(L=C.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(x,_.sibling),_=i(_,C.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Dp(C,x.mode,P),_.return=x,x=_}return o(x);case ri:return L=C._init,T(x,_,L(C._payload),P)}if(nl(C))return w(x,_,C,P);if(Ba(C))return y(x,_,C,P);Su(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(x,_.sibling),_=i(_,C),_.return=x,x=_):(n(x,_),_=Np(C,x.mode,P),_.return=x,x=_),o(x)):n(x,_)}return T}var zo=X2(!0),J2=X2(!1),Vd=Hi(null),jd=null,go=null,Qv=null;function Yv(){Qv=go=jd=null}function Xv(t){var e=Vd.current;Le(Vd),t._currentValue=e}function Ym(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bo(t,e){jd=t,Qv=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Qv!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(jd===null)throw Error($(308));go=t,jd.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var ds=null;function Jv(t){ds===null?ds=[t]:ds.push(t)}function Z2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function Zv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Or(t,n)}return i=r.interleaved,i===null?(e.next=e,Jv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Or(t,n)}function Xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}function Sw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(p=e,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){h=w.call(v,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,p=typeof w=="function"?w.call(v,h,p):w,p==null)break e;h=$e({},h,p);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Cs|=o,t.lanes=o,t.memoizedState=h}}function Iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Tc={},Kn=Hi(Tc),ql=Hi(Tc),Ql=Hi(Tc);function hs(t){if(t===Tc)throw Error($(174));return t}function ey(t,e){switch(ke(Ql,e),ke(ql,t),ke(Kn,Tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pm(e,t)}Le(Kn),ke(Kn,e)}function Wo(){Le(Kn),Le(ql),Le(Ql)}function tS(t){hs(Ql.current);var e=hs(Kn.current),n=Pm(e,t.type);e!==n&&(ke(ql,t),ke(Kn,n))}function ty(t){ql.current===t&&(Le(Kn),Le(ql))}var Fe=Hi(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ip=[];function ny(){for(var t=0;t<Ip.length;t++)Ip[t]._workInProgressVersionPrimary=null;Ip.length=0}var Ju=zr.ReactCurrentDispatcher,Ap=zr.ReactCurrentBatchConfig,xs=0,Be=null,tt=null,at=null,Bd=!1,wl=!1,Yl=0,j6=0;function Tt(){throw Error($(321))}function ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function iy(t,e,n,r,i,s){if(xs=s,Be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?$6:z6,t=n(r,i),wl){s=0;do{if(wl=!1,Yl=0,25<=s)throw Error($(301));s+=1,at=tt=null,e.updateQueue=null,Ju.current=W6,t=n(r,i)}while(wl)}if(Ju.current=$d,e=tt!==null&&tt.next!==null,xs=0,at=tt=Be=null,Bd=!1,e)throw Error($(300));return t}function sy(){var t=Yl!==0;return Yl=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Be.memoizedState=at=t:at=at.next=t,at}function En(){if(tt===null){var t=Be.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=at===null?Be.memoizedState:at.next;if(e!==null)at=e,tt=t;else{if(t===null)throw Error($(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Be.memoizedState=at=t:at=at.next=t}return at}function Xl(t,e){return typeof e=="function"?e(t):e}function Rp(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((xs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Be.lanes|=d,Cs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Nn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Be.lanes|=s,Cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bp(t){var e=En(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nS(){}function rS(t,e){var n=Be,r=En(),i=e(),s=!Nn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,oy(oS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Jl(9,sS.bind(null,n,r,i,e),void 0,null),ct===null)throw Error($(349));xs&30||iS(n,e,i)}return i}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,aS(e)&&lS(t)}function oS(t,e,n){return n(function(){aS(e)&&lS(t)})}function aS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function lS(t){var e=Or(t,1);e!==null&&kn(e,t,1,-1)}function Aw(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=B6.bind(null,Be,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Be.updateQueue,e===null?(e={lastEffect:null,stores:null},Be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cS(){return En().memoizedState}function Zu(t,e,n,r){var i=Un();Be.flags|=t,i.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,r!==null&&ry(r,o.deps)){i.memoizedState=Jl(e,n,s,r);return}}Be.flags|=t,i.memoizedState=Jl(1|e,n,s,r)}function Rw(t,e){return Zu(8390656,8,t,e)}function oy(t,e){return Bh(2048,8,t,e)}function uS(t,e){return Bh(4,2,t,e)}function dS(t,e){return Bh(4,4,t,e)}function hS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fS(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,hS.bind(null,e,t),n)}function ay(){}function pS(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gS(t,e,n){return xs&21?(Nn(n,e)||(n=E2(),Be.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function F6(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Ap.transition;Ap.transition={};try{t(!1),e()}finally{Ae=n,Ap.transition=r}}function vS(){return En().memoizedState}function U6(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yS(t))_S(e,n);else if(n=Z2(t,e,n,r),n!==null){var i=Ft();kn(n,t,r,i),wS(n,e,r)}}function B6(t,e,n){var r=xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yS(t))_S(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(i.next=i,Jv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Z2(t,e,i,r),n!==null&&(i=Ft(),kn(n,t,r,i),wS(n,e,r))}}function yS(t){var e=t.alternate;return t===Be||e!==null&&e===Be}function _S(t,e){wl=Bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jv(t,n)}}var $d={readContext:wn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},$6={readContext:wn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Rw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4194308,4,hS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zu(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=U6.bind(null,Be,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:Aw,useDebugValue:ay,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=Aw(!1),e=t[0];return t=F6.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Be,i=Un();if(Ve){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),ct===null)throw Error($(349));xs&30||iS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Rw(oS.bind(null,r,s,t),[t]),r.flags|=2048,Jl(9,sS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=ct.identifierPrefix;if(Ve){var n=Er,r=wr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=j6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z6={readContext:wn,useCallback:pS,useContext:wn,useEffect:oy,useImperativeHandle:fS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:Rp,useRef:cS,useState:function(){return Rp(Xl)},useDebugValue:ay,useDeferredValue:function(t){var e=En();return gS(e,tt.memoizedState,t)},useTransition:function(){var t=Rp(Xl)[0],e=En().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1},W6={readContext:wn,useCallback:pS,useContext:wn,useEffect:oy,useImperativeHandle:fS,useInsertionEffect:uS,useLayoutEffect:dS,useMemo:mS,useReducer:bp,useRef:cS,useState:function(){return bp(Xl)},useDebugValue:ay,useDeferredValue:function(t){var e=En();return tt===null?e.memoizedState=t:gS(e,tt.memoizedState,t)},useTransition:function(){var t=bp(Xl)[0],e=En().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:vS,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $h={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=xi(t),s=Ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(kn(e,t,i,r),Xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),i=xi(t),s=Ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(kn(e,t,i,r),Xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=xi(t),i=Ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(kn(e,t,r,n),Xu(e,t,r))}};function bw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wl(n,r)||!Wl(i,s):!0}function ES(t,e,n){var r=!1,i=Ni,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Qt(e)?ws:Dt.current,r=e.contextTypes,s=(r=r!=null)?Bo(t,i):Ni),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$h.enqueueReplaceState(e,e.state,null)}function Jm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Qt(e)?ws:Dt.current,i.context=Bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$h.enqueueReplaceState(i,i.state,null),Fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ho(t,e){try{var n="",r=e;do n+=yN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H6=typeof WeakMap=="function"?WeakMap:Map;function xS(t,e,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,cg=r),Zm(t,e)},n}function CS(t,e,n){n=Ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zm(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s9.bind(null,t,e,n),e.then(t,t))}function Nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ir(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var G6=zr.ReactCurrentOwner,Kt=!1;function Vt(t,e,n,r){e.child=t===null?J2(e,null,n,r):zo(e,t.child,n,r)}function Mw(t,e,n,r,i){n=n.render;var s=e.ref;return bo(e,i),r=iy(t,e,n,r,s,i),n=sy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Ve&&n&&Gv(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Ow(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!my(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,TS(t,e,s,r,i)):(t=rd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(o,r)&&t.ref===e.ref)return Lr(t,e,i)}return e.flags|=1,t=Ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function TS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wl(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Lr(t,e,i)}return eg(t,e,n,r,i)}function SS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(yo,Jt),Jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(yo,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(yo,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(yo,Jt),Jt|=r;return Vt(t,e,i,n),e.child}function IS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function eg(t,e,n,r,i){var s=Qt(n)?ws:Dt.current;return s=Bo(e,s),bo(e,i),n=iy(t,e,n,r,s,i),r=sy(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lr(t,e,i)):(Ve&&r&&Gv(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Lw(t,e,n,r,i){if(Qt(n)){var s=!0;Md(e)}else s=!1;if(bo(e,i),e.stateNode===null)ed(t,e),ES(e,n,r),Jm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Qt(n)?ws:Dt.current,c=Bo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Pw(e,o,r,c),ii=!1;var p=e.memoizedState;o.state=p,Fd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||qt.current||ii?(typeof d=="function"&&(Xm(e,n,d,r),l=e.memoizedState),(a=ii||bw(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Sn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Qt(n)?ws:Dt.current,l=Bo(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Pw(e,o,r,l),ii=!1,p=e.memoizedState,o.state=p,Fd(e,r,o,i);var w=e.memoizedState;a!==h||p!==w||qt.current||ii?(typeof v=="function"&&(Xm(e,n,v,r),w=e.memoizedState),(c=ii||bw(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return tg(t,e,n,r,s,i)}function tg(t,e,n,r,i,s){IS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ew(e,n,!1),Lr(t,e,s);r=e.stateNode,G6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,s),e.child=zo(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&Ew(e,n,!0),e.child}function AS(t){var e=t.stateNode;e.pendingContext?ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ww(t,e.context,!1),ey(t,e.containerInfo)}function Vw(t,e,n,r,i){return $o(),qv(i),e.flags|=256,Vt(t,e,n,r),e.child}var ng={dehydrated:null,treeContext:null,retryLane:0};function rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function RS(t,e,n){var r=e.pendingProps,i=Fe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Fe,i&1),t===null)return Qm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hh(o,r,0,null),t=gs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rg(n),e.memoizedState=ng,t):ly(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return K6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ci(a,s):(s=gs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ng,r}return s=t.child,t=s.sibling,r=Ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ly(t,e){return e=Hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&qv(r),zo(e,t.child,null,n),t=ly(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function K6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pp(Error($(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hh({mode:"visible",children:r.children},i,0,null),s=gs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=rg(o),e.memoizedState=ng,s);if(!(e.mode&1))return Iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($(419)),r=Pp(s,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Or(t,i),kn(r,t,i,-1))}return py(),r=Pp(Error($(421))),Iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=o9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=_i(i.nextSibling),tn=e,Ve=!0,An=null,t!==null&&(fn[pn++]=wr,fn[pn++]=Er,fn[pn++]=Es,wr=t.id,Er=t.overflow,Es=e),e=ly(e,r.children),e.flags|=4096,e)}function jw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ym(t.return,e,n)}function kp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jw(t,n,e);else if(t.tag===19)jw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kp(e,!0,n,null,s);break;case"together":kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q6(t,e,n){switch(e.tag){case 3:AS(e),$o();break;case 5:tS(e);break;case 1:Qt(e.type)&&Md(e);break;case 4:ey(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Vd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?RS(t,e,n):(ke(Fe,Fe.current&1),t=Lr(t,e,n),t!==null?t.sibling:null);ke(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,SS(t,e,n)}return Lr(t,e,n)}var PS,ig,kS,NS;PS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ig=function(){};kS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,hs(Kn.current);var s=null;switch(n){case"input":i=Im(t,i),r=Im(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=bm(t,i),r=bm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nd)}km(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function St(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q6(t,e,n){var r=e.pendingProps;switch(Kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(e),null;case 1:return Qt(e.type)&&Dd(),St(e),null;case 3:return r=e.stateNode,Wo(),Le(qt),Le(Dt),ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(hg(An),An=null))),ig(t,e),St(e),null;case 5:ty(e);var i=hs(Ql.current);if(n=e.type,t!==null&&e.stateNode!=null)kS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return St(e),null}if(t=hs(Kn.current),Tu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$n]=e,r[Kl]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<il.length;i++)Me(il[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":K_(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":Q_(r,s),Me("invalid",r)}km(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":mu(r),q_(r,s,!0);break;case"textarea":mu(r),Y_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=o2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$n]=e,t[Kl]=r,PS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nm(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<il.length;i++)Me(il[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":K_(t,r),i=Im(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Q_(t,r),i=bm(t,r),Me("invalid",t);break;default:i=r}km(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?c2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jl(t,l):typeof l=="number"&&jl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&Nv(t,s,l,o))}switch(n){case"input":mu(t),q_(t,r,!1);break;case"textarea":mu(t),Y_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?So(t,!!r.multiple,s,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return St(e),null;case 6:if(t&&e.stateNode!=null)NS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=hs(Ql.current),hs(Kn.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(s=r.nodeValue!==n)&&(t=tn,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return St(e),null;case 13:if(Le(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&en!==null&&e.mode&1&&!(e.flags&128))Y2(),$o(),e.flags|=98560,s=!1;else if(s=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[$n]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;St(e),s=!1}else An!==null&&(hg(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?nt===0&&(nt=3):py())),e.updateQueue!==null&&(e.flags|=4),St(e),null);case 4:return Wo(),ig(t,e),t===null&&Hl(e.stateNode.containerInfo),St(e),null;case 10:return Xv(e.type._context),St(e),null;case 17:return Qt(e.type)&&Dd(),St(e),null;case 19:if(Le(Fe),s=e.memoizedState,s===null)return St(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qe()>Go&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return St(e),null}else 2*Qe()-s.renderingStartTime>Go&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qe(),e.sibling=null,n=Fe.current,ke(Fe,r?n&1|2:n&1),e):(St(e),null);case 22:case 23:return fy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(St(e),e.subtreeFlags&6&&(e.flags|=8192)):St(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function Y6(t,e){switch(Kv(e),e.tag){case 1:return Qt(e.type)&&Dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),Le(qt),Le(Dt),ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ty(e),null;case 13:if(Le(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Fe),null;case 4:return Wo(),null;case 10:return Xv(e.type._context),null;case 22:case 23:return fy(),null;case 24:return null;default:return null}}var Au=!1,kt=!1,X6=typeof WeakSet=="function"?WeakSet:Set,K=null;function vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function sg(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var Fw=!1;function J6(t,e){if($m=bd,t=V2(),Hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zm={focusedElem:t,selectionRange:n},bd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,T=w.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Sn(e.type,y),T);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(P){Ge(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=Fw,Fw=!1,w}function El(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sg(e,n,s)}i=i.next}while(i!==r)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DS(t){var e=t.alternate;e!==null&&(t.alternate=null,DS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[Kl],delete e[Gm],delete e[M6],delete e[O6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MS(t){return t.tag===5||t.tag===3||t.tag===4}function Uw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ag(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nd));else if(r!==4&&(t=t.child,t!==null))for(ag(t,e,n),t=t.sibling;t!==null;)ag(t,e,n),t=t.sibling}function lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lg(t,e,n),t=t.sibling;t!==null;)lg(t,e,n),t=t.sibling}var pt=null,In=!1;function Yr(t,e,n){for(n=n.child;n!==null;)OS(t,e,n),n=n.sibling}function OS(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Oh,n)}catch{}switch(n.tag){case 5:kt||vo(n,e);case 6:var r=pt,i=In;pt=null,Yr(t,e,n),pt=r,In=i,pt!==null&&(In?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(In?(t=pt,n=n.stateNode,t.nodeType===8?Tp(t.parentNode,n):t.nodeType===1&&Tp(t,n),$l(t)):Tp(pt,n.stateNode));break;case 4:r=pt,i=In,pt=n.stateNode.containerInfo,In=!0,Yr(t,e,n),pt=r,In=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sg(n,e,o),i=i.next}while(i!==r)}Yr(t,e,n);break;case 1:if(!kt&&(vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Yr(t,e,n),kt=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function Bw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new X6),e.forEach(function(r){var i=a9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,In=!1;break e;case 3:pt=a.stateNode.containerInfo,In=!0;break e;case 4:pt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(pt===null)throw Error($(160));OS(s,o,i),pt=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LS(e,t),e=e.sibling}function LS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Fn(t),r&4){try{El(3,t,t.return),zh(3,t)}catch(y){Ge(t,t.return,y)}try{El(5,t,t.return)}catch(y){Ge(t,t.return,y)}}break;case 1:Cn(e,t),Fn(t),r&512&&n!==null&&vo(n,n.return);break;case 5:if(Cn(e,t),Fn(t),r&512&&n!==null&&vo(n,n.return),t.flags&32){var i=t.stateNode;try{jl(i,"")}catch(y){Ge(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&i2(i,s),Nm(a,o);var c=Nm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?c2(i,h):d==="dangerouslySetInnerHTML"?a2(i,h):d==="children"?jl(i,h):Nv(i,d,h,c)}switch(a){case"input":Am(i,s);break;case"textarea":s2(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?So(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?So(i,!!s.multiple,s.defaultValue,!0):So(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kl]=s}catch(y){Ge(t,t.return,y)}}break;case 6:if(Cn(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ge(t,t.return,y)}}break;case 3:if(Cn(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(y){Ge(t,t.return,y)}break;case 4:Cn(e,t),Fn(t);break;case 13:Cn(e,t),Fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dy=Qe())),r&4&&Bw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(c=kt)||d,Cn(e,t),kt=c):Cn(e,t),Fn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,v=p.child,p.tag){case 0:case 11:case 14:case 15:El(4,p,p.return);break;case 1:vo(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){Ge(r,n,y)}}break;case 5:vo(p,p.return);break;case 22:if(p.memoizedState!==null){zw(h);continue}}v!==null?(v.return=p,K=v):zw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=l2("display",o))}catch(y){Ge(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ge(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Cn(e,t),Fn(t),r&4&&Bw(t);break;case 21:break;default:Cn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MS(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jl(i,""),r.flags&=-33);var s=Uw(t);lg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Uw(t);ag(t,a,o);break;default:throw Error($(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z6(t,e,n){K=t,VS(t)}function VS(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Au;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Au;var c=kt;if(Au=o,(kt=l)&&!c)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?Ww(i):l!==null?(l.return=o,K=l):Ww(i);for(;s!==null;)K=s,VS(s),s=s.sibling;K=i,Au=a,kt=c}$w(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):$w(t)}}function $w(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Iw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$l(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}kt||e.flags&512&&og(e)}catch(p){Ge(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function zw(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function Ww(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{og(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{og(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var e9=Math.ceil,zd=zr.ReactCurrentDispatcher,cy=zr.ReactCurrentOwner,yn=zr.ReactCurrentBatchConfig,_e=0,ct=null,Je=null,vt=0,Jt=0,yo=Hi(0),nt=0,Zl=null,Cs=0,Wh=0,uy=0,xl=null,Ht=null,dy=0,Go=1/0,vr=null,Wd=!1,cg=null,Ei=null,Ru=!1,fi=null,Hd=0,Cl=0,ug=null,td=-1,nd=0;function Ft(){return _e&6?Qe():td!==-1?td:td=Qe()}function xi(t){return t.mode&1?_e&2&&vt!==0?vt&-vt:V6.transition!==null?(nd===0&&(nd=E2()),nd):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:R2(t.type)),t):1}function kn(t,e,n,r){if(50<Cl)throw Cl=0,ug=null,Error($(185));Ec(t,n,r),(!(_e&2)||t!==ct)&&(t===ct&&(!(_e&2)&&(Wh|=n),nt===4&&ai(t,vt)),Yt(t,r),n===1&&_e===0&&!(e.mode&1)&&(Go=Qe()+500,Uh&&Gi()))}function Yt(t,e){var n=t.callbackNode;VN(t,e);var r=Rd(t,t===ct?vt:0);if(r===0)n!==null&&Z_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z_(n),e===1)t.tag===0?L6(Hw.bind(null,t)):K2(Hw.bind(null,t)),N6(function(){!(_e&6)&&Gi()}),n=null;else{switch(x2(r)){case 1:n=Vv;break;case 4:n=_2;break;case 16:n=Ad;break;case 536870912:n=w2;break;default:n=Ad}n=HS(n,jS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jS(t,e){if(td=-1,nd=0,_e&6)throw Error($(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=Rd(t,t===ct?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gd(t,r);else{e=r;var i=_e;_e|=2;var s=US();(ct!==t||vt!==e)&&(vr=null,Go=Qe()+500,ms(t,e));do try{r9();break}catch(a){FS(t,a)}while(!0);Yv(),zd.current=s,_e=i,Je!==null?e=0:(ct=null,vt=0,e=nt)}if(e!==0){if(e===2&&(i=Vm(t),i!==0&&(r=i,e=dg(t,i))),e===1)throw n=Zl,ms(t,0),ai(t,r),Yt(t,Qe()),n;if(e===6)ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!t9(i)&&(e=Gd(t,r),e===2&&(s=Vm(t),s!==0&&(r=s,e=dg(t,s))),e===1))throw n=Zl,ms(t,0),ai(t,r),Yt(t,Qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:os(t,Ht,vr);break;case 3:if(ai(t,r),(r&130023424)===r&&(e=dy+500-Qe(),10<e)){if(Rd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hm(os.bind(null,t,Ht,vr),e);break}os(t,Ht,vr);break;case 4:if(ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e9(r/1960))-r,10<r){t.timeoutHandle=Hm(os.bind(null,t,Ht,vr),r);break}os(t,Ht,vr);break;case 5:os(t,Ht,vr);break;default:throw Error($(329))}}}return Yt(t,Qe()),t.callbackNode===n?jS.bind(null,t):null}function dg(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=Gd(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&hg(e)),t}function hg(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function t9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~uy,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Hw(t){if(_e&6)throw Error($(327));Po();var e=Rd(t,0);if(!(e&1))return Yt(t,Qe()),null;var n=Gd(t,e);if(t.tag!==0&&n===2){var r=Vm(t);r!==0&&(e=r,n=dg(t,r))}if(n===1)throw n=Zl,ms(t,0),ai(t,e),Yt(t,Qe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Ht,vr),Yt(t,Qe()),null}function hy(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(Go=Qe()+500,Uh&&Gi())}}function Ts(t){fi!==null&&fi.tag===0&&!(_e&6)&&Po();var e=_e;_e|=1;var n=yn.transition,r=Ae;try{if(yn.transition=null,Ae=1,t)return t()}finally{Ae=r,yn.transition=n,_e=e,!(_e&6)&&Gi()}}function fy(){Jt=yo.current,Le(yo)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k6(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dd();break;case 3:Wo(),Le(qt),Le(Dt),ny();break;case 5:ty(r);break;case 4:Wo();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:Xv(r.type._context);break;case 22:case 23:fy()}n=n.return}if(ct=t,Je=t=Ci(t.current,null),vt=Jt=e,nt=0,Zl=null,uy=Wh=Cs=0,Ht=xl=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ds=null}return t}function FS(t,e){do{var n=Je;try{if(Yv(),Ju.current=$d,Bd){for(var r=Be.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bd=!1}if(xs=0,at=tt=Be=null,wl=!1,Yl=0,cy.current=null,n===null||n.return===null){nt=1,Zl=e,Je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Nw(o);if(v!==null){v.flags&=-257,Dw(v,o,a,s,e),v.mode&1&&kw(s,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){kw(s,c,e),py();break e}l=Error($(426))}}else if(Ve&&a.mode&1){var T=Nw(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Dw(T,o,a,s,e),qv(Ho(l,a));break e}}s=l=Ho(l,a),nt!==4&&(nt=2),xl===null?xl=[s]:xl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=xS(s,l,e);Sw(s,x);break e;case 1:a=l;var _=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ei===null||!Ei.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=CS(s,a,e);Sw(s,P);break e}}s=s.return}while(s!==null)}$S(n)}catch(M){e=M,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function US(){var t=zd.current;return zd.current=$d,t===null?$d:t}function py(){(nt===0||nt===3||nt===2)&&(nt=4),ct===null||!(Cs&268435455)&&!(Wh&268435455)||ai(ct,vt)}function Gd(t,e){var n=_e;_e|=2;var r=US();(ct!==t||vt!==e)&&(vr=null,ms(t,e));do try{n9();break}catch(i){FS(t,i)}while(!0);if(Yv(),_e=n,zd.current=r,Je!==null)throw Error($(261));return ct=null,vt=0,nt}function n9(){for(;Je!==null;)BS(Je)}function r9(){for(;Je!==null&&!RN();)BS(Je)}function BS(t){var e=WS(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?$S(t):Je=e,cy.current=null}function $S(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Y6(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Je=null;return}}else if(n=Q6(n,e,Jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);nt===0&&(nt=5)}function os(t,e,n){var r=Ae,i=yn.transition;try{yn.transition=null,Ae=1,i9(t,e,n,r)}finally{yn.transition=i,Ae=r}return null}function i9(t,e,n,r){do Po();while(fi!==null);if(_e&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jN(t,s),t===ct&&(Je=ct=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,HS(Ad,function(){return Po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=Ae;Ae=1;var a=_e;_e|=4,cy.current=null,J6(t,n),LS(n,t),T6(zm),bd=!!$m,zm=$m=null,t.current=n,Z6(n),bN(),_e=a,Ae=o,yn.transition=s}else t.current=n;if(Ru&&(Ru=!1,fi=t,Hd=i),s=t.pendingLanes,s===0&&(Ei=null),NN(n.stateNode),Yt(t,Qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,t=cg,cg=null,t;return Hd&1&&t.tag!==0&&Po(),s=t.pendingLanes,s&1?t===ug?Cl++:(Cl=0,ug=t):Cl=0,Gi(),null}function Po(){if(fi!==null){var t=x2(Hd),e=yn.transition,n=Ae;try{if(yn.transition=null,Ae=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,Hd=0,_e&6)throw Error($(331));var i=_e;for(_e|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:El(8,d,s)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,v=d.return;if(DS(d),d===c){K=null;break}if(p!==null){p.return=v,K=p;break}K=v}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:El(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,K=x;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,K=C;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zh(9,a)}}catch(M){Ge(a,a.return,M)}if(a===o){K=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,K=P;break e}K=a.return}}if(_e=i,Gi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Oh,t)}catch{}r=!0}return r}finally{Ae=n,yn.transition=e}}return!1}function Gw(t,e,n){e=Ho(n,e),e=xS(t,e,1),t=wi(t,e,1),e=Ft(),t!==null&&(Ec(t,1,e),Yt(t,e))}function Ge(t,e,n){if(t.tag===3)Gw(t,t,n);else for(;e!==null;){if(e.tag===3){Gw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=Ho(n,t),t=CS(e,t,1),e=wi(e,t,1),t=Ft(),e!==null&&(Ec(e,1,t),Yt(e,t));break}}e=e.return}}function s9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(vt&n)===n&&(nt===4||nt===3&&(vt&130023424)===vt&&500>Qe()-dy?ms(t,0):uy|=n),Yt(t,e)}function zS(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=Ft();t=Or(t,e),t!==null&&(Ec(t,e,n),Yt(t,n))}function o9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zS(t,n)}function a9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),zS(t,n)}var WS;WS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,q6(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Ve&&e.flags&1048576&&q2(e,Ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var i=Bo(e,Dt.current);bo(e,n),i=iy(null,e,r,t,i,n);var s=sy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,Md(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zv(e),i.updater=$h,e.stateNode=i,i._reactInternals=e,Jm(e,r,t,n),e=tg(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&Gv(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c9(r),t=Sn(r,t),i){case 0:e=eg(null,e,r,t,n);break e;case 1:e=Lw(null,e,r,t,n);break e;case 11:e=Mw(null,e,r,t,n);break e;case 14:e=Ow(null,e,r,Sn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),eg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Lw(t,e,r,i,n);case 3:e:{if(AS(e),t===null)throw Error($(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eS(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ho(Error($(423)),e),e=Vw(t,e,r,n,i);break e}else if(r!==i){i=Ho(Error($(424)),e),e=Vw(t,e,r,n,i);break e}else for(en=_i(e.stateNode.containerInfo.firstChild),tn=e,Ve=!0,An=null,n=J2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===i){e=Lr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return tS(e),t===null&&Qm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wm(r,i)?o=null:s!==null&&Wm(r,s)&&(e.flags|=32),IS(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Qm(e),null;case 13:return RS(t,e,n);case 4:return ey(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Mw(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Vd,r._currentValue),r._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!qt.current){e=Lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ir(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ym(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ym(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bo(e,n),i=wn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),Ow(t,e,r,i,n);case 15:return TS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),ed(t,e),e.tag=1,Qt(r)?(t=!0,Md(e)):t=!1,bo(e,n),ES(e,r,i),Jm(e,r,i,n),tg(null,e,r,!0,t,n);case 19:return bS(t,e,n);case 22:return SS(t,e,n)}throw Error($(156,e.tag))};function HS(t,e){return y2(t,e)}function l9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new l9(t,e,n,r)}function my(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c9(t){if(typeof t=="function")return my(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mv)return 11;if(t===Ov)return 14}return 2}function Ci(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")my(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ao:return gs(n.children,i,s,e);case Dv:o=8,i|=8;break;case xm:return t=vn(12,n,e,i|2),t.elementType=xm,t.lanes=s,t;case Cm:return t=vn(13,n,e,i),t.elementType=Cm,t.lanes=s,t;case Tm:return t=vn(19,n,e,i),t.elementType=Tm,t.lanes=s,t;case t2:return Hh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ZT:o=10;break e;case e2:o=9;break e;case Mv:o=11;break e;case Ov:o=14;break e;case ri:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gs(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Hh(t,e,n,r){return t=vn(22,t,r,e),t.elementType=t2,t.lanes=n,t.stateNode={isHidden:!1},t}function Np(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Dp(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fp(0),this.expirationTimes=fp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gy(t,e,n,r,i,s,o,a,l){return t=new u9(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(s),t}function d9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GS(t){if(!t)return Ni;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Qt(n))return G2(t,n,e)}return e}function KS(t,e,n,r,i,s,o,a,l){return t=gy(n,r,!0,t,i,s,o,a,l),t.context=GS(null),n=t.current,r=Ft(),i=xi(n),s=Ir(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,Ec(t,i,r),Yt(t,r),t}function Gh(t,e,n,r){var i=e.current,s=Ft(),o=xi(i);return n=GS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(kn(t,i,o,s),Xu(t,i,o)),o}function Kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vy(t,e){Kw(t,e),(t=t.alternate)&&Kw(t,e)}function h9(){return null}var qS=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Kh.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Gh(t,e,null,null)};Kh.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){Gh(null,t,null,null)}),e[Mr]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&A2(t)}};function _y(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qw(){}function f9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Kd(o);s.call(c)}}var o=KS(e,r,t,0,null,!1,!1,"",qw);return t._reactRootContainer=o,t[Mr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kd(l);a.call(c)}}var l=gy(t,0,!1,null,null,!1,!1,"",qw);return t._reactRootContainer=l,t[Mr]=l.current,Hl(t.nodeType===8?t.parentNode:t),Ts(function(){Gh(e,l,n,r)}),l}function Qh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kd(o);a.call(l)}}Gh(e,o,t,i)}else o=f9(n,e,t,i,r);return Kd(o)}C2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rl(e.pendingLanes);n!==0&&(jv(e,n|1),Yt(e,Qe()),!(_e&6)&&(Go=Qe()+500,Gi()))}break;case 13:Ts(function(){var r=Or(t,1);if(r!==null){var i=Ft();kn(r,t,1,i)}}),vy(t,1)}};Fv=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=Ft();kn(e,t,134217728,n)}vy(t,134217728)}};T2=function(t){if(t.tag===13){var e=xi(t),n=Or(t,e);if(n!==null){var r=Ft();kn(n,t,e,r)}vy(t,e)}};S2=function(){return Ae};I2=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Mm=function(t,e,n){switch(e){case"input":if(Am(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fh(r);if(!i)throw Error($(90));r2(r),Am(r,i)}}}break;case"textarea":s2(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};h2=hy;f2=Ts;var p9={usingClientEntryPoint:!1,Events:[Cc,ho,Fh,u2,d2,hy]},qa={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m9={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=g2(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||h9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Oh=bu.inject(m9),Gn=bu}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p9;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_y(e))throw Error($(200));return d9(t,e,null,n)};cn.createRoot=function(t,e){if(!_y(t))throw Error($(299));var n=!1,r="",i=qS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gy(t,1,!1,null,null,n,!1,r,i),t[Mr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new yy(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=g2(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Ts(t)};cn.hydrate=function(t,e,n){if(!qh(e))throw Error($(200));return Qh(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!_y(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KS(e,null,t,1,n??null,i,!1,s,o),t[Mr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kh(e)};cn.render=function(t,e,n){if(!qh(e))throw Error($(200));return Qh(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!qh(t))throw Error($(40));return t._reactRootContainer?(Ts(function(){Qh(null,null,t,!1,function(){t._reactRootContainer=null,t[Mr]=null})}),!0):!1};cn.unstable_batchedUpdates=hy;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Qh(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(t){console.error(t)}}QS(),QT.exports=cn;var ua=QT.exports;const g9=LT(ua);var YS,Qw=ua;YS=Qw.createRoot,Qw.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const Yw="popstate";function v9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:qd(i)}return _9(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y9(){return Math.random().toString(36).substr(2,8)}function Xw(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n,r){return n===void 0&&(n=null),ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?da(e):e,{state:n,key:e&&e.key||r||y9()})}function qd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ec({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=pi.Pop;let T=d(),x=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:x})}function p(T,x){a=pi.Push;let _=fg(y.location,T,x);c=d()+1;let C=Xw(_,c),P=y.createHref(_);try{o.pushState(C,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}s&&l&&l({action:a,location:y.location,delta:1})}function v(T,x){a=pi.Replace;let _=fg(y.location,T,x);c=d();let C=Xw(_,c),P=y.createHref(_);o.replaceState(C,"",P),s&&l&&l({action:a,location:y.location,delta:0})}function w(T){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof T=="string"?T:qd(T);return _=_.replace(/ $/,"%20"),Ye(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let y={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yw,h),l=T,()=>{i.removeEventListener(Yw,h),l=null}},createHref(T){return e(i,T)},createURL:w,encodeLocation(T){let x=w(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(T){return o.go(T)}};return y}var Jw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jw||(Jw={}));function w9(t,e,n){return n===void 0&&(n="/"),E9(t,e,n,!1)}function E9(t,e,n,r){let i=typeof e=="string"?da(e):e,s=wy(i.pathname||"/",n);if(s==null)return null;let o=JS(t);x9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=D9(s);a=k9(o[l],c,r)}return a}function JS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ti([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JS(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:b9(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ZS(s.path))i(s,o,l)}),e}function ZS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function x9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C9=/^:[\w-]+$/,T9=3,S9=2,I9=1,A9=10,R9=-2,Zw=t=>t==="*";function b9(t,e){let n=t.split("/"),r=n.length;return n.some(Zw)&&(r+=R9),e&&(r+=S9),n.filter(i=>!Zw(i)).reduce((i,s)=>i+(C9.test(s)?T9:s===""?I9:A9),r)}function P9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function k9(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ti([s,h.pathname]),pathnameBase:V9(Ti([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Ti([s,h.pathnameBase]))}return o}function eE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[h];return v&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function N9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),XS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function D9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function M9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?da(t):t;return{pathname:n?n.startsWith("/")?n:O9(n,e):e,search:j9(r),hash:F9(i)}}function O9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ey(t,e){let n=L9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=da(t):(i=ec({},t),Ye(!i.pathname||!i.pathname.includes("?"),Mp("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),Mp("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),Mp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=M9(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),V9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eI=["post","put","patch","delete"];new Set(eI);const B9=["get",...eI];new Set(B9);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}const Cy=g.createContext(null),$9=g.createContext(null),Ki=g.createContext(null),Yh=g.createContext(null),ar=g.createContext({outlet:null,matches:[],isDataRoute:!1}),tI=g.createContext(null);function z9(t,e){let{relative:n}=e===void 0?{}:e;ha()||Ye(!1);let{basename:r,navigator:i}=g.useContext(Ki),{hash:s,pathname:o,search:a}=rI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ti([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ha(){return g.useContext(Yh)!=null}function Sc(){return ha()||Ye(!1),g.useContext(Yh).location}function nI(t){g.useContext(Ki).static||g.useLayoutEffect(t)}function fa(){let{isDataRoute:t}=g.useContext(ar);return t?s7():W9()}function W9(){ha()||Ye(!1);let t=g.useContext(Cy),{basename:e,future:n,navigator:r}=g.useContext(Ki),{matches:i}=g.useContext(ar),{pathname:s}=Sc(),o=JSON.stringify(Ey(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return nI(()=>{a.current=!0}),g.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=xy(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ti([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const H9=g.createContext(null);function G9(t){let e=g.useContext(ar).outlet;return e&&g.createElement(H9.Provider,{value:t},e)}function K9(){let{matches:t}=g.useContext(ar),e=t[t.length-1];return e?e.params:{}}function rI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Ki),{matches:i}=g.useContext(ar),{pathname:s}=Sc(),o=JSON.stringify(Ey(i,r.v7_relativeSplatPath));return g.useMemo(()=>xy(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function q9(t,e){return Q9(t,e)}function Q9(t,e,n,r){ha()||Ye(!1);let{navigator:i}=g.useContext(Ki),{matches:s}=g.useContext(ar),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Sc(),d;if(e){var h;let T=typeof e=="string"?da(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||Ye(!1),d=T}else d=c;let p=d.pathname||"/",v=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=w9(t,{pathname:v}),y=e7(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ti([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ti([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&y?g.createElement(Yh.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pi.Pop}},y):y}function Y9(){let t=i7(),e=U9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const X9=g.createElement(Y9,null);class J9 extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(ar.Provider,{value:this.props.routeContext},g.createElement(tI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z9(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(Cy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ar.Provider,{value:e},r)}function e7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ye(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:v}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let v,w=!1,y=null,T=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||X9,l&&(c<0&&p===0?(w=!0,T=null):c===p&&(w=!0,T=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let C;return v?C=y:w?C=T:h.route.Component?C=g.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,g.createElement(Z9,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?g.createElement(J9,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var iI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iI||{}),Qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qd||{});function t7(t){let e=g.useContext(Cy);return e||Ye(!1),e}function n7(t){let e=g.useContext($9);return e||Ye(!1),e}function r7(t){let e=g.useContext(ar);return e||Ye(!1),e}function sI(t){let e=r7(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function i7(){var t;let e=g.useContext(tI),n=n7(Qd.UseRouteError),r=sI(Qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s7(){let{router:t}=t7(iI.UseNavigateStable),e=sI(Qd.UseNavigateStable),n=g.useRef(!1);return nI(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tc({fromRouteId:e},s)))},[t,e])}const tE={};function o7(t,e){tE[e]||(tE[e]=!0,console.warn(e))}const nE=(t,e,n)=>o7(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function a7(t,e){t!=null&&t.v7_startTransition||nE("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&nE("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function l7(t){let{to:e,replace:n,state:r,relative:i}=t;ha()||Ye(!1);let{future:s,static:o}=g.useContext(Ki),{matches:a}=g.useContext(ar),{pathname:l}=Sc(),c=fa(),d=xy(e,Ey(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return g.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function c7(t){return G9(t.context)}function gr(t){Ye(!1)}function u7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:o=!1,future:a}=t;ha()&&Ye(!1);let l=e.replace(/^\/*/,"/"),c=g.useMemo(()=>({basename:l,navigator:s,static:o,future:tc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=da(r));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:w="default"}=r,y=g.useMemo(()=>{let T=wy(d,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:v,key:w},navigationType:i}},[l,d,h,p,v,w,i]);return y==null?null:g.createElement(Ki.Provider,{value:c},g.createElement(Yh.Provider,{children:n,value:y}))}function d7(t){let{children:e,location:n}=t;return q9(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,pg(r.props.children,s));return}r.type!==gr&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function h7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p7(t,e){return t.button===0&&(!e||e==="_self")&&!f7(t)}const m7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g7="6";try{window.__reactRouterVersion=g7}catch{}const v7="startTransition",rE=KT[v7];function y7(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=v9({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=g.useCallback(h=>{c&&rE?rE(()=>l(h)):l(h)},[l,c]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>a7(r),[r]),g.createElement(u7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const _7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=h7(e,m7),{basename:v}=g.useContext(Ki),w,y=!1;if(typeof c=="string"&&w7.test(c)&&(w=c,_7))try{let C=new URL(window.location.href),P=c.startsWith("//")?new URL(C.protocol+c):new URL(c),M=wy(P.pathname,v);P.origin===C.origin&&M!=null?c=M+P.search+P.hash:y=!0}catch{}let T=z9(c,{relative:i}),x=E7(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function _(C){r&&r(C),C.defaultPrevented||x(C)}return g.createElement("a",mg({},p,{href:w||T,onClick:y||s?r:_,ref:n,target:l}))});var iE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iE||(iE={}));var sE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function E7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=fa(),c=Sc(),d=rI(t,{relative:o});return g.useCallback(h=>{if(p7(h,n)){h.preventDefault();let p=r!==void 0?r:qd(c)===qd(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}const x7={theme:"system",setTheme:()=>null},C7=g.createContext(x7);function T7({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=g.useState(()=>localStorage.getItem(n)||e);g.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return f.jsx(C7.Provider,{...r,value:o,children:t})}var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),r.push(n[d],n[h],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new I7;const p=s<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A7=function(t){const e=oI(t);return aI.encodeByteArray(e,!0)},Yd=function(t){return A7(t).replace(/\./g,"")},lI=function(t){try{return aI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=()=>R7().__FIREBASE_DEFAULTS__,P7=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lI(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return b7()||P7()||k7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uI=t=>{const e=cI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dI=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},hI=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yd(JSON.stringify(n)),Yd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function M7(){var t;const e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function V7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j7(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F7(){return!M7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U7(){try{return typeof indexedDB=="object"}catch{return!1}}function B7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$7,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?z7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lr(i,a,r)}}function z7(t,e){return t.replace(W7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const W7=/\{\$([^}]+)}/g;function H7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aE(s)&&aE(o)){if(!Xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G7(t,e){const n=new K7(t,e);return n.subscribe.bind(n)}class K7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Op),i.error===void 0&&(i.error=Op),i.complete===void 0&&(i.complete=Op);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X7(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Y7(t){return t===as?void 0:t}function X7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Z7={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},eD=he.INFO,tD={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},nD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ty{constructor(e){this.name=e,this._logLevel=eD,this._logHandler=nD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const rD=(t,e)=>e.some(n=>t instanceof n);let lE,cE;function iD(){return lE||(lE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sD(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pI=new WeakMap,gg=new WeakMap,mI=new WeakMap,Lp=new WeakMap,Sy=new WeakMap;function oD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pI.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function aD(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lD(t){vg=t(vg)}function cD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vp(this),e,...n);return mI.set(r,e.sort?e.sort():[e]),Si(r)}:sD().includes(t)?function(...e){return t.apply(Vp(this),e),Si(pI.get(this))}:function(...e){return Si(t.apply(Vp(this),e))}}function uD(t){return typeof t=="function"?cD(t):(t instanceof IDBTransaction&&aD(t),rD(t,iD())?new Proxy(t,vg):t)}function Si(t){if(t instanceof IDBRequest)return oD(t);if(Lp.has(t))return Lp.get(t);const e=uD(t);return e!==t&&(Lp.set(t,e),Sy.set(e,t)),e}const Vp=t=>Sy.get(t);function dD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Si(o.result),l.oldVersion,l.newVersion,Si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hD=["get","getKey","getAll","getAllKeys","count"],fD=["put","add","delete","clear"],jp=new Map;function uE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return jp.set(e,s),s}lD(t=>({...t,get:(e,n,r)=>uE(e,n)||t.get(e,n,r),has:(e,n)=>!!uE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yg="@firebase/app",dE="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new Ty("@firebase/app"),gD="@firebase/app-compat",vD="@firebase/analytics-compat",yD="@firebase/analytics",_D="@firebase/app-check-compat",wD="@firebase/app-check",ED="@firebase/auth",xD="@firebase/auth-compat",CD="@firebase/database",TD="@firebase/data-connect",SD="@firebase/database-compat",ID="@firebase/functions",AD="@firebase/functions-compat",RD="@firebase/installations",bD="@firebase/installations-compat",PD="@firebase/messaging",kD="@firebase/messaging-compat",ND="@firebase/performance",DD="@firebase/performance-compat",MD="@firebase/remote-config",OD="@firebase/remote-config-compat",LD="@firebase/storage",VD="@firebase/storage-compat",jD="@firebase/firestore",FD="@firebase/vertexai",UD="@firebase/firestore-compat",BD="firebase",$D="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",zD={[yg]:"fire-core",[gD]:"fire-core-compat",[yD]:"fire-analytics",[vD]:"fire-analytics-compat",[wD]:"fire-app-check",[_D]:"fire-app-check-compat",[ED]:"fire-auth",[xD]:"fire-auth-compat",[CD]:"fire-rtdb",[TD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[ID]:"fire-fn",[AD]:"fire-fn-compat",[RD]:"fire-iid",[bD]:"fire-iid-compat",[PD]:"fire-fcm",[kD]:"fire-fcm-compat",[ND]:"fire-perf",[DD]:"fire-perf-compat",[MD]:"fire-rc",[OD]:"fire-rc-compat",[LD]:"fire-gcs",[VD]:"fire-gcs-compat",[jD]:"fire-fst",[UD]:"fire-fst-compat",[FD]:"fire-vertex","fire-js":"fire-js",[BD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,WD=new Map,wg=new Map;function hE(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ss(t){const e=t.name;if(wg.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Jd.values())hE(n,t);for(const n of WD.values())hE(n,t);return!0}function Jh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Ic("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=$D;function gI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=dI()),!n)throw Ii.create("no-options");const s=Jd.get(i);if(s){if(Xd(n,s.options)&&Xd(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new J7(i);for(const l of wg.values())o.addComponent(l);const a=new GD(n,r,o);return Jd.set(i,a),a}function Iy(t=_g){const e=Jd.get(t);if(!e&&t===_g&&dI())return gI();if(!e)throw Ii.create("no-app",{appName:t});return e}function qn(t,e,n){var r;let i=(r=zD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Ss(new Di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebase-heartbeat-database",qD=1,nc="firebase-heartbeat-store";let Fp=null;function vI(){return Fp||(Fp=dD(KD,qD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Fp}async function QD(t){try{const n=(await vI()).transaction(nc),r=await n.objectStore(nc).get(yI(t));return await n.done,r}catch(e){if(e instanceof lr)Vr.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function fE(t,e){try{const r=(await vI()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,yI(t)),await r.done}catch(n){if(n instanceof lr)Vr.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function yI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,XD=30*24*60*60*1e3;class JD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=XD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pE(),{heartbeatsToSend:r,unsentEntries:i}=ZD(this._heartbeatsCache.heartbeats),s=Yd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Vr.warn(n),""}}}function pE(){return new Date().toISOString().substring(0,10)}function ZD(t,e=YD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U7()?B7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mE(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){Ss(new Di("platform-logger",e=>new pD(e),"PRIVATE")),Ss(new Di("heartbeat",e=>new JD(e),"PRIVATE")),qn(yg,dE,t),qn(yg,dE,"esm2017"),qn("fire-js","")}tM("");var zn=function(){return zn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zn.apply(this,arguments)};function Rc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rM=_I,wI=new Ic("auth","Firebase",_I());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Ty("@firebase/auth");function iM(t,...e){Zd.logLevel<=he.WARN&&Zd.warn(`Auth (${Vs}): ${t}`,...e)}function id(t,...e){Zd.logLevel<=he.ERROR&&Zd.error(`Auth (${Vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw Ay(t,...e)}function Qn(t,...e){return Ay(t,...e)}function EI(t,e,n){const r=Object.assign(Object.assign({},rM()),{[e]:n});return new Ic("auth","Firebase",r).create(e,{appName:t.name})}function Ar(t){return EI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wI.create(t,...e)}function re(t,e,...n){if(!t)throw Ay(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function jr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sM(){return gE()==="http:"||gE()==="https:"}function gE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sM()||L7()||"connection"in navigator)?navigator.onLine:!0}function aM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=D7()||V7()}get(){return oM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new bc(3e4,6e4);function qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wr(t,e,n,r,i={}){return CI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ac(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return O7()||(c.referrerPolicy="no-referrer"),xI.fetch()(TI(t,t.config.apiHost,n,a),c)})}async function CI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lM),e);try{const i=new dM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pu(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EI(t,d,c);Dn(t,d)}}catch(i){if(i instanceof lr)throw i;Dn(t,"network-request-failed",{message:String(i)})}}async function Pc(t,e,n,r,i={}){const s=await Wr(t,e,n,r,i);return"mfaPendingCredential"in s&&Dn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function TI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ry(t.config,i):`${t.config.apiScheme}://${i}`}function uM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),cM.get())})}}function Pu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function vE(t){return t!==void 0&&t.enterprise!==void 0}class hM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fM(t,e){return Wr(t,"GET","/v2/recaptchaConfig",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return Wr(t,"POST","/v1/accounts:delete",e)}async function SI(t,e){return Wr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mM(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=by(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tl(Up(i.auth_time)),issuedAtTime:Tl(Up(i.iat)),expirationTime:Tl(Up(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Up(t){return Number(t)*1e3}function by(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const i=lI(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yE(t){const e=by(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&gM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ko(t,SI(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?II(s.providerUserInfo):[],a=_M(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function yM(t){const e=dt(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _M(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function II(t){return t.map(e=>{var{providerId:n}=e,r=Rc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){const n=await CI(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=TI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EM(t,e){return Wr(t,"POST","/v2/accounts:revokeToken",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ko;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mM(this,e)}reload(){return yM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Ar(this.auth));const e=await this.getIdToken();return await Ko(this,pM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:P,isAnonymous:M,providerData:L,stsTokenManager:I}=n;re(C&&I,e,"internal-error");const S=ko.fromJSON(this.name,I);re(typeof C=="string",e,"internal-error"),Xr(h,e.name),Xr(p,e.name),re(typeof P=="boolean",e,"internal-error"),re(typeof M=="boolean",e,"internal-error"),Xr(v,e.name),Xr(w,e.name),Xr(y,e.name),Xr(T,e.name),Xr(x,e.name),Xr(_,e.name);const R=new Cr({uid:C,auth:e,email:p,emailVerified:P,displayName:h,isAnonymous:M,photoURL:w,phoneNumber:v,tenantId:y,stsTokenManager:S,createdAt:x,lastLoginAt:_});return L&&Array.isArray(L)&&(R.providerData=L.map(b=>Object.assign({},b))),T&&(R._redirectEventId=T),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ko;i.updateFromServerResponse(n);const s=new Cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?II(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ko;a.updateFromIdToken(r);const l=new Cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;function Tr(t){jr(t instanceof Function,"Expected a class definition");let e=_E.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_E.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AI.type="NONE";const wE=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return`firebase:${t}:${e}:${n}`}class No{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new No(Tr(wE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Tr(wE);const o=sd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Cr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new No(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new No(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DI(e))return"Blackberry";if(MI(e))return"Webos";if(bI(e))return"Safari";if((e.includes("chrome/")||PI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RI(t=Mt()){return/firefox\//i.test(t)}function bI(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PI(t=Mt()){return/crios\//i.test(t)}function kI(t=Mt()){return/iemobile/i.test(t)}function NI(t=Mt()){return/android/i.test(t)}function DI(t=Mt()){return/blackberry/i.test(t)}function MI(t=Mt()){return/webos/i.test(t)}function Py(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xM(t=Mt()){var e;return Py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CM(){return j7()&&document.documentMode===10}function OI(t=Mt()){return Py(t)||NI(t)||MI(t)||DI(t)||/windows phone/i.test(t)||kI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(t,e=[]){let n;switch(t){case"Browser":n=EE(Mt());break;case"Worker":n=`${EE(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e={}){return Wr(t,"GET","/v2/passwordPolicy",qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=6;class AM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new TM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await SI(this,{idToken:e}),r=await Cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Ar(this));const n=e?dt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SM(this),n=new AM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Tr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function js(t){return dt(t)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=G7(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bM(t){Zh=t}function VI(t){return Zh.loadJS(t)}function PM(){return Zh.recaptchaEnterpriseScript}function kM(){return Zh.gapiScript}function NM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DM{constructor(){this.enterprise=new MM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OM="recaptcha-enterprise",jI="NO_RECAPTCHA";class LM{constructor(e){this.type=OM,this.auth=js(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{fM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new hM(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(jI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DM().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=PM();l.length!==0&&(l+=a),VI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function CE(t,e,n,r=!1,i=!1){const s=new LM(t);let o;if(i)o=jI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Cg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await CE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){const n=Jh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xd(s,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function jM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FM(t,e,n){const r=js(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FI(e),{host:o,port:a}=UM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),BM()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UM(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TE(o)}}}function TE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function $M(t,e){return Wr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e){return Pc(t,"POST","/v1/accounts:signInWithPassword",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}async function HM(t,e){return Pc(t,"POST","/v1/accounts:signInWithEmailLink",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends ky{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",zM);case"emailLink":return WM(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,r,"signUpPassword",$M);case"emailLink":return HM(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return Pc(t,"POST","/v1/accounts:signInWithIdp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="http://localhost";class Is extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rc(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Is(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:GM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qM(t){const e=sl(ol(t)).link,n=e?sl(ol(e)).deep_link_id:null,r=sl(ol(t)).deep_link_id;return(r?sl(ol(r)).link:null)||r||n||e||t}class Ny{constructor(e){var n,r,i,s,o,a;const l=sl(ol(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=KM((i=l.mode)!==null&&i!==void 0?i:null);re(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=qM(e);try{return new Ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ny.parseLink(n);return re(r,"argument-error"),rc._fromEmailAndCode(e,r.code,r.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends UI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends kc{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Is._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends kc{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends kc{constructor(){super("twitter.com")}static credential(e,n){return Is._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return Pc(t,"POST","/v1/accounts:signUp",qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Cr._fromIdTokenResponse(e,r,i),o=SE(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SE(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new th(e,n,r,i)}}function BI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,s,e,r):s})}async function YM(t,e,n=!1){const r=await Ko(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(Ar(r));const i="reauthenticate";try{const s=await Ko(t,BI(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=by(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(t,e,n=!1){if(Wn(t.app))return Promise.reject(Ar(t));const r="signIn",i=await BI(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function JM(t,e){return $I(js(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(t){const e=js(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZM(t,e,n){if(Wn(t.app))return Promise.reject(Ar(t));const r=js(t),o=await Cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&zI(t),l}),a=await As._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function e8(t,e,n){return Wn(t.app)?Promise.reject(Ar(t)):JM(dt(t),pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e){return Wr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=dt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ko(r,t8(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e){return dt(t).setPersistence(e)}function i8(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function s8(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function o8(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function a8(t){return dt(t).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=1e3,c8=10;class HI extends WI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,c8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HI.type="LOCAL";const GI=HI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI extends WI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KI.type="SESSION";const qI=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await u8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Dy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function h8(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function f8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m8(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebaseLocalStorageDb",g8=1,rh="firebaseLocalStorage",XI="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function v8(){const t=indexedDB.deleteDatabase(YI);return new Nc(t).toPromise()}function Tg(){const t=indexedDB.open(YI,g8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rh,{keyPath:XI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await v8(),e(await Tg()))})})}async function IE(t,e,n){const r=tf(t,!0).put({[XI]:e,value:n});return new Nc(r).toPromise()}async function y8(t,e){const n=tf(t,!1).get(e),r=await new Nc(n).toPromise();return r===void 0?null:r.value}function AE(t,e){const n=tf(t,!0).delete(e);return new Nc(n).toPromise()}const _8=800,w8=3;class JI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(m8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f8(),!this.activeServiceWorker)return;this.sender=new d8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await IE(e,nh,"1"),await AE(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>y8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=tf(i,!1).getAll();return new Nc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JI.type="LOCAL";const E8=JI;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t,e){return e?Tr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C8(t){return $I(t.auth,new My(t),t.bypassAuthState)}function T8(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),XM(n,new My(t),t.bypassAuthState)}async function S8(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),YM(n,new My(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C8;case"linkViaPopup":case"linkViaRedirect":return S8;case"reauthViaPopup":case"reauthViaRedirect":return T8;default:Dn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new bc(2e3,1e4);class _o extends ZI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I8.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="pendingRedirect",od=new Map;class R8 extends ZI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await b8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b8(t,e){const n=N8(e),r=k8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function P8(t,e){od.set(t._key(),e)}function k8(t){return Tr(t._redirectPersistence)}function N8(t){return sd(A8,t.config.apiKey,t.name)}async function D8(t,e,n=!1){if(Wn(t.app))return Promise.reject(Ar(t));const r=js(t),i=x8(r,e),o=await new R8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=10*60*1e3;class O8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!e5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M8&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function e5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e={}){return Wr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F8=/^https?/;async function U8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V8(t);for(const n of e)try{if(B8(n))return}catch{}Dn(t,"unauthorized-domain")}function B8(t){const e=Eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!F8.test(n))return!1;if(j8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new bc(3e4,6e4);function bE(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function z8(t){return new Promise((e,n)=>{var r,i,s;function o(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(Qn(t,"network-request-failed"))},timeout:$8.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{const a=NM("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},VI(`${kM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function W8(t){return ad=ad||z8(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new bc(5e3,15e3),G8="__/auth/iframe",K8="emulator/auth/iframe",q8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y8(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,K8):`https://${t.config.authDomain}/${G8}`,r={apiKey:e.apiKey,appName:t.name,v:Vs},i=Q8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ac(r).slice(1)}`}async function X8(t){const e=await W8(t),n=Yn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:Y8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},H8.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z8=500,eO=600,tO="_blank",nO="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rO(t,e,n,r=Z8,i=eO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},J8),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mt().toLowerCase();n&&(a=PI(c)?tO:n),RI(c)&&(e=e||nO,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,w])=>`${p}${v}=${w},`,"");if(xM(c)&&a!=="_self")return iO(e||"",a),new PE(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new PE(h)}function iO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="__/auth/handler",oO="emulator/auth/handler",aO=encodeURIComponent("fac");async function kE(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vs,eventId:i};if(e instanceof UI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",H7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof kc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${aO}=${encodeURIComponent(l)}`:"";return`${lO(t)}?${Ac(a).slice(1)}${c}`}function lO({config:t}){return t.emulator?Ry(t,oO):`https://${t.authDomain}/${sO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class cO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qI,this._completeRedirectFn=D8,this._overrideRedirectResult=P8}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await kE(e,n,r,Eg(),i);return rO(e,o,Dy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kE(e,n,r,Eg(),i);return h8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await X8(e),r=new O8(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bp];o!==void 0&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OI()||bI()||Py()}}const uO=cO;var NE="@firebase/auth",DE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fO(t){Ss(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LI(t)},c=new RM(r,i,s,l);return jM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ss(new Di("auth-internal",e=>{const n=js(e.getProvider("auth").getImmediate());return(r=>new dO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(NE,DE,hO(t)),qn(NE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=5*60,mO=hI("authIdTokenMaxAge")||pO;let ME=null;const gO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mO)return;const i=n==null?void 0:n.token;ME!==i&&(ME=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vO(t=Iy()){const e=Jh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VM(t,{popupRedirectResolver:uO,persistence:[E8,GI,qI]}),r=hI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gO(s.toString());s8(n,o,()=>o(n.currentUser)),i8(n,a=>o(a))}}const i=cI("auth");return i&&FM(n,`http://${i}`),n}function yO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",yO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fO("Browser");var _O="firebase",wO="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(_O,wO,"app");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,t5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(b,N,D){for(var k=Array(arguments.length-2),J=2;J<arguments.length;J++)k[J-2]=arguments[J];return S.prototype[N].apply(b,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,R){R||(R=0);var b=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)b[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)b[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],N=I.g[2];var D=I.g[3],k=S+(D^R&(N^D))+b[0]+3614090360&4294967295;S=R+(k<<7&4294967295|k>>>25),k=D+(N^S&(R^N))+b[1]+3905402710&4294967295,D=S+(k<<12&4294967295|k>>>20),k=N+(R^D&(S^R))+b[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(S^N&(D^S))+b[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(D^R&(N^D))+b[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=D+(N^S&(R^N))+b[5]+1200080426&4294967295,D=S+(k<<12&4294967295|k>>>20),k=N+(R^D&(S^R))+b[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(S^N&(D^S))+b[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(D^R&(N^D))+b[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=D+(N^S&(R^N))+b[9]+2336552879&4294967295,D=S+(k<<12&4294967295|k>>>20),k=N+(R^D&(S^R))+b[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(S^N&(D^S))+b[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(D^R&(N^D))+b[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=D+(N^S&(R^N))+b[13]+4254626195&4294967295,D=S+(k<<12&4294967295|k>>>20),k=N+(R^D&(S^R))+b[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=R+(S^N&(D^S))+b[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(N^D&(R^N))+b[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(S^R))+b[6]+3225465664&4294967295,D=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(D^S))+b[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^S&(N^D))+b[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^D&(R^N))+b[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(S^R))+b[10]+38016083&4294967295,D=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(D^S))+b[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^S&(N^D))+b[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^D&(R^N))+b[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(S^R))+b[14]+3275163606&4294967295,D=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(D^S))+b[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^S&(N^D))+b[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^D&(R^N))+b[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=D+(R^N&(S^R))+b[2]+4243563512&4294967295,D=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(D^S))+b[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=R+(D^S&(N^D))+b[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(R^N^D)+b[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=D+(S^R^N)+b[8]+2272392833&4294967295,D=S+(k<<11&4294967295|k>>>21),k=N+(D^S^R)+b[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^S)+b[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^D)+b[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=D+(S^R^N)+b[4]+1272893353&4294967295,D=S+(k<<11&4294967295|k>>>21),k=N+(D^S^R)+b[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^S)+b[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^D)+b[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=D+(S^R^N)+b[0]+3936430074&4294967295,D=S+(k<<11&4294967295|k>>>21),k=N+(D^S^R)+b[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^S)+b[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^D)+b[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=D+(S^R^N)+b[12]+3873151461&4294967295,D=S+(k<<11&4294967295|k>>>21),k=N+(D^S^R)+b[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=R+(N^D^S)+b[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(N^(R|~D))+b[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=D+(R^(S|~N))+b[7]+1126891415&4294967295,D=S+(k<<10&4294967295|k>>>22),k=N+(S^(D|~R))+b[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~S))+b[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~D))+b[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=D+(R^(S|~N))+b[3]+2399980690&4294967295,D=S+(k<<10&4294967295|k>>>22),k=N+(S^(D|~R))+b[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~S))+b[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~D))+b[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=D+(R^(S|~N))+b[15]+4264355552&4294967295,D=S+(k<<10&4294967295|k>>>22),k=N+(S^(D|~R))+b[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~S))+b[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~D))+b[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=D+(R^(S|~N))+b[11]+3174756917&4294967295,D=S+(k<<10&4294967295|k>>>22),k=N+(S^(D|~R))+b[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=R+(D^(N|~S))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,b=this.B,N=this.h,D=0;D<S;){if(N==0)for(;D<=R;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<S;)if(b[N++]=I.charCodeAt(D++),N==this.blockSize){i(this,b),N=0;break}}else for(;D<S;)if(b[N++]=I[D++],N==this.blockSize){i(this,b),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var b=0;32>b;b+=8)I[R++]=this.g[S]>>>b&255;return I};function s(I,S){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function o(I,S){this.h=S;for(var R=[],b=!0,N=I.length-1;0<=N;N--){var D=I[N]|0;b&&D==S||(R[N]=D,b=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?s(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return T(c(-I));for(var S=[],R=1,b=0;I>=R;b++)S[b]=I/R|0,R*=4294967296;return new o(S,0)}function d(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return T(d(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(S,8)),b=h,N=0;N<I.length;N+=8){var D=Math.min(8,I.length-N),k=parseInt(I.substring(N,N+D),S);8>D?(D=c(Math.pow(S,D)),b=b.j(D).add(c(k))):(b=b.j(R),b=b.add(c(k)))}return b}var h=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var b=this.i(R);I+=(0<=b?b:4294967296+b)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(y(this))return"-"+T(this).toString(I);for(var S=c(Math.pow(I,6)),R=this,b="";;){var N=P(R,S).g;R=x(R,N.j(S));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=N,w(R))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=x(this,I),y(I)?-1:w(I)?0:1};function T(I){for(var S=I.g.length,R=[],b=0;b<S;b++)R[b]=~I.g[b];return new o(R,~I.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],b=0,N=0;N<=S;N++){var D=b+(this.i(N)&65535)+(I.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);b=k>>>16,D&=65535,k&=65535,R[N]=k<<16|D}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(I,S){return I.add(T(S))}t.j=function(I){if(w(this)||w(I))return h;if(y(this))return y(I)?T(this).j(T(I)):T(T(this).j(I));if(y(I))return T(this.j(T(I)));if(0>this.l(v)&&0>I.l(v))return c(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],b=0;b<2*S;b++)R[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<I.g.length;N++){var D=this.i(b)>>>16,k=this.i(b)&65535,J=I.i(N)>>>16,ue=I.i(N)&65535;R[2*b+2*N]+=k*ue,_(R,2*b+2*N),R[2*b+2*N+1]+=D*ue,_(R,2*b+2*N+1),R[2*b+2*N+1]+=k*J,_(R,2*b+2*N+1),R[2*b+2*N+2]+=D*J,_(R,2*b+2*N+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new o(R,0)};function _(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function C(I,S){this.g=I,this.h=S}function P(I,S){if(w(S))throw Error("division by zero");if(w(I))return new C(h,h);if(y(I))return S=P(T(I),S),new C(T(S.g),T(S.h));if(y(S))return S=P(I,T(S)),new C(T(S.g),S.h);if(30<I.g.length){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,b=S;0>=b.l(I);)R=M(R),b=M(b);var N=L(R,1),D=L(b,1);for(b=L(b,2),R=L(R,2);!w(b);){var k=D.add(b);0>=k.l(I)&&(N=N.add(R),D=k),b=L(b,1),R=L(R,1)}return S=x(I,N.j(S)),new C(N,S)}for(N=h;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),b=Math.ceil(Math.log(R)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=c(R),k=D.j(S);y(k)||0<k.l(I);)R-=b,D=c(R),k=D.j(S);w(D)&&(D=p),N=N.add(D),I=x(I,k)}return new C(N,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)&I.i(b);return new o(R,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)|I.i(b);return new o(R,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],b=0;b<S;b++)R[b]=this.i(b)^I.i(b);return new o(R,this.h^I.h)};function M(I){for(var S=I.g.length+1,R=[],b=0;b<S;b++)R[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(R,I.h)}function L(I,S){var R=S>>5;S%=32;for(var b=I.g.length-R,N=[],D=0;D<b;D++)N[D]=0<S?I.i(D+R)>>>S|I.i(D+R+1)<<32-S:I.i(D+R);return new o(N,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,t5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,vs=o}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n5,al,r5,ld,Sg,i5,s5,o5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,E){return u==Array.prototype||u==Object.prototype||(u[m]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(u,m){if(m)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var O=u[A];if(!(O in E))break e;E=E[O]}u=u[u.length-1],A=E[u],m=m(A),m!=A&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}function s(u,m){u instanceof String&&(u+="");var E=0,A=!1,O={next:function(){if(!A&&E<u.length){var V=E++;return{value:m(V,u[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(u){return u||function(){return s(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,E){return u.call.apply(u.bind,arguments)}function h(u,m,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,A),u.apply(m,O)}}return function(){return u.apply(m,arguments)}}function p(u,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function v(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function E(){}E.prototype=m.prototype,u.aa=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,O,V){for(var z=Array(arguments.length-2),be=2;be<arguments.length;be++)z[be-2]=arguments[be];return m.prototype[O].apply(A,z)}}function y(u){const m=u.length;if(0<m){const E=Array(m);for(let A=0;A<m;A++)E[A]=u[A];return E}return[]}function T(u,m){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(l(A)){const O=u.length||0,V=A.length||0;u.length=O+V;for(let z=0;z<V;z++)u[O+z]=A[z]}else u.push(A)}}class x{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(u){return/^[\s\xa0]*$/.test(u)}function C(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var M=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function L(u,m,E){for(const A in u)m.call(E,u[A],A,u)}function I(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function S(u){const m={};for(const E in u)m[E]=u[E];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let E,A;for(let O=1;O<arguments.length;O++){A=arguments[O];for(E in A)u[E]=A[E];for(let V=0;V<R.length;V++)E=R[V],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function N(u){var m=1;u=u.split(":");const E=[];for(;0<m&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function D(u){a.setTimeout(()=>{throw u},0)}function k(){var u=F;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class J{constructor(){this.h=this.g=null}add(m,E){const A=ue.get();A.set(m,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ue=new x(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,j=!1,F=new J,W=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(ee)}};var ee=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(E){D(E)}var m=ue;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}j=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return u}();function et(u,m){if(xe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(M){e:{try{P(m.nodeName);var O=!0;break e}catch{}O=!1}O||(m=null)}}else E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&et.aa.h.call(this)}}w(et,xe);var je={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Re(u,m,E,A,O){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!A,this.ha=O,this.key=++Te,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ye(u){this.src=u,this.g={},this.h=0}ye.prototype.add=function(u,m,E,A,O){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var z=ht(u,m,A,O);return-1<z?(m=u[z],E||(m.fa=!1)):(m=new Re(m,this.src,V,!!A,O),m.fa=E,u.push(m)),m};function we(u,m){var E=m.type;if(E in u.g){var A=u.g[E],O=Array.prototype.indexOf.call(A,m,void 0),V;(V=0<=O)&&Array.prototype.splice.call(A,O,1),V&&(me(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ht(u,m,E,A){for(var O=0;O<u.length;++O){var V=u[O];if(!V.da&&V.listener==m&&V.capture==!!E&&V.ha==A)return O}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),hr={};function Gr(u,m,E,A,O){if(Array.isArray(m)){for(var V=0;V<m.length;V++)Gr(u,m[V],E,A,O);return null}return E=H1(E),u&&u[Y]?u.K(m,E,c(A)?!!A.capture:!!A,O):Ji(u,m,E,!1,A,O)}function Ji(u,m,E,A,O,V){if(!m)throw Error("Invalid event type");var z=c(O)?!!O.capture:!!O,be=Wf(u);if(be||(u[zt]=be=new ye(u)),E=be.add(m,E,A,z,V),E.proxy)return E;if(A=$f(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)We||(O=z),O===void 0&&(O=!1),u.addEventListener(m.toString(),A,O);else if(u.attachEvent)u.attachEvent(W1(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function $f(){function u(E){return m.call(u.src,u.listener,E)}const m=vk;return u}function Zi(u,m,E,A,O){if(Array.isArray(m))for(var V=0;V<m.length;V++)Zi(u,m[V],E,A,O);else A=c(A)?!!A.capture:!!A,E=H1(E),u&&u[Y]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],E=ht(V,E,A,O),-1<E&&(me(V[E]),Array.prototype.splice.call(V,E,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=Wf(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,E,A,O)),(E=-1<u?m[u]:null)&&zf(E))}function zf(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Y])we(m.i,u);else{var E=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(E,A,u.capture):m.detachEvent?m.detachEvent(W1(E),A):m.addListener&&m.removeListener&&m.removeListener(A),(E=Wf(m))?(we(E,u),E.h==0&&(E.src=null,m[zt]=null)):me(u)}}}function W1(u){return u in hr?hr[u]:hr[u]="on"+u}function vk(u,m){if(u.da)u=!0;else{m=new et(m,this);var E=u.listener,A=u.ha||u.src;u.fa&&zf(u),u=E.call(A,m)}return u}function Wf(u){return u=u[zt],u instanceof ye?u:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function H1(u){return typeof u=="function"?u:(u[Hf]||(u[Hf]=function(m){return u.handleEvent(m)}),u[Hf])}function Et(){ae.call(this),this.i=new ye(this),this.M=this,this.F=null}w(Et,ae),Et.prototype[Y]=!0,Et.prototype.removeEventListener=function(u,m,E,A){Zi(this,u,m,E,A)};function Ot(u,m){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new xe(m,u);else if(m instanceof xe)m.target=m.target||u;else{var O=m;m=new xe(A,u),b(m,O)}if(O=!0,E)for(var V=E.length-1;0<=V;V--){var z=m.g=E[V];O=Xc(z,A,!0,m)&&O}if(z=m.g=u,O=Xc(z,A,!0,m)&&O,O=Xc(z,A,!1,m)&&O,E)for(V=0;V<E.length;V++)z=m.g=E[V],O=Xc(z,A,!1,m)&&O}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var E=u.g[m],A=0;A<E.length;A++)me(E[A]);delete u.g[m],u.h--}}this.F=null},Et.prototype.K=function(u,m,E,A){return this.i.add(String(u),m,!1,E,A)},Et.prototype.L=function(u,m,E,A){return this.i.add(String(u),m,!0,E,A)};function Xc(u,m,E,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var O=!0,V=0;V<m.length;++V){var z=m[V];if(z&&!z.da&&z.capture==E){var be=z.listener,ft=z.ha||z.src;z.fa&&we(u.i,z),O=be.call(ft,A)!==!1&&O}}return O&&!A.defaultPrevented}function G1(u,m,E){if(typeof u=="function")E&&(u=p(u,E));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function K1(u){u.g=G1(()=>{u.g=null,u.i&&(u.i=!1,K1(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class yk extends ae{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:K1(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(u){ae.call(this),this.h=u,this.g={}}w(Ra,ae);var q1=[];function Q1(u){L(u.g,function(m,E){this.g.hasOwnProperty(E)&&zf(m)},u),u.g={}}Ra.prototype.N=function(){Ra.aa.N.call(this),Q1(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gf=a.JSON.stringify,_k=a.JSON.parse,wk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Kf(){}Kf.prototype.h=null;function Y1(u){return u.h||(u.h=u.i())}function X1(){}var ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qf(){xe.call(this,"d")}w(qf,xe);function Qf(){xe.call(this,"c")}w(Qf,xe);var es={},J1=null;function Jc(){return J1=J1||new Et}es.La="serverreachability";function Z1(u){xe.call(this,es.La,u)}w(Z1,xe);function Pa(u){const m=Jc();Ot(m,new Z1(m))}es.STAT_EVENT="statevent";function e_(u,m){xe.call(this,es.STAT_EVENT,u),this.stat=m}w(e_,xe);function Lt(u){const m=Jc();Ot(m,new e_(m,u))}es.Ma="timingevent";function t_(u,m){xe.call(this,es.Ma,u),this.size=m}w(t_,xe);function ka(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Na(){this.g=!0}Na.prototype.xa=function(){this.g=!1};function Ek(u,m,E,A,O,V){u.info(function(){if(u.g)if(V)for(var z="",be=V.split("&"),ft=0;ft<be.length;ft++){var Ee=be[ft].split("=");if(1<Ee.length){var xt=Ee[0];Ee=Ee[1];var Ct=xt.split("_");z=2<=Ct.length&&Ct[1]=="type"?z+(xt+"="+Ee+"&"):z+(xt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+A+") [attempt "+O+"]: "+m+`
`+E+`
`+z})}function xk(u,m,E,A,O,V,z){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+O+"]: "+m+`
`+E+`
`+V+" "+z})}function Ks(u,m,E,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Tk(u,E)+(A?" "+A:"")})}function Ck(u,m){u.info(function(){return"TIMEOUT: "+m})}Na.prototype.info=function(){};function Tk(u,m){if(!u.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var O=A[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<O.length;z++)O[z]=""}}}}return Gf(E)}catch{return m}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yf;function eu(){}w(eu,Kf),eu.prototype.g=function(){return new XMLHttpRequest},eu.prototype.i=function(){return{}},Yf=new eu;function Kr(u,m,E,A){this.j=u,this.i=m,this.l=E,this.R=A||1,this.U=new Ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new r_}function r_(){this.i=null,this.g="",this.h=!1}var i_={},Xf={};function Jf(u,m,E){u.L=1,u.v=iu(fr(m)),u.m=E,u.P=!0,s_(u,null)}function s_(u,m){u.F=Date.now(),tu(u),u.A=fr(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),__(E.i,"t",A),u.C=0,E=u.j.J,u.h=new r_,u.g=V_(u.j,E?m:null,!u.m),0<u.O&&(u.M=new yk(p(u.Y,u,u.g),u.O)),m=u.U,E=u.g,A=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(q1[0]=O.toString()),O=q1);for(var V=0;V<O.length;V++){var z=Gr(E,O[V],A||m.handleEvent,!1,m.h||m);if(!z)break;m.g[z.key]=z}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Pa(),Ek(u.i,u.u,u.A,u.l,u.R,u.m)}Kr.prototype.ca=function(u){u=u.target;const m=this.M;m&&pr(u)==3?m.j():this.Y(u)},Kr.prototype.Y=function(u){try{if(u==this.g)e:{const Ct=pr(this.g);var m=this.g.Ba();const Ys=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||I_(this.g)))){this.J||Ct!=4||m==7||(m==8||0>=Ys?Pa(3):Pa(2)),Zf(this);var E=this.g.Z();this.X=E;t:if(o_(this)){var A=I_(this.g);u="";var O=A.length,V=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),Da(this);var z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<O;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(V&&m==O-1)});A.length=0,this.h.g+=u,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=E==200,xk(this.i,this.u,this.A,this.l,this.R,Ct,E),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ft=this.g;if((be=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(be)){var Ee=be;break t}}Ee=null}if(E=Ee)Ks(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ep(this,E);else{this.o=!1,this.s=3,Lt(12),ts(this),Da(this);break e}}if(this.P){E=!0;let xn;for(;!this.J&&this.C<z.length;)if(xn=Sk(this,z),xn==Xf){Ct==4&&(this.s=4,Lt(14),E=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==i_){this.s=4,Lt(15),Ks(this.i,this.l,z,"[Invalid Chunk]"),E=!1;break}else Ks(this.i,this.l,xn,null),ep(this,xn);if(o_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||z.length!=0||this.h.h||(this.s=1,Lt(16),E=!1),this.o=this.o&&E,!E)Ks(this.i,this.l,z,"[Invalid Chunked Response]"),ts(this),Da(this);else if(0<z.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),op(xt),xt.M=!0,Lt(11))}}else Ks(this.i,this.l,z,null),ep(this,z);Ct==4&&ts(this),this.o&&!this.J&&(Ct==4?D_(this.j,this):(this.o=!1,tu(this)))}else $k(this.g),E==400&&0<z.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),ts(this),Da(this)}}}catch{}finally{}};function o_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Sk(u,m){var E=u.C,A=m.indexOf(`
`,E);return A==-1?Xf:(E=Number(m.substring(E,A)),isNaN(E)?i_:(A+=1,A+E>m.length?Xf:(m=m.slice(A,A+E),u.C=A+E,m)))}Kr.prototype.cancel=function(){this.J=!0,ts(this)};function tu(u){u.S=Date.now()+u.I,a_(u,u.I)}function a_(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ka(p(u.ba,u),m)}function Zf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Kr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ck(this.i,this.A),this.L!=2&&(Pa(),Lt(17)),ts(this),this.s=2,Da(this)):a_(this,this.S-u)};function Da(u){u.j.G==0||u.J||D_(u.j,u)}function ts(u){Zf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Q1(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ep(u,m){try{var E=u.j;if(E.G!=0&&(E.g==u||tp(E.h,u))){if(!u.K&&tp(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var O=A;if(O[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)uu(E),lu(E);else break e;sp(E),Lt(18)}}else E.za=O[1],0<E.za-E.T&&37500>O[2]&&E.F&&E.v==0&&!E.C&&(E.C=ka(p(E.Za,E),6e3));if(1>=u_(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else rs(E,11)}else if((u.K||E.g==u)&&uu(E),!_(m))for(O=E.Da.g.parse(m),m=0;m<O.length;m++){let Ee=O[m];if(E.T=Ee[0],Ee=Ee[1],E.G==2)if(Ee[0]=="c"){E.K=Ee[1],E.ia=Ee[2];const xt=Ee[3];xt!=null&&(E.la=xt,E.j.info("VER="+E.la));const Ct=Ee[4];Ct!=null&&(E.Aa=Ct,E.j.info("SVER="+E.Aa));const Ys=Ee[5];Ys!=null&&typeof Ys=="number"&&0<Ys&&(A=1.5*Ys,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const xn=u.g;if(xn){const hu=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hu){var V=A.h;V.g||hu.indexOf("spdy")==-1&&hu.indexOf("quic")==-1&&hu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(np(V,V.h),V.h=null))}if(A.D){const ap=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ap&&(A.ya=ap,Ne(A.I,A.D,ap))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var z=u;if(A.qa=L_(A,A.J?A.ia:null,A.W),z.K){d_(A.h,z);var be=z,ft=A.L;ft&&(be.I=ft),be.B&&(Zf(be),tu(be)),A.g=z}else k_(A);0<E.i.length&&cu(E)}else Ee[0]!="stop"&&Ee[0]!="close"||rs(E,7);else E.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?rs(E,7):ip(E):Ee[0]!="noop"&&E.l&&E.l.ta(Ee),E.v=0)}}Pa(4)}catch{}}var Ik=class{constructor(u,m){this.g=u,this.map=m}};function l_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function u_(u){return u.h?1:u.g?u.g.size:0}function tp(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function np(u,m){u.g?u.g.add(m):u.h=m}function d_(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}l_.prototype.cancel=function(){if(this.i=h_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function h_(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.D);return m}return y(u.i)}function Ak(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],E=u.length,A=0;A<E;A++)m.push(u[A]);return m}m=[],E=0;for(A in u)m[E++]=u[A];return m}function Rk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var E=0;E<u;E++)m.push(E);return m}m=[],E=0;for(const A in u)m[E++]=A;return m}}}function f_(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var E=Rk(u),A=Ak(u),O=A.length,V=0;V<O;V++)m.call(void 0,A[V],E&&E[V],u)}var p_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bk(u,m){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),O=null;if(0<=A){var V=u[E].substring(0,A);O=u[E].substring(A+1)}else V=u[E];m(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function ns(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ns){this.h=u.h,nu(this,u.j),this.o=u.o,this.g=u.g,ru(this,u.s),this.l=u.l;var m=u.i,E=new La;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),m_(this,E),this.m=u.m}else u&&(m=String(u).match(p_))?(this.h=!1,nu(this,m[1]||"",!0),this.o=Ma(m[2]||""),this.g=Ma(m[3]||"",!0),ru(this,m[4]),this.l=Ma(m[5]||"",!0),m_(this,m[6]||"",!0),this.m=Ma(m[7]||"")):(this.h=!1,this.i=new La(null,this.h))}ns.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Oa(m,g_,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Oa(m,g_,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Oa(E,E.charAt(0)=="/"?Nk:kk,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Oa(E,Mk)),u.join("")};function fr(u){return new ns(u)}function nu(u,m,E){u.j=E?Ma(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ru(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function m_(u,m,E){m instanceof La?(u.i=m,Ok(u.i,u.h)):(E||(m=Oa(m,Dk)),u.i=new La(m,u.h))}function Ne(u,m,E){u.i.set(m,E)}function iu(u){return Ne(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ma(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Oa(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,Pk),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Pk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var g_=/[#\/\?@]/g,kk=/[#\?:]/g,Nk=/[#\?]/g,Dk=/[#\?@]/g,Mk=/#/g;function La(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function qr(u){u.g||(u.g=new Map,u.h=0,u.i&&bk(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=La.prototype,t.add=function(u,m){qr(this),this.i=null,u=qs(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function v_(u,m){qr(u),m=qs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function y_(u,m){return qr(u),m=qs(u,m),u.g.has(m)}t.forEach=function(u,m){qr(this),this.g.forEach(function(E,A){E.forEach(function(O){u.call(m,O,A,this)},this)},this)},t.na=function(){qr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let A=0;A<m.length;A++){const O=u[A];for(let V=0;V<O.length;V++)E.push(m[A])}return E},t.V=function(u){qr(this);let m=[];if(typeof u=="string")y_(this,u)&&(m=m.concat(this.g.get(qs(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)m=m.concat(u[E])}return m},t.set=function(u,m){return qr(this),this.i=null,u=qs(this,u),y_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function __(u,m,E){v_(u,m),0<E.length&&(u.i=null,u.g.set(qs(u,m),y(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var A=m[E];const V=encodeURIComponent(String(A)),z=this.V(A);for(A=0;A<z.length;A++){var O=V;z[A]!==""&&(O+="="+encodeURIComponent(String(z[A]))),u.push(O)}}return this.i=u.join("&")};function qs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ok(u,m){m&&!u.j&&(qr(u),u.i=null,u.g.forEach(function(E,A){var O=A.toLowerCase();A!=O&&(v_(this,A),__(this,O,E))},u)),u.j=m}function Lk(u,m){const E=new Na;if(a.Image){const A=new Image;A.onload=v(Qr,E,"TestLoadImage: loaded",!0,m,A),A.onerror=v(Qr,E,"TestLoadImage: error",!1,m,A),A.onabort=v(Qr,E,"TestLoadImage: abort",!1,m,A),A.ontimeout=v(Qr,E,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vk(u,m){const E=new Na,A=new AbortController,O=setTimeout(()=>{A.abort(),Qr(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(V=>{clearTimeout(O),V.ok?Qr(E,"TestPingServer: ok",!0,m):Qr(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(O),Qr(E,"TestPingServer: error",!1,m)})}function Qr(u,m,E,A,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),A(E)}catch{}}function jk(){this.g=new wk}function Fk(u,m,E){const A=E||"";try{f_(u,function(O,V){let z=O;c(O)&&(z=Gf(O)),m.push(A+V+"="+encodeURIComponent(z))})}catch(O){throw m.push(A+"type="+encodeURIComponent("_badmap")),O}}function su(u){this.l=u.Ub||null,this.j=u.eb||!1}w(su,Kf),su.prototype.g=function(){return new ou(this.l,this.j)},su.prototype.i=function(u){return function(){return u}}({});function ou(u,m){Et.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ou,Et),t=ou.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ja(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Va(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ja(this)),this.g&&(this.readyState=3,ja(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w_(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function w_(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Va(this):ja(this),this.readyState==3&&w_(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Va(this))},t.Qa=function(u){this.g&&(this.response=u,Va(this))},t.ga=function(){this.g&&Va(this)};function Va(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ja(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function ja(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function E_(u){let m="";return L(u,function(E,A){m+=A,m+=":",m+=E,m+=`\r
`}),m}function rp(u,m,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=E_(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):Ne(u,m,E))}function He(u){Et.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(He,Et);var Uk=/^https?$/i,Bk=["POST","PUT"];t=He.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yf.g(),this.v=this.o?Y1(this.o):Y1(Yf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){x_(this,V);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var O in A)E.set(O,A[O]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())E.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(V=>V.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bk,m,void 0))||A||O||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of E)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{S_(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){x_(this,V)}};function x_(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,C_(u),au(u)}function C_(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),au(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?T_(this):this.bb())},t.bb=function(){T_(this)};function T_(u){if(u.h&&typeof o<"u"&&(!u.v[1]||pr(u)!=4||u.Z()!=2)){if(u.u&&pr(u)==4)G1(u.Ea,0,u);else if(Ot(u,"readystatechange"),pr(u)==4){u.h=!1;try{const z=u.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var A;if(A=z===0){var O=String(u.D).match(p_)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),A=!Uk.test(O?O.toLowerCase():"")}E=A}if(E)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var V=2<pr(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",C_(u)}}finally{au(u)}}}}function au(u,m){if(u.g){S_(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ot(u,"ready");try{E.onreadystatechange=A}catch{}}}function S_(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function pr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_k(m)}};function I_(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $k(u){const m={};u=(u.g&&2<=pr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(_(u[A]))continue;var E=N(u[A]);const O=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const V=m[O]||[];m[O]=V,V.push(E)}I(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function A_(u){this.Aa=0,this.i=[],this.j=new Na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,u),this.cb=Fa("retryDelaySeedMs",1e4,u),this.Wa=Fa("forwardChannelMaxRetries",2,u),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new l_(u&&u.concurrentRequestLimit),this.Da=new jk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=A_.prototype,t.la=8,t.G=1,t.connect=function(u,m,E,A){Lt(0),this.W=u,this.H=m||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=L_(this,null,this.W),cu(this)};function ip(u){if(R_(u),u.G==3){var m=u.U++,E=fr(u.I);if(Ne(E,"SID",u.K),Ne(E,"RID",m),Ne(E,"TYPE","terminate"),Ua(u,E),m=new Kr(u,u.j,m),m.L=2,m.v=iu(fr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=V_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),tu(m)}O_(u)}function lu(u){u.g&&(op(u),u.g.cancel(),u.g=null)}function R_(u){lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),uu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function cu(u){if(!c_(u.h)&&!u.s){u.s=!0;var m=u.Ga;X||W(),j||(X(),j=!0),F.add(m,u),u.B=0}}function zk(u,m){return u_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ka(p(u.Ga,u,m),M_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Kr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=S(V),b(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=P_(this,O,m),E=fr(this.I),Ne(E,"RID",u),Ne(E,"CVER",22),this.D&&Ne(E,"X-HTTP-Session-Id",this.D),Ua(this,E),V&&(this.O?m="headers="+encodeURIComponent(String(E_(V)))+"&"+m:this.m&&rp(E,this.m,V)),np(this.h,O),this.Ua&&Ne(E,"TYPE","init"),this.P?(Ne(E,"$req",m),Ne(E,"SID","null"),O.T=!0,Jf(O,E,null)):Jf(O,E,m),this.G=2}}else this.G==3&&(u?b_(this,u):this.i.length==0||c_(this.h)||b_(this))};function b_(u,m){var E;m?E=m.l:E=u.U++;const A=fr(u.I);Ne(A,"SID",u.K),Ne(A,"RID",E),Ne(A,"AID",u.T),Ua(u,A),u.m&&u.o&&rp(A,u.m,u.o),E=new Kr(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),m&&(u.i=m.D.concat(u.i)),m=P_(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),np(u.h,E),Jf(E,A,m)}function Ua(u,m){u.H&&L(u.H,function(E,A){Ne(m,A,E)}),u.l&&f_({},function(E,A){Ne(m,A,E)})}function P_(u,m,E){E=Math.min(u.i.length,E);var A=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let V=-1;for(;;){const z=["count="+E];V==-1?0<E?(V=O[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let be=!0;for(let ft=0;ft<E;ft++){let Ee=O[ft].g;const xt=O[ft].map;if(Ee-=V,0>Ee)V=Math.max(0,O[ft].g-100),be=!1;else try{Fk(xt,z,"req"+Ee+"_")}catch{A&&A(xt)}}if(be){A=z.join("&");break e}}}return u=u.i.splice(0,E),m.D=u,A}function k_(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;X||W(),j||(X(),j=!0),F.add(m,u),u.v=0}}function sp(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ka(p(u.Fa,u),M_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,N_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ka(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),lu(this),N_(this))};function op(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function N_(u){u.g=new Kr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=fr(u.qa);Ne(m,"RID","rpc"),Ne(m,"SID",u.K),Ne(m,"AID",u.T),Ne(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ne(m,"TO",u.ja),Ne(m,"TYPE","xmlhttp"),Ua(u,m),u.m&&u.o&&rp(m,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=iu(fr(m)),E.m=null,E.P=!0,s_(E,u)}t.Za=function(){this.C!=null&&(this.C=null,lu(this),sp(this),Lt(19))};function uu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function D_(u,m){var E=null;if(u.g==m){uu(u),op(u),u.g=null;var A=2}else if(tp(u.h,m))E=m.D,d_(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var O=u.B;A=Jc(),Ot(A,new t_(A,E)),cu(u)}else k_(u);else if(O=m.s,O==3||O==0&&0<m.X||!(A==1&&zk(u,m)||A==2&&sp(u)))switch(E&&0<E.length&&(m=u.h,m.i=m.i.concat(E)),O){case 1:rs(u,5);break;case 4:rs(u,10);break;case 3:rs(u,6);break;default:rs(u,2)}}}function M_(u,m){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*m}function rs(u,m){if(u.j.info("Error code "+m),m==2){var E=p(u.fb,u),A=u.Xa;const O=!A;A=new ns(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||nu(A,"https"),iu(A),O?Lk(A.toString(),E):Vk(A.toString(),E)}else Lt(2);u.G=0,u.l&&u.l.sa(m),O_(u),R_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function O_(u){if(u.G=0,u.ka=[],u.l){const m=h_(u.h);(m.length!=0||u.i.length!=0)&&(T(u.ka,m),T(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function L_(u,m,E){var A=E instanceof ns?fr(E):new ns(E);if(A.g!="")m&&(A.g=m+"."+A.g),ru(A,A.s);else{var O=a.location;A=O.protocol,m=m?m+"."+O.hostname:O.hostname,O=+O.port;var V=new ns(null);A&&nu(V,A),m&&(V.g=m),O&&ru(V,O),E&&(V.l=E),A=V}return E=u.D,m=u.ya,E&&m&&Ne(A,E,m),Ne(A,"VER",u.la),Ua(u,A),A}function V_(u,m,E){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new He(new su({eb:E})):new He(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function j_(){}t=j_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){Et.call(this),this.g=new A_(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!_(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qs(this)}w(Xt,Et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){ip(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Gf(u),u=E);m.i.push(new Ik(m.Ya++,u)),m.G==3&&cu(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,ip(this.g),delete this.g,Xt.aa.N.call(this)};function F_(u){qf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(F_,qf);function U_(){Qf.call(this),this.status=1}w(U_,Qf);function Qs(u){this.g=u}w(Qs,j_),Qs.prototype.ua=function(){Ot(this.g,"a")},Qs.prototype.ta=function(u){Ot(this.g,new F_(u))},Qs.prototype.sa=function(u){Ot(this.g,new U_)},Qs.prototype.ra=function(){Ot(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,o5=function(){return new du},s5=function(){return Jc()},i5=es,Sg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,ld=Zc,n_.COMPLETE="complete",r5=n_,X1.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",Et.prototype.listen=Et.prototype.K,al=X1,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,n5=He}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const LE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Ty("@firebase/firestore");function no(){return Rs.logLevel}function G(t,...e){if(Rs.logLevel<=he.DEBUG){const n=e.map(Oy);Rs.debug(`Firestore (${ma}): ${t}`,...n)}}function Fr(t,...e){if(Rs.logLevel<=he.ERROR){const n=e.map(Oy);Rs.error(`Firestore (${ma}): ${t}`,...n)}}function qo(t,...e){if(Rs.logLevel<=he.WARN){const n=e.map(Oy);Rs.warn(`Firestore (${ma}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: `+t;throw Fr(e),new Error(e)}function Se(t,e){t||ie()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class xO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CO{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new a5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Rt(e)}}class TO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class SO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new IO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new rt(0,0))}static max(){return new se(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends ic{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const bO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends ic{construct(e,n,r){return new gt(e,n,r)}static isValidIdentifier(e){return bO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Oe.fromString(e))}static fromName(e){return new te(Oe.fromString(e).popFirst(5))}static empty(){return new te(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Oe(e.slice()))}}function PO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Mi(i,te.empty(),e)}function kO(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(se.min(),te.empty(),-1)}static max(){return new Mi(se.max(),te.empty(),-1)}}function NO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==DO)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function OO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nf.oe=-1;function rf(t){return t==null}function ih(t){return t===0&&1/t==-1/0}function LO(t){return typeof t=="number"&&Number.isInteger(t)&&!ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VE(e)),e=jO(t.get(n),e);return VE(e)}function jO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function VE(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mt.RED,this.left=i??mt.EMPTY,this.right=s??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new it(gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u5("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const FO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Se(!!t),typeof t=="string"){let e=0;const n=FO.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sf(t){const e=t.mapValue.fields.__previous_value__;return Ly(e)?sf(e):e}function sc(t){const e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ly(t)?4:$O(t)?9007199254740991:BO(t)?10:11:ie()}function ir(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sc(t).isEqual(sc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Oi(i.timestampValue),a=Oi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Li(i.bytesValue).isEqual(Li(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?ih(o)===ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(jE(o)!==jE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function ac(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function Yo(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qe(s.integerValue||s.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return UE(t.timestampValue,e.timestampValue);case 4:return UE(sc(t),sc(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Li(s),l=Li(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=pe(a[c],l[c]);if(d!==0)return d}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe(qe(s.latitude),qe(o.latitude));return a!==0?a:pe(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=pe(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:BE(v,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Du.mapValue&&o===Du.mapValue)return 0;if(s===Du.mapValue)return 1;if(o===Du.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=pe(l[h],d[h]);if(p!==0)return p;const v=Yo(a[l[h]],c[d[h]]);if(v!==0)return v}return pe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie()}}function UE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Oi(t),r=Oi(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function BE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Yo(n[i],r[i]);if(s)return s}return pe(n.length,r.length)}function Xo(t){return Ig(t)}function Ig(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ig(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ig(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function cd(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(t);return e?16+cd(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+cd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fs(r.fields,(s,o)=>{i+=s.length+cd(o)}),i}(t.mapValue);default:throw ie()}}function $E(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ag(t){return!!t&&"integerValue"in t}function Vy(t){return!!t&&"arrayValue"in t}function zE(t){return!!t&&"nullValue"in t}function WE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function BO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $O(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Sl(this.value))}}function d5(t){const e=[];return Fs(t.fields,(n,r)=>{const i=new gt([n]);if(ud(r)){const s=d5(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,se.min(),se.min(),se.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,se.min(),se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,se.min(),se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function HE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Yo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function GE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function zO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{}class Ze extends h5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HO(e,n,r):n==="array-contains"?new qO(e,r):n==="in"?new QO(e,r):n==="not-in"?new YO(e,r):n==="array-contains-any"?new XO(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GO(e,r):new KO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Yo(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(Yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends h5{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return f5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function f5(t){return t.op==="and"}function p5(t){return WO(t)&&f5(t)}function WO(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Rg(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(p5(t))return t.filters.map(e=>Rg(e)).join(",");{const e=t.filters.map(n=>Rg(n)).join(",");return`${t.op}(${e})`}}function m5(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&m5(o,i.filters[a]),!0):!1}(t,e):void ie()}function g5(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(g5).join(" ,")+"}"}(t):"Filter"}class HO extends Ze{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class GO extends Ze{constructor(e,n){super(e,"in",n),this.keys=v5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KO extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=v5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class qO extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vy(n)&&ac(n.arrayValue,this.value)}}class QO extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ac(this.value.arrayValue,n)}}class YO extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ac(this.value.arrayValue,n)}}class XO extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function KE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JO(t,e,n,r,i,s,o)}function jy(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.ue=n}return e.ue}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GE(t.startAt,e.startAt)&&GE(t.endAt,e.endAt)}function bg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZO(t,e,n,r,i,s,o,a){return new Dc(t,e,n,r,i,s,o,a)}function Uy(t){return new Dc(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y5(t){return t.collectionGroup!==null}function Il(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new oh(s,r))}),n.has(gt.keyField().canonicalString())||e.ce.push(new oh(gt.keyField(),r))}return e.ce}function Xn(t){const e=oe(t);return e.le||(e.le=eL(e,Il(t))),e.le}function eL(t,e){if(t.limitType==="F")return KE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new oh(i.field,s)});const n=t.endAt?new sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sh(t.startAt.position,t.startAt.inclusive):null;return KE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pg(t,e){const n=t.filters.concat([e]);return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kg(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function of(t,e){return Fy(Xn(t),Xn(e))&&t.limitType===e.limitType}function _5(t){return`${jy(Xn(t))}|lt:${t.limitType}`}function ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>g5(i)).join(", ")}]`),rf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xo(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Il(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=HE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Il(r),i)||r.endAt&&!function(o,a,l){const c=HE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Il(r),i))}(t,e)}function tL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w5(t){return(e,n)=>{let r=!1;for(const i of Il(t)){const s=nL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nL(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Yo(l,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return c5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new ze(te.comparator);function Ur(){return rL}const E5=new ze(te.comparator);function ll(...t){let e=E5;for(const n of t)e=e.insert(n.key,n);return e}function x5(t){let e=E5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fs(){return Al()}function C5(){return Al()}function Al(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const iL=new ze(te.comparator),sL=new it(te.comparator);function fe(...t){let e=sL;for(const n of t)e=e.add(n);return e}const oL=new it(pe);function aL(){return oL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function T5(t){return{integerValue:""+t}}function lL(t,e){return LO(e)?T5(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function cL(t,e,n){return t instanceof ah?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ly(s)&&(s=sf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof lc?I5(t,e):t instanceof cc?A5(t,e):function(i,s){const o=S5(i,s),a=QE(o)+QE(i.Pe);return Ag(o)&&Ag(i.Pe)?T5(a):By(i.serializer,a)}(t,e)}function uL(t,e,n){return t instanceof lc?I5(t,e):t instanceof cc?A5(t,e):n}function S5(t,e){return t instanceof lh?function(r){return Ag(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ah extends lf{}class lc extends lf{constructor(e){super(),this.elements=e}}function I5(t,e){const n=R5(e);for(const r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class cc extends lf{constructor(e){super(),this.elements=e}}function A5(t,e){let n=R5(e);for(const r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}class lh extends lf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function QE(t){return qe(t.integerValue||t.doubleValue)}function R5(t){return Vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof lc&&i instanceof lc||r instanceof cc&&i instanceof cc?Qo(r.elements,i.elements,ir):r instanceof lh&&i instanceof lh?ir(r.Pe,i.Pe):r instanceof ah&&i instanceof ah}(t.transform,e.transform)}class hL{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cf{}function b5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,Jn.none()):new Mc(t.key,t.data,Jn.none());{const n=t.data,r=mn.empty();let i=new it(gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bs(t.key,r,new Rn(i.toArray()),Jn.none())}}function fL(t,e,n){t instanceof Mc?function(i,s,o){const a=i.value.clone(),l=XE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(i,s,o){if(!dd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=XE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(P5(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Rl(t,e,n,r){return t instanceof Mc?function(s,o,a,l){if(!dd(s.precondition,o))return a;const c=s.value.clone(),d=JE(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bs?function(s,o,a,l){if(!dd(s.precondition,o))return a;const c=JE(s.fieldTransforms,l,o),d=o.data;return d.setAll(P5(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return dd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function pL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=S5(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function YE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(s,o)=>dL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mc extends cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function XE(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,uL(o,a,n[i]))}return r}function JE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,cL(s,o,e))}return r}class $y extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mL extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C5();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=b5(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>YE(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>YE(n,r))}}class zy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return iL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new zy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vL=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,ge;function _L(t){switch(t){default:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function k5(t){if(t===void 0)return Fr("GRPC error has no .code"),B.UNKNOWN;switch(t){case Xe.OK:return B.OK;case Xe.CANCELLED:return B.CANCELLED;case Xe.UNKNOWN:return B.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return B.INTERNAL;case Xe.UNAVAILABLE:return B.UNAVAILABLE;case Xe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Xe.NOT_FOUND:return B.NOT_FOUND;case Xe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Xe.ABORTED:return B.ABORTED;case Xe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Xe.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(ge=Xe||(Xe={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new vs([4294967295,4294967295],0);function ZE(t){const e=wL().encode(t),n=new t5;return n.update(e),new Uint8Array(n.digest())}function ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vs([n,r],0),new vs([i,s],0)]}class Wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cl(`Invalid padding: ${n}`);if(r<0)throw new cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=vs.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(vs.fromNumber(r)));return i.compare(EL)===1&&(i=new vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ZE(e),[r,i]=ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=ZE(e),[r,i]=ex(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uf(se.min(),i,new ze(pe),Ur(),fe())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class N5{constructor(e,n){this.targetId=e,this.me=n}}class D5{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tx{constructor(){this.fe=0,this.ge=nx(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=fe(),n=fe(),r=fe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Oc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Se(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=Mu(),this.Qe=Mu(),this.Ke=new ze(pe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(bg(s))if(r===0){const o=new te(s.path);this.We(n,o,Nt.newNoDocument(o,se.min()))}else Se(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Li(r).toUint8Array()}catch(l){if(l instanceof u5)return qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wy(o,i,s)}catch(l){return qo(l instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&bg(a.target)){const l=new te(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,Nt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=fe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new uf(e,n,this.Ke,this.ke,r);return this.ke=Ur(),this.qe=Mu(),this.Qe=Mu(),this.Ke=new ze(pe),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new tx,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new it(pe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(pe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new tx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Mu(){return new ze(te.comparator)}function nx(){return new ze(te.comparator)}const CL={asc:"ASCENDING",desc:"DESCENDING"},TL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SL={and:"AND",or:"OR"};class IL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ng(t,e){return t.useProto3Json||rf(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AL(t,e){return ch(t,e.toTimestamp())}function Zn(t){return Se(!!t),se.fromTimestamp(function(n){const r=Oi(n);return new rt(r.seconds,r.nanos)}(t))}function Hy(t,e){return Dg(t,e).canonicalString()}function Dg(t,e){const n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O5(t){const e=Oe.fromString(t);return Se(U5(e)),e}function Mg(t,e){return Hy(t.databaseId,e.path)}function $p(t,e){const n=O5(e);if(n.get(1)!==t.databaseId.projectId)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(V5(n))}function L5(t,e){return Hy(t.databaseId,e)}function RL(t){const e=O5(t);return e.length===4?Oe.emptyPath():V5(e)}function Og(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V5(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rx(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function bL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Se(d===void 0||typeof d=="string"),_t.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),_t.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:k5(c.code);return new q(d,c.message||"")}(o);n=new D5(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$p(t,r.document.name),s=Zn(r.document.updateTime),o=r.document.createTime?Zn(r.document.createTime):se.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$p(t,r.document),s=r.readTime?Zn(r.readTime):se.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$p(t,r.document),s=r.removedTargetIds||[];n=new hd([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yL(i,s),a=r.targetId;n=new N5(a,o)}}return n}function PL(t,e){let n;if(e instanceof Mc)n={update:rx(t,e.key,e.value)};else if(e instanceof $y)n={delete:Mg(t,e.key)};else if(e instanceof Bs)n={update:rx(t,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof mL))return ie();n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:AL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function kL(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zn(i.updateTime):Zn(s);return o.isEqual(se.min())&&(o=Zn(s)),new hL(o,i.transformResults||[])}(n,e))):[]}function NL(t,e){return{documents:[L5(t,e.path)]}}function DL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L5(t,i);const s=function(c){if(c.length!==0)return F5(Mn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:io(p.field),direction:LL(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ng(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function ML(t){let e=RL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=j5(h);return p instanceof Mn&&p5(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(w){return new oh(so(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,rf(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,v=h.values||[];return new sh(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,v=h.values||[];return new sh(v,p)}(n.endAt)),ZO(e,i,o,s,a,"F",l,c)}function OL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=so(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=so(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=so(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>j5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function LL(t){return CL[t]}function VL(t){return TL[t]}function jL(t){return SL[t]}function io(t){return{fieldPath:t.canonicalString()}}function so(t){return gt.fromServerFormat(t.fieldPath)}function F5(t){return t instanceof Ze?function(n){if(n.op==="=="){if(WE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(WE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:VL(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>F5(i));return r.length===1?r[0]:{compositeFilter:{op:jL(n.op),filters:r}}}(t):ie()}function FL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=se.min(),o=se.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.ht=e}}function BL(t){const e=ML({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.ln=new zL}addToCollectionParentIndex(e,n){return this.ln.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Mi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class zL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Oe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(41943040,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Jo(0)}static Qn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx([t,e],[n,r]){const i=pe(t,n);return i===0?pe(e,r):i}class WL{constructor(e){this.Gn=e,this.buffer=new it(sx),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){va(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ga(n)}await this.Yn(3e5)})}}class GL{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(nf.oe);const r=new WL(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(ix)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),no()<=he.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function KL(t,e){return new GL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.changes=new Us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rl(r.mutation,i,Rn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ll();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ur();const o=Al(),a=function(){return Al()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Bs)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Rl(d.mutation,c,d.mutation.getFieldMask(),rt.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new QL(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Al();let i=new ze((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Rn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=C5();d.forEach(p=>{if(!s.has(p)){const v=b5(n.get(p),r.get(p));v!==null&&h.set(p,v),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(fs());let a=-1,l=s;return o.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,fe())).next(d=>({batchId:a,changes:x5(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ll();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const c=function(h,p){return new Dc(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=ll();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Rl(d.mutation,c,Rn.empty(),rt.now()),af(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return U.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:BL(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.overlays=new ze(te.comparator),this.Er=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fs();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=fs(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=fs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vL(n,r));let s=this.Er.get(n);s===void 0&&(s=fe(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.dr=new it(ot.Ar),this.Rr=new it(ot.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ot(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new te(new Oe([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new te(new Oe([])),r=new ot(n,e),i=new ot(n,e+1);let s=fe();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return te.comparator(e.key,n.key)||pe(e.br,n.br)}static Vr(e,n){return pe(e.br,n.br)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new it(ot.Ar)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(pe);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),U.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new ot(new te(s),0);let a=new it(pe);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),U.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return U.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ot(n,0),i=this.vr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.Nr=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ur();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NO(kO(d),r)<=0||(i.has(d.key)||af(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}Lr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nV(this)}getSize(e){return U.resolve(this.size)}}class nV extends qL{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.persistence=e,this.Br=new Us(n=>jy(n),Fy),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gy,this.targetCount=0,this.Qr=Jo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),U.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Un(n),U.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.Kr={},this.overlays={},this.$r=new nf(0),this.Ur=!1,this.Ur=!0,this.Wr=new ZL,this.referenceDelegate=e(this),this.Gr=new rV(this),this.indexManager=new $L,this.remoteDocumentCache=function(i){return new tV(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new UL(n),this.jr=new XL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new eV(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new iV(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return U.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class iV extends MO{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Zr=new Gy,this.Xr=null}static ei(e){return new Ky(e)}get ti(){if(this.Xr)return this.Xr;throw ie()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),U.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ti,r=>{const i=te.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return U.or([()=>U.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.ri=new Us(r=>VO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=KL(this,n)}static ei(e,n){return new uh(e,n)}Hr(){}Jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return U.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cd(e.data.value)),n}ir(e,n,r){return U.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return F7()?8:OO(Mt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new sV;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(no()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),U.resolve()):(no()<=he.DEBUG&&G("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(no()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):U.resolve())}Xi(e,n){if(qE(n))return U.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kg(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,kg(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return qE(n)||i.isEqual(se.min())?U.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?U.resolve(null):(no()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ro(n)),this.os(e,o,n,PO(i,-1)).next(a=>a))})}rs(e,n){let r=new it(w5(e));return n.forEach((i,s)=>{af(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return no()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ro(n)),this.Zi.getDocumentsMatchingQuery(e,n,Mi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new ze(pe),this.cs=new Us(s=>jy(s),Fy),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function lV(t,e,n,r){return new aV(t,e,n,r)}async function $5(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function cV(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let v=U.resolve();return p.forEach(w=>{v=v.next(()=>d.getEntry(l,w)).next(y=>{const T=c.docVersions.get(w);Se(T!==null),y.version.compareTo(T)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function z5(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function uV(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let v=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(_t.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(h,v),function(y,T,x){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,v,d)&&a.push(n.Gr.updateTargetData(s,v))});let l=Ur(),c=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(dV(s,o,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(se.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function dV(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ur();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function hV(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fV(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Lg(t,e,n){const r=oe(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!va(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function ox(t,e,n){const r=oe(t);let i=se.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=oe(l),p=h.cs.get(d);return p!==void 0?U.resolve(h.us.get(p)):h.Gr.getTargetData(c,d)}(r,o,Xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:fe())).next(a=>(pV(r,tL(e),a),{documents:a,ds:s})))}function pV(t,e,n){let r=t.ls.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class ax{constructor(){this.activeTargetIds=aL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this._o=new ax,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function zp(){return Ou===null?Ou=function(){return 268435456+Math.round(2147483648*Math.random())}():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="WebChannelConnection";class _V extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=zp(),l=this.No(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw qo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=vV[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=zp();return new Promise((o,a)=>{const l=new n5;l.setWithCredentials(!0),l.listenOnce(r5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ld.NO_ERROR:const d=l.getResponseJson();G(It,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case ld.TIMEOUT:G(It,`RPC '${e}' ${s} timed out`),a(new q(B.DEADLINE_EXCEEDED,"Request time out"));break;case ld.HTTP_ERROR:const h=l.getStatus();if(G(It,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const w=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(v.status);a(new q(w,v.message))}else a(new q(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{G(It,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(It,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=zp(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=o5(),a=s5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(It,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,v=!1;const w=new yV({Eo:T=>{v?G(It,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(G(It,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),G(It,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Ao:()=>h.close()}),y=(T,x,_)=>{T.listen(x,C=>{try{_(C)}catch(P){setTimeout(()=>{throw P},0)}})};return y(h,al.EventType.OPEN,()=>{v||(G(It,`RPC '${e}' stream ${i} transport opened.`),w.So())}),y(h,al.EventType.CLOSE,()=>{v||(v=!0,G(It,`RPC '${e}' stream ${i} transport closed`),w.Do())}),y(h,al.EventType.ERROR,T=>{v||(v=!0,qo(It,`RPC '${e}' stream ${i} transport errored:`,T),w.Do(new q(B.UNAVAILABLE,"The operation could not be completed")))}),y(h,al.EventType.MESSAGE,T=>{var x;if(!v){const _=T.data[0];Se(!!_);const C=_,P=(C==null?void 0:C.error)||((x=C[0])===null||x===void 0?void 0:x.error);if(P){G(It,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let L=function(R){const b=Xe[R];if(b!==void 0)return k5(b)}(M),I=P.message;L===void 0&&(L=B.INTERNAL,I="Unknown error status: "+M+" with message "+P.message),v=!0,w.Do(new q(L,I)),h.close()}else G(It,`RPC '${e}' stream ${i} received:`,_),w.vo(_)}}),y(a,i5.STAT_EVENT,T=>{T.stat===Sg.PROXY?G(It,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===Sg.NOPROXY&&G(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.bo()},0),w}}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return new IL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new W5(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new q(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends H5{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=bL(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Zn(o.readTime):se.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Og(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=bg(l)?{documents:NL(s,l)}:{query:DL(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=M5(s,o.resumeToken);const c=Ng(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=ch(s,o.snapshotVersion.toTimestamp());const c=Ng(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=OL(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.c_(n)}}class EV extends H5{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=kL(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Og(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PL(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Dg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(B.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Dg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(B.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class CV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fr(n),this.C_=!1):G("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{$s(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=oe(l);c.k_.add(4),await Lc(c),c.K_.set("Unknown"),c.k_.delete(4),await hf(c)}(this))})}),this.K_=new CV(r,i)}}async function hf(t){if($s(t))for(const e of t.q_)await e(!0)}async function Lc(t){for(const e of t.q_)await e(!1)}function G5(t,e){const n=oe(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Jy(n)?Xy(n):ya(n).s_()&&Yy(n,e))}function Qy(t,e){const n=oe(t),r=ya(n);n.B_.delete(e),r.s_()&&K5(n,e),n.B_.size===0&&(r.s_()?r.a_():$s(n)&&n.K_.set("Unknown"))}function Yy(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).V_(e)}function K5(t,e){t.U_.xe(e),ya(t).m_(e)}function Xy(t){t.U_=new xL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.K_.F_()}function Jy(t){return $s(t)&&!ya(t).i_()&&t.B_.size>0}function $s(t){return oe(t).k_.size===0}function q5(t){t.U_=void 0}async function SV(t){t.K_.set("Online")}async function IV(t){t.B_.forEach((e,n)=>{Yy(t,e)})}async function AV(t,e){q5(t),Jy(t)?(t.K_.O_(e),Xy(t)):t.K_.set("Unknown")}async function RV(t,e,n){if(t.K_.set("Online"),e instanceof D5&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof hd?t.U_.$e(e):e instanceof N5?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(se.min()))try{const r=await z5(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(c);d&&s.B_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(_t.EMPTY_BYTE_STRING,d.snapshotVersion)),K5(s,l);const h=new mi(d.target,l,c,d.sequenceNumber);Yy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!va(e))throw e;t.k_.add(1),await Lc(t),t.K_.set("Offline"),n||(n=()=>z5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await hf(t)})}function Q5(t,e){return e().catch(n=>dh(t,n,e))}async function ff(t){const e=oe(t),n=ji(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;bV(e);)try{const i=await hV(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,PV(e,i)}catch(i){await dh(e,i)}Y5(e)&&X5(e)}function bV(t){return $s(t)&&t.L_.length<10}function PV(t,e){t.L_.push(e);const n=ji(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Y5(t){return $s(t)&&!ji(t).i_()&&t.L_.length>0}function X5(t){ji(t).start()}async function kV(t){ji(t).w_()}async function NV(t){const e=ji(t);for(const n of t.L_)e.g_(n.mutations)}async function DV(t,e,n){const r=t.L_.shift(),i=zy.from(r,e,n);await Q5(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ff(t)}async function MV(t,e){e&&ji(t).f_&&await async function(r,i){if(function(o){return _L(o)&&o!==B.ABORTED}(i.code)){const s=r.L_.shift();ji(r).__(),await Q5(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ff(r)}}(t,e),Y5(t)&&X5(t)}async function cx(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.k_.add(3),await Lc(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await hf(n)}async function OV(t,e){const n=oe(t);e?(n.k_.delete(2),await hf(n)):e||(n.k_.add(2),await Lc(n),n.K_.set("Unknown"))}function ya(t){return t.W_||(t.W_=function(n,r,i){const s=oe(n);return s.b_(),new wV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:SV.bind(null,t),mo:IV.bind(null,t),po:AV.bind(null,t),R_:RV.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Jy(t)?Xy(t):t.K_.set("Unknown")):(await t.W_.stop(),q5(t))})),t.W_}function ji(t){return t.G_||(t.G_=function(n,r,i){const s=oe(n);return s.b_(),new EV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:kV.bind(null,t),po:MV.bind(null,t),p_:NV.bind(null,t),y_:DV.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await ff(t)):(await t.G_.stop(),t.L_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Zy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e0(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),va(t))return new q(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ll(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.z_=new ze(te.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ie():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zo(e,n,Mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class VV{constructor(){this.queries=dx(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=dx(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new q(B.ABORTED,"Firestore shutting down"))}}function dx(){return new Us(t=>_5(t),of)}async function J5(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new LV,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=e0(o,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&t0(n)}async function Z5(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jV(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&t0(n)}function FV(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function t0(t){t.X_.forEach(e=>{e.next()})}var Vg,hx;(hx=Vg||(Vg={})).na="default",hx.Cache="cache";class eA{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class UV{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=fe(),this.mutatedKeys=fe(),this.Va=w5(e),this.ma=new Mo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new ux,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),v=af(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;p&&v?p.data.isEqual(v.data)?w!==y&&(r.track({type:3,doc:v}),T=!0):this.ya(p,v)||(r.track({type:2,doc:v}),T=!0,(l&&this.Va(v,l)>0||c&&this.Va(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),T=!0):p&&!v&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(v?(o=o.add(v),s=y?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(v,w){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return y(v)-y(w)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new Zo(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new ux,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=fe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new nA(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new tA(r))}),n}va(e){this.da=e.ds,this.Ra=fe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Zo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class BV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $V{constructor(e){this.key=e,this.Fa=!1}}class zV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Us(a=>_5(a),of),this.Oa=new Map,this.Na=new Set,this.La=new ze(te.comparator),this.Ba=new Map,this.ka=new Gy,this.qa={},this.Qa=new Map,this.Ka=Jo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function WV(t,e,n=!0){const r=lA(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await rA(r,e,n,!0),i}async function HV(t,e){const n=lA(t);await rA(n,e,!0,!1)}async function rA(t,e,n,r){const i=await fV(t.localStore,Xn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await GV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&G5(t.remoteStore,i),a}async function GV(t,e,n,r,i){t.Ua=(h,p,v)=>async function(y,T,x,_){let C=T.view.ga(x);C.ss&&(C=await ox(y.localStore,T.query,!1).then(({documents:I})=>T.view.ga(I,C)));const P=_&&_.targetChanges.get(T.targetId),M=_&&_.targetMismatches.get(T.targetId)!=null,L=T.view.applyChanges(C,y.isPrimaryClient,P,M);return px(y,T.targetId,L.ba),L.snapshot}(t,h,p,v);const s=await ox(t.localStore,e,!0),o=new UV(e,s.ds),a=o.ga(s.documents),l=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);px(t,n,c.ba);const d=new BV(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function KV(t,e,n){const r=oe(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!of(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Lg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qy(r.remoteStore,i.targetId),jg(r,i.targetId)}).catch(ga)):(jg(r,i.targetId),await Lg(r.localStore,i.targetId,!0))}async function qV(t,e){const n=oe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qy(n.remoteStore,r.targetId))}async function QV(t,e,n){const r=nj(t);try{const i=await function(o,a){const l=oe(o),c=rt.now(),d=a.reduce((v,w)=>v.add(w.key),fe());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let w=Ur(),y=fe();return l.hs.getEntries(v,d).next(T=>{w=T,w.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,w)).next(T=>{h=T;const x=[];for(const _ of a){const C=pL(_,h.get(_.key).overlayedDocument);C!=null&&x.push(new Bs(_.key,C,d5(C.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,x,a)}).next(T=>{p=T;const x=T.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(v,T.batchId,x)})}).then(()=>({batchId:p.batchId,changes:x5(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new ze(pe)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vc(r,i.changes),await ff(r.remoteStore)}catch(i){const s=e0(i,"Failed to persist write");n.reject(s)}}async function iA(t,e){const n=oe(t);try{const r=await uV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Se(o.Fa):i.removedDocuments.size>0&&(Se(o.Fa),o.Fa=!1))}),await Vc(n,r,e)}catch(r){await ga(r)}}function fx(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.J_)p.ea(a)&&(c=!0)}),c&&t0(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YV(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new ze(te.comparator);o=o.insert(s,Nt.newNoDocument(s,se.min()));const a=fe().add(s),l=new uf(se.min(),new Map,new ze(pe),o,a);await iA(r,l),r.La=r.La.remove(s),r.Ba.delete(e),n0(r)}else await Lg(r.localStore,e,!1).then(()=>jg(r,e,n)).catch(ga)}async function XV(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await cV(n.localStore,e);oA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,i)}catch(i){await ga(i)}}async function JV(t,e,n){const r=oe(t);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Se(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);oA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vc(r,i)}catch(i){await ga(i)}}function sA(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function oA(t,e,n){const r=oe(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||aA(t,r)})}function aA(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Qy(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),n0(t))}function px(t,e,n){for(const r of n)r instanceof tA?(t.ka.addReference(r.key,e),ZV(t,r)):r instanceof nA?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||aA(t,r.key)):ie()}function ZV(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Na.add(r),n0(t))}function n0(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new te(Oe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new $V(n)),t.La=t.La.insert(n,r),G5(t.remoteStore,new mi(Xn(Uy(n.path)),r,"TargetPurposeLimboResolution",nf.oe))}}async function Vc(t,e,n){const r=oe(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=qy.zi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const d=oe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,p=>U.forEach(p.Wi,v=>d.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>U.forEach(p.Gi,v=>d.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!va(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const v=d.us.get(p),w=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(w);d.us=d.us.insert(p,y)}}}(r.localStore,s))}async function ej(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await $5(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new q(B.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vc(n,r.Ts)}}function tj(t,e){const n=oe(t),r=n.Ba.get(e);if(r&&r.Fa)return fe().add(r.key);{let i=fe();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function lA(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YV.bind(null,e),e.Ma.R_=jV.bind(null,e.eventManager),e.Ma.Wa=FV.bind(null,e.eventManager),e}function nj(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JV.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return lV(this.persistence,new oV,e.initialUser,this.serializer)}ja(e){return new B5(Ky.ei,this.serializer)}za(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class rj extends hh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Se(this.persistence.referenceDelegate instanceof uh);const r=this.persistence.referenceDelegate.garbageCollector;return new HL(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new B5(r=>uh.ei(r,n),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ej.bind(null,this.syncEngine),await OV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VV}()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=function(s){return new _V(s)}(e.databaseInfo);return function(s,o,a,l){return new xV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new TV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fx(this.syncEngine,n,0),function(){return lx.p()?new lx:new gV}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new zV(i,s,o,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);G("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Lc(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fg.provider={build:()=>new Fg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=l5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=e0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hp(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await $5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sj(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cx(e.remoteStore,i)),t._onlineComponents=e}async function sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Hp(t,new hh)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Hp(t,new rj(void 0));return t._offlineComponents}async function uA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await mx(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await mx(t,new Fg))),t._onlineComponents}function oj(t){return uA(t).then(e=>e.syncEngine)}async function dA(t){const e=await uA(t),n=e.eventManager;return n.onListen=WV.bind(null,e.syncEngine),n.onUnlisten=KV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qV.bind(null,e.syncEngine),n}function aj(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new cA({next:p=>{d.eu(),o.enqueueAndForget(()=>Z5(s,h));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new q(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&l.source==="server"?c.reject(new q(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new eA(Uy(a.path),d,{includeMetadataChanges:!0,ua:!0});return J5(s,h)}(await dA(t),t.asyncQueue,e,n,r)),r.promise}function lj(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new cA({next:p=>{d.eu(),o.enqueueAndForget(()=>Z5(s,h)),p.fromCache&&l.source==="server"?c.reject(new q(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new eA(a,d,{includeMetadataChanges:!0,ua:!0});return J5(s,h)}(await dA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e,n){if(!n)throw new q(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cj(t,e,n,r){if(e===!0&&r===!0)throw new q(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vx(t){if(!te.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yx(t){if(te.isDocumentKey(t))throw new q(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(t);throw new q(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _x({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _x(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EO;switch(r.type){case"firstParty":return new SO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=gx.get(n);r&&(G("ComponentProvider","Removing Datastore"),gx.delete(n),r.terminate())}(this),Promise.resolve()}}function uj(t,e,n,r={}){var i;const s=(t=bs(t,mf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rt.MOCK_USER;else{a=fI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rt(c)}t._authCredentials=new xO(new a5(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Ai extends _a{constructor(e,n,r){super(e,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new te(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function pA(t,e,...n){if(t=dt(t),fA("collection","path",e),t instanceof mf){const r=Oe.fromString(e,...n);return yx(r),new Ai(t,null,r)}{if(!(t instanceof nn||t instanceof Ai))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return yx(r),new Ai(t.firestore,null,r)}}function r0(t,e,...n){if(t=dt(t),arguments.length===1&&(e=l5.newId()),fA("doc","path",e),t instanceof mf){const r=Oe.fromString(e,...n);return vx(r),new nn(t,null,new te(r))}{if(!(t instanceof nn||t instanceof Ai))throw new q(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return vx(r),new nn(t.firestore,t instanceof Ai?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new W5(this,"async_queue_retry"),this.fu=()=>{const r=Wp();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Rr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!va(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Zy.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ie()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class jc extends mf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wx(e),this._firestoreClient=void 0,await e}}}function dj(t,e){const n=typeof t=="object"?t:Iy(),r=typeof t=="string"?t:"(default)",i=Jh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uI("firestore");s&&uj(i,...s)}return i}function i0(t){if(t._terminated)throw new q(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hj(t),t._firestoreClient}function hj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new UO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ij(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(_t.fromBase64String(e))}catch(n){throw new q(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ea(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=/^__.*__$/;class pj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mc(e,this.data,n,this.fieldTransforms)}}function gA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class l0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new l0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return fh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(gA(this.Mu)&&fj.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class mj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}$u(e,n,r,i=!1){return new l0({Mu:e,methodName:n,Ku:r,path:gt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vA(t){const e=t._freezeSettings(),n=df(t._databaseId);return new mj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gj(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);wA("Data must be an object, but it was:",o,r);const a=yA(r,o);let l,c;if(s.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=yj(e,h,n);if(!o.contains(p))throw new q(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wj(d,p)||d.push(p)}l=new Rn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new pj(new mn(a),l,c)}function vj(t,e,n,r=!1){return c0(n,t.$u(r?4:3,e))}function c0(t,e){if(_A(t=dt(t)))return wA("Unsupported field value:",e,t),yA(t,e);if(t instanceof mA)return function(r,i){if(!gA(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=c0(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:ch(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(i.serializer,s)}}if(r instanceof o0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:M5(i.serializer,r._byteString)};if(r instanceof nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof a0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return By(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${pf(r)}`)}(t,e)}function yA(t,e){const n={};return c5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(t,(r,i)=>{const s=c0(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function _A(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof o0||t instanceof ea||t instanceof nn||t instanceof mA||t instanceof a0)}function wA(t,e,n){if(!_A(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=pf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function yj(t,e,n){if((e=dt(e))instanceof s0)return e._internalPath;if(typeof e=="string")return EA(t,e);throw fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const _j=new RegExp("[~\\*/\\[\\]]");function EA(t,e,n){if(e.search(_j)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new s0(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(B.INVALID_ARGUMENT,a+t+l)}function wj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ej extends xA{data(){return super.data()}}function CA(t,e){return typeof e=="string"?EA(t,e):e instanceof s0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u0{}class Cj extends u0{}function Tj(t,e,...n){let r=[];e instanceof u0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof h0).length,a=s.filter(l=>l instanceof d0).length;if(o>1||o>0&&a>0)throw new q(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class d0 extends Cj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new d0(e,n,r)}_apply(e){const n=this._parse(e);return TA(e._query,n),new _a(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=vA(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xx(h,d);const v=[];for(const w of h)v.push(Ex(l,s,w));p={arrayValue:{values:v}}}else p=Ex(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xx(h,d),p=vj(a,o,h,d==="in"||d==="not-in");return Ze.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class h0 extends u0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new h0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)TA(o,l),o=Pg(o,l)}(e._query,n),new _a(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ex(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new q(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y5(e)&&n.indexOf("/")!==-1)throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!te.isDocumentKey(r))throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $E(t,new te(r))}if(n instanceof nn)return $E(t,n._key);throw new q(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function xx(t,e){if(!Array.isArray(t)||t.length===0)throw new q(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Sj{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>qe(o.doubleValue));return new a0(s)}convertGeoPoint(e){return new o0(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sc(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Se(U5(r));const i=new oc(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Fr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SA extends xA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fd extends SA{data(e={}){return super.data(e)}}class Aj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ul(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fd(this._firestore,this._userDataWriter,r.key,r,new ul(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ul(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Rj(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Rj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){t=bs(t,nn);const e=bs(t.firestore,jc);return aj(i0(e),t._key).then(n=>Dj(e,t,n))}class IA extends Sj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Pj(t){t=bs(t,_a);const e=bs(t.firestore,jc),n=i0(e),r=new IA(e);return xj(t._query),lj(n,t._query).then(i=>new Aj(e,r,t,i))}function kj(t){return AA(bs(t.firestore,jc),[new $y(t._key,Jn.none())])}function Nj(t,e){const n=bs(t.firestore,jc),r=r0(t),i=Ij(t.converter,e);return AA(n,[gj(vA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function AA(t,e){return function(r,i){const s=new Rr;return r.asyncQueue.enqueueAndForget(async()=>QV(await oj(r),i,s)),s.promise}(i0(t),e)}function Dj(t,e,n){const r=n.docs.get(e._key),i=new IA(t);return new SA(t,i,e._key,r,new ul(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ma=i})(Vs),Ss(new Di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jc(new CO(r.getProvider("auth-internal")),new AO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qn(LE,"4.7.5",e),qn(LE,"4.7.5","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="firebasestorage.googleapis.com",Mj="storageBucket",Oj=2*60*1e3,Lj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends lr{constructor(e,n,r=0){super(Gp(e),`Firebase Storage: ${n} (${Gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sr||(sr={}));function Gp(t){return"storage/"+t}function Vj(){const t="An unknown error occurred, please check the error payload for server response.";return new cr(sr.UNKNOWN,t)}function jj(){return new cr(sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fj(){return new cr(sr.CANCELED,"User canceled the upload/download.")}function Uj(t){return new cr(sr.INVALID_URL,"Invalid URL '"+t+"'.")}function Bj(t){return new cr(sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cx(t){return new cr(sr.INVALID_ARGUMENT,t)}function bA(){return new cr(sr.APP_DELETED,"The Firebase app was deleted.")}function $j(t){return new cr(sr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw Bj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},y=n===RA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",x=new RegExp(`^https?://${y}/${i}/${T}`,"i"),C=[{regex:a,indices:l,postModify:s},{regex:v,indices:w,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let P=0;P<C.length;P++){const M=C[P],L=M.regex.exec(e);if(L){const I=L[M.indices.bucket];let S=L[M.indices.path];S||(S=""),r=new bn(I,S),M.postModify(r);break}}if(r==null)throw Uj(e);return r}}class zj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,t(v,l())},T)}function p(){s&&clearTimeout(s)}function v(T,...x){if(c){p();return}if(T){p(),d.call(null,T,...x);return}if(l()||o){p(),d.call(null,T,...x);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,h(C)}let w=!1;function y(T){w||(w=!0,p(),!c&&(i!==null?(T||(a=2),clearTimeout(i),h(0)):T||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}function Hj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){return t!==void 0}function Tx(t,e,n,r){if(r<e)throw Cx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cx(`Invalid value for '${t}'. Expected ${n} or less.`)}function Kj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ph;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ph||(ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,i,s,o,a,l,c,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,w)=>{this.resolve_=v,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ph.NO_ERROR,l=s.getStatus();if(!a||qj(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ph.ABORT;r(!1,new Lu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Lu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Gj(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Vj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bA():Fj();o(l)}else{const l=jj();o(l)}};this.canceled_?n(!1,new Lu(!1,null,!0)):this.backoffId_=Wj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Hj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Yj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Xj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Jj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eF(t,e,n,r,i,s,o=!0){const a=Kj(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Jj(c,e),Yj(c,n),Xj(c,s),Zj(c,r),new Qj(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function nF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new mh(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nF(this._location.path)}get storage(){return this._service}get parent(){const e=tF(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new mh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw $j(e)}}function Sx(t,e){const n=e==null?void 0:e[Mj];return n==null?null:bn.makeFromBucketSpec(n,t)}function rF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:fI(i,t.app.options.projectId))}class iF{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=RA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Oj,this._maxUploadRetryTime=Lj,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=Sx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=Sx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new mh(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new zj(bA());{const o=eF(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ix="@firebase/storage",Ax="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="storage";function sF(t=Iy(),e){t=dt(t);const r=Jh(t,PA).getImmediate({identifier:e}),i=uI("storage");return i&&oF(r,...i),r}function oF(t,e,n,r={}){rF(t,e,n,r)}function aF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new iF(n,r,i,e,Vs)}function lF(){Ss(new Di(PA,aF,"PUBLIC").setMultipleInstances(!0)),qn(Ix,Ax,""),qn(Ix,Ax,"esm2017")}lF();const cF={apiKey:"AIzaSyAuqn8vGXYmLXZ7_0H5-ZZ2WIrWVHd3ihw",authDomain:"ai-trip-planner-8fcc2.firebaseapp.com",projectId:"ai-trip-planner-8fcc2",storageBucket:"ai-trip-planner-8fcc2.firebasestorage.app",messagingSenderId:"1012776508304",appId:"1:1012776508304:web:b58a6648085e0d6f563115"},f0=gI(cF),Fc=vO(f0);r8(Fc,GI).catch(t=>{console.error("Failed to set persistence:",t)});const gf=dj(f0);sF(f0);const uF=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0);return g.useEffect(()=>o8(Fc,s=>{e(s||null),r(!1)}),[]),{user:t,loading:n}},kA=g.createContext({user:null,loading:!0}),dF=({children:t})=>{const{user:e,loading:n}=uF();return f.jsx(kA.Provider,{value:{user:e,loading:n},children:t})},wa=()=>{const t=g.useContext(kA);if(t===void 0)throw new Error("useAuth must be used within a AuthProvider");return t};function hF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function vf(...t){return e=>t.forEach(n=>hF(n,e))}function Ce(...t){return g.useCallback(vf(...t),t)}var on=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(fF);if(s){const o=s.props.children,a=i.map(l=>l===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return f.jsx(Ug,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return f.jsx(Ug,{...r,ref:e,children:n})});on.displayName="Slot";var Ug=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const i=mF(n);return g.cloneElement(n,{...pF(r,n.props),ref:e?vf(e,i):i})}return g.Children.count(n)>1?g.Children.only(null):null});Ug.displayName="SlotClone";var p0=({children:t})=>f.jsx(f.Fragment,{children:t});function fF(t){return g.isValidElement(t)&&t.type===p0}function pF(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function mF(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var gF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ce=gF.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?on:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function NA(t,e){t&&ua.flushSync(()=>t.dispatchEvent(e))}var vF="Label",DA=g.forwardRef((t,e)=>f.jsx(ce.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DA.displayName=vF;var MA=DA;function OA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=OA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function yF(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=OA(t))&&(r&&(r+=" "),r+=e);return r}const Rx=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,bx=yF,yf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return bx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const p=Rx(d)||Rx(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...v}=d;return Object.entries(v).every(w=>{let[y,T]=w;return Array.isArray(T)?T.includes({...s,...a}[y]):{...s,...a}[y]===T})?[...c,h,p]:c},[]);return bx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function LA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _F(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LA(t))&&(r&&(r+=" "),r+=e);return r}const m0="-",wF=t=>{const e=xF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(m0);return a[0]===""&&a.length!==1&&a.shift(),VA(a,e)||EF(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},VA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?VA(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(m0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},Px=/^\[(.+)\]$/,EF=t=>{if(Px.test(t)){const e=Px.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xF=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return TF(Object.entries(t.classGroups),n).forEach(([s,o])=>{Bg(o,r,s,e)}),r},Bg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:kx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(CF(i)){Bg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Bg(o,kx(e,s),n,r)})})},kx=(t,e)=>{let n=t;return e.split(m0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CF=t=>t.isThemeGetter,TF=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,SF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},jA="!",IF=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,h;for(let T=0;T<a.length;T++){let x=a[T];if(c===0){if(x===i&&(r||a.slice(T,T+s)===e)){l.push(a.slice(d,T)),d=T+s;continue}if(x==="/"){h=T;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(d),v=p.startsWith(jA),w=v?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},AF=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},RF=t=>({cache:SF(t.cacheSize),parseClassName:IF(t),...wF(t)}),bF=/\s+/,PF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(bF);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:v}=n(c);let w=!!v,y=r(w?p.substring(0,v):p);if(!y){if(!w){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}w=!1}const T=AF(d).join(":"),x=h?T+jA:T,_=x+y;if(s.includes(_))continue;s.push(_);const C=i(y,w);for(let P=0;P<C.length;++P){const M=C[P];s.push(x+M)}a=c+(a.length>0?" "+a:a)}return a};function kF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=FA(e))&&(r&&(r+=" "),r+=n);return r}const FA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=FA(t[r]))&&(n&&(n+=" "),n+=e);return n};function NF(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,h)=>h(d),t());return n=RF(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=PF(l,n);return i(l,d),d}return function(){return s(kF.apply(null,arguments))}}const De=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},UA=/^\[(?:([a-z-]+):)?(.+)\]$/i,DF=/^\d+\/\d+$/,MF=new Set(["px","full","screen"]),OF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,FF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mr=t=>Oo(t)||MF.has(t)||DF.test(t),Jr=t=>Ea(t,"length",KF),Oo=t=>!!t&&!Number.isNaN(Number(t)),Kp=t=>Ea(t,"number",Oo),Qa=t=>!!t&&Number.isInteger(Number(t)),UF=t=>t.endsWith("%")&&Oo(t.slice(0,-1)),le=t=>UA.test(t),Zr=t=>OF.test(t),BF=new Set(["length","size","percentage"]),$F=t=>Ea(t,BF,BA),zF=t=>Ea(t,"position",BA),WF=new Set(["image","url"]),HF=t=>Ea(t,WF,QF),GF=t=>Ea(t,"",qF),Ya=()=>!0,Ea=(t,e,n)=>{const r=UA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},KF=t=>LF.test(t)&&!VF.test(t),BA=()=>!1,qF=t=>jF.test(t),QF=t=>FF.test(t),YF=()=>{const t=De("colors"),e=De("spacing"),n=De("blur"),r=De("brightness"),i=De("borderColor"),s=De("borderRadius"),o=De("borderSpacing"),a=De("borderWidth"),l=De("contrast"),c=De("grayscale"),d=De("hueRotate"),h=De("invert"),p=De("gap"),v=De("gradientColorStops"),w=De("gradientColorStopPositions"),y=De("inset"),T=De("margin"),x=De("opacity"),_=De("padding"),C=De("saturate"),P=De("scale"),M=De("sepia"),L=De("skew"),I=De("space"),S=De("translate"),R=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",le,e],D=()=>[le,e],k=()=>["",mr,Jr],J=()=>["auto",Oo,le],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",le],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Oo,le];return{cacheSize:500,separator:":",theme:{colors:[Ya],spacing:[mr,Jr],blur:["none","",Zr,le],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Zr,le],borderSpacing:D(),borderWidth:k(),contrast:ee(),grayscale:F(),hueRotate:ee(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[UF,Jr],inset:N(),margin:N(),opacity:ee(),padding:D(),saturate:ee(),scale:ee(),sepia:F(),skew:ee(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",le]}],container:["container"],columns:[{columns:[Zr]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),le]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qa,le]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",le]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Qa,le]}],"grid-cols":[{"grid-cols":[Ya]}],"col-start-end":[{col:["auto",{span:["full",Qa,le]},le]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Ya]}],"row-start-end":[{row:["auto",{span:[Qa,le]},le]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",le]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",le,e]}],"min-w":[{"min-w":[le,e,"min","max","fit"]}],"max-w":[{"max-w":[le,e,"none","full","min","max","fit","prose",{screen:[Zr]},Zr]}],h:[{h:[le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kp]}],"font-family":[{font:[Ya]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",le]}],"line-clamp":[{"line-clamp":["none",Oo,Kp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mr,le]}],"list-image":[{"list-image":["none",le]}],"list-style-type":[{list:["none","disc","decimal",le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mr,Jr]}],"underline-offset":[{"underline-offset":["auto",mr,le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),zF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$F]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HF]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[mr,le]}],"outline-w":[{outline:[mr,Jr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[mr,Jr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zr,GF]}],"shadow-color":[{shadow:[Ya]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zr,le]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",le]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",le]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Qa,le]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[mr,Jr,Kp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XF=NF(YF);function H(...t){return XF(_F(t))}const JF=yf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lo=g.forwardRef(({className:t,...e},n)=>f.jsx(MA,{ref:n,className:H(JF(),t),...e}));Lo.displayName=MA.displayName;function ZF(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function _f(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $g=t=>Array.isArray(t);function $A(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function uc(t){return typeof t=="string"||Array.isArray(t)}function Nx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function g0(t,e,n,r){if(typeof e=="function"){const[i,s]=Nx(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Nx(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function wf(t,e,n){const r=t.getProps();return g0(r,e,n!==void 0?n:r.custom,t)}const v0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y0=["initial",...v0],Uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zs=new Set(Uc),br=t=>t*1e3,Pr=t=>t/1e3,eU={type:"spring",stiffness:500,damping:25,restSpeed:10},tU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nU={type:"keyframes",duration:.8},rU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iU=(t,{keyframes:e})=>e.length>2?nU:zs.has(t)?t.startsWith("scale")?tU(e[1]):eU:rU;function _0(t,e){return t?t[e]||t.default||t:void 0}const sU={useManualTiming:!1},oU=t=>t!==null;function Ef(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(oU),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ut=t=>t;function aU(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const v=h&&r?e:n;return d&&s.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Vu=["read","resolveKeyframes","update","preRender","render","postRender"],lU=40;function zA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Vu.reduce((x,_)=>(x[_]=aU(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:p}=o,v=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,lU),1),i.timestamp=x,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},w=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:Vu.reduce((x,_)=>{const C=o[_];return x[_]=(P,M=!1,L=!1)=>(n||w(),C.schedule(P,M,L)),x},{}),cancel:x=>{for(let _=0;_<Vu.length;_++)o[Vu[_]].cancel(x)},state:i,steps:o}}const{schedule:ve,cancel:On,state:st,steps:qp}=zA(typeof requestAnimationFrame<"u"?requestAnimationFrame:ut,!0),WA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cU=1e-7,uU=12;function dU(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=WA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>cU&&++a<uU);return o}function Bc(t,e,n,r){if(t===e&&n===r)return ut;const i=s=>dU(s,0,1,t,n);return s=>s===0||s===1?s:WA(i(s),e,r)}const HA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,GA=t=>e=>1-t(1-e),KA=Bc(.33,1.53,.69,.99),w0=GA(KA),qA=HA(w0),QA=t=>(t*=2)<1?.5*w0(t):.5*(2-Math.pow(2,-10*(t-1))),E0=t=>1-Math.sin(Math.acos(t)),YA=GA(E0),XA=HA(E0),JA=t=>/^0[^.\s]+$/u.test(t);function hU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JA(t):!0}let fU=ut,zg=ut;const ZA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),eR=t=>e=>typeof e=="string"&&e.startsWith(t),tR=eR("--"),pU=eR("var(--"),x0=t=>pU(t)?mU.test(t.split("/*")[0].trim()):!1,mU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vU(t){const e=gU.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nR(t,e,n=1){const[r,i]=vU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return ZA(o)?parseFloat(o):o}return x0(i)?nR(i,e,n+1):i}const Fi=(t,e,n)=>n>e?e:n<t?t:n,xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...xa,transform:t=>Fi(0,1,t)},ju={...xa,default:1},$c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ei=$c("deg"),er=$c("%"),ne=$c("px"),yU=$c("vh"),_U=$c("vw"),Dx={...er,parse:t=>er.parse(t)/100,transform:t=>er.transform(t*100)},wU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mx=t=>t===xa||t===ne,Ox=(t,e)=>parseFloat(t.split(", ")[e]),Lx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Ox(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Ox(s[1],t):0}},EU=new Set(["x","y","z"]),xU=Uc.filter(t=>!EU.has(t));function CU(t){const e=[];return xU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ta={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lx(4,13),y:Lx(5,14)};ta.translateX=ta.x;ta.translateY=ta.y;const rR=t=>e=>e.test(t),TU={test:t=>t==="auto",parse:t=>t},iR=[xa,ne,er,ei,_U,yU,TU],Vx=t=>iR.find(rR(t)),ys=new Set;let Wg=!1,Hg=!1;function sR(){if(Hg){const t=Array.from(ys).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=CU(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hg=!1,Wg=!1,ys.forEach(t=>t.complete()),ys.clear()}function oR(){ys.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hg=!0)})}function SU(){oR(),sR()}class C0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ys.add(this),Wg||(Wg=!0,ve.read(oR),ve.resolveKeyframes(sR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ys.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ys.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bl=t=>Math.round(t*1e5)/1e5,T0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IU(t){return t==null}const AU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S0=(t,e)=>n=>!!(typeof n=="string"&&AU.test(n)&&n.startsWith(t)||e&&!IU(n)&&Object.prototype.hasOwnProperty.call(n,e)),aR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(T0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RU=t=>Fi(0,255,t),Qp={...xa,transform:t=>Math.round(RU(t))},ps={test:S0("rgb","red"),parse:aR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Qp.transform(t)+", "+Qp.transform(e)+", "+Qp.transform(n)+", "+bl(dc.transform(r))+")"};function bU(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gg={test:S0("#"),parse:bU,transform:ps.transform},wo={test:S0("hsl","hue"),parse:aR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+er.transform(bl(e))+", "+er.transform(bl(n))+", "+bl(dc.transform(r))+")"},At={test:t=>ps.test(t)||Gg.test(t)||wo.test(t),parse:t=>ps.test(t)?ps.parse(t):wo.test(t)?wo.parse(t):Gg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ps.transform(t):wo.transform(t)},PU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kU(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(T0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PU))===null||n===void 0?void 0:n.length)||0)>0}const lR="number",cR="color",NU="var",DU="var(",jx="${}",MU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(MU,l=>(At.test(l)?(r.color.push(s),i.push(cR),n.push(At.parse(l))):l.startsWith(DU)?(r.var.push(s),i.push(NU),n.push(l)):(r.number.push(s),i.push(lR),n.push(parseFloat(l))),++s,jx)).split(jx);return{values:n,split:a,indexes:r,types:i}}function uR(t){return hc(t).values}function dR(t){const{split:e,types:n}=hc(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===lR?s+=bl(i[o]):a===cR?s+=At.transform(i[o]):s+=i[o]}return s}}const OU=t=>typeof t=="number"?0:t;function LU(t){const e=uR(t);return dR(t)(e.map(OU))}const Ui={test:kU,parse:uR,createTransformer:dR,getAnimatableNone:LU},VU=new Set(["brightness","contrast","saturate","opacity"]);function jU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(T0)||[];if(!r)return t;const i=n.replace(r,"");let s=VU.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const FU=/\b([a-z-]*)\(.*?\)/gu,Kg={...Ui,getAnimatableNone:t=>{const e=t.match(FU);return e?e.map(jU).join(" "):t}},UU={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},BU={rotate:ei,rotateX:ei,rotateY:ei,rotateZ:ei,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:ei,skewX:ei,skewY:ei,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:dc,originX:Dx,originY:Dx,originZ:ne},Fx={...xa,transform:Math.round},I0={...UU,...BU,zIndex:Fx,size:ne,fillOpacity:dc,strokeOpacity:dc,numOctaves:Fx},$U={...I0,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:Kg,WebkitFilter:Kg},A0=t=>$U[t];function hR(t,e){let n=A0(t);return n!==Kg&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zU=new Set(["auto","none","0"]);function WU(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!zU.has(s)&&hc(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=hR(n,i)}class fR extends C0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),x0(c))){const d=nR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!wU.has(r)||e.length!==2)return;const[i,s]=e,o=Vx(i),a=Vx(s);if(o!==a)if(Mx(o)&&Mx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)hU(e[i])&&r.push(i);r.length&&WU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ta[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ta[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function R0(t){return typeof t=="function"}let pd;function HU(){pd=void 0}const tr={now:()=>(pd===void 0&&tr.set(st.isProcessing||sU.useManualTiming?st.timestamp:performance.now()),pd),set:t=>{pd=t,queueMicrotask(HU)}},Ux=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function GU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KU(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ux(i,e),a=Ux(s,e);return!o||!a?!1:GU(t)||(n==="spring"||R0(n))&&r}const qU=40;class pR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SU(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!KU(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Ef(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function b0(t,e){return e?t*(1e3/e):0}const QU=5;function mR(t,e,n){const r=Math.max(e-QU,0);return b0(n-t(r),e-r)}const Yp=.001,YU=.01,XU=10,JU=.05,ZU=1;function eB({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=Fi(JU,ZU,o),t=Fi(YU,XU,Pr(t)),o<1?(i=c=>{const d=c*o,h=d*t,p=d-n,v=qg(c,o),w=Math.exp(-h);return Yp-p/v*w},s=c=>{const h=c*o*t,p=h*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),y=qg(Math.pow(c,2),o);return(-i(c)+Yp>0?-1:1)*((p-v)*w)/y}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Yp+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=nB(i,s,a);if(t=br(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const tB=12;function nB(t,e,n){let r=n;for(let i=1;i<tB;i++)r=r-t(r)/e(r);return r}function qg(t,e){return t*Math.sqrt(1-e*e)}const rB=["duration","bounce"],iB=["stiffness","damping","mass"];function Bx(t,e){return e.some(n=>t[n]!==void 0)}function sB(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Bx(t,iB)&&Bx(t,rB)){const n=eB(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function gR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=sB({...r,velocity:-Pr(r.velocity||0)}),v=h||0,w=l/(2*Math.sqrt(a*c)),y=s-i,T=Pr(Math.sqrt(a/c)),x=Math.abs(y)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let _;if(w<1){const C=qg(T,w);_=P=>{const M=Math.exp(-w*T*P);return s-M*((v+w*T*y)/C*Math.sin(C*P)+y*Math.cos(C*P))}}else if(w===1)_=C=>s-Math.exp(-T*C)*(y+(v+T*y)*C);else{const C=T*Math.sqrt(w*w-1);_=P=>{const M=Math.exp(-w*T*P),L=Math.min(C*P,300);return s-M*((v+w*T*y)*Math.sinh(L)+C*y*Math.cosh(L))/C}}return{calculatedDuration:p&&d||null,next:C=>{const P=_(C);if(p)o.done=C>=d;else{let M=0;w<1&&(M=C===0?br(v):mR(_,C,P));const L=Math.abs(M)<=n,I=Math.abs(s-P)<=e;o.done=L&&I}return o.value=o.done?s:P,o}}}function $x({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},v=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const T=h+y,x=o===void 0?T:o(T);x!==T&&(y=x-h);const _=S=>-y*Math.exp(-S/r),C=S=>x+_(S),P=S=>{const R=_(S),b=C(S);p.done=Math.abs(R)<=c,p.value=p.done?x:b};let M,L;const I=S=>{v(p.value)&&(M=S,L=gR({keyframes:[p.value,w(p.value)],velocity:mR(C,S,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return I(0),{calculatedDuration:null,next:S=>{let R=!1;return!L&&M===void 0&&(R=!0,P(S),I(S)),M!==void 0&&S>=M?L.next(S-M):(!R&&P(S),p)}}}const oB=Bc(.42,0,1,1),aB=Bc(0,0,.58,1),vR=Bc(.42,0,.58,1),lB=t=>Array.isArray(t)&&typeof t[0]!="number",P0=t=>Array.isArray(t)&&typeof t[0]=="number",zx={linear:ut,easeIn:oB,easeInOut:vR,easeOut:aB,circIn:E0,circInOut:XA,circOut:YA,backIn:w0,backInOut:qA,backOut:KA,anticipate:QA},Wx=t=>{if(P0(t)){zg(t.length===4);const[e,n,r,i]=t;return Bc(e,n,r,i)}else if(typeof t=="string")return zg(zx[t]!==void 0),zx[t];return t},cB=(t,e)=>n=>e(t(n)),kr=(...t)=>t.reduce(cB),Ps=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ue=(t,e,n)=>t+(e-t)*n;function Xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function uB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Xp(l,a,t+1/3),s=Xp(l,a,t),o=Xp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gh(t,e){return n=>n>0?e:t}const Jp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},dB=[Gg,ps,wo],hB=t=>dB.find(e=>e.test(t));function Hx(t){const e=hB(t);if(!e)return!1;let n=e.parse(t);return e===wo&&(n=uB(n)),n}const Gx=(t,e)=>{const n=Hx(t),r=Hx(e);if(!n||!r)return gh(t,e);const i={...n};return s=>(i.red=Jp(n.red,r.red,s),i.green=Jp(n.green,r.green,s),i.blue=Jp(n.blue,r.blue,s),i.alpha=Ue(n.alpha,r.alpha,s),ps.transform(i))},Qg=new Set(["none","hidden"]);function fB(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function pB(t,e){return n=>Ue(t,e,n)}function k0(t){return typeof t=="number"?pB:typeof t=="string"?x0(t)?gh:At.test(t)?Gx:vB:Array.isArray(t)?yR:typeof t=="object"?At.test(t)?Gx:mB:gh}function yR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>k0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function mB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=k0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function gB(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const vB=(t,e)=>{const n=Ui.createTransformer(e),r=hc(t),i=hc(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Qg.has(t)&&!i.values.length||Qg.has(e)&&!r.values.length?fB(t,e):kr(yR(gB(r,i),i.values),n):gh(t,e)};function _R(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ue(t,e,n):k0(t)(t,e)}function yB(t,e,n){const r=[],i=n||_R,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ut:e;a=kr(l,a)}r.push(a)}return r}function N0(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(zg(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yB(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Ps(t[d],t[d+1],c);return o[d](h)};return n?c=>l(Fi(t[0],t[s-1],c)):l}function _B(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ps(0,e,r);t.push(Ue(n,1,i))}}function wR(t){const e=[0];return _B(e,t.length-1),e}function wB(t,e){return t.map(n=>n*e)}function EB(t,e){return t.map(()=>e||vR).splice(0,t.length-1)}function vh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lB(r)?r.map(Wx):Wx(r),s={done:!1,value:e[0]},o=wB(n&&n.length===e.length?n:wR(e),t),a=N0(o,e,{ease:Array.isArray(i)?i:EB(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Kx=2e4;function xB(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kx;)e+=n,r=t.next(e);return e>=Kx?1/0:e}const CB=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>On(e),now:()=>st.isProcessing?st.timestamp:tr.now()}},TB={decay:$x,inertia:$x,tween:vh,keyframes:vh,spring:gR},SB=t=>t/100;class D0 extends pR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||C0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=R0(n)?n:TB[n]||vh;let l,c;a!==vh&&typeof e[0]!="number"&&(l=kr(SB,_R(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xB(d));const{calculatedDuration:h}=d,p=h+i,v=p*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:v,repeatType:w,repeatDelay:y,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,P=s;if(v){const S=Math.min(this.currentTime,d)/h;let R=Math.floor(S),b=S%1;!b&&S>=1&&(b=1),b===1&&R--,R=Math.min(R,v+1),!!(R%2)&&(w==="reverse"?(b=1-b,y&&(b-=y/h)):w==="mirror"&&(P=o)),C=Fi(0,1,b)*h}const M=_?{done:!1,value:l[0]}:P.next(C);a&&(M.value=a(M.value));let{done:L}=M;!_&&c!==null&&(L=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return I&&i!==void 0&&(M.value=Ef(l,this.options,i)),T&&T(M.value),I&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Pr(e.calculatedDuration):0}get time(){return Pr(this.currentTime)}set time(e){e=br(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=CB,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const IB=new Set(["opacity","clipPath","filter","transform"]),AB=10,RB=(t,e)=>{let n="";const r=Math.max(Math.round(e/AB),2);for(let i=0;i<r;i++)n+=t(Ps(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function M0(t){let e;return()=>(e===void 0&&(e=t()),e)}const bB={linearEasing:void 0};function PB(t,e){const n=M0(t);return()=>{var r;return(r=bB[e])!==null&&r!==void 0?r:n()}}const yh=PB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function ER(t){return!!(typeof t=="function"&&yh()||!t||typeof t=="string"&&(t in Yg||yh())||P0(t)||Array.isArray(t)&&t.every(ER))}const dl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Yg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dl([0,.65,.55,1]),circOut:dl([.55,0,1,.45]),backIn:dl([.31,.01,.66,-.59]),backOut:dl([.33,1.53,.69,.99])};function xR(t,e){if(t)return typeof t=="function"&&yh()?RB(t,e):P0(t)?dl(t):Array.isArray(t)?t.map(n=>xR(n,e)||Yg.easeOut):Yg[t]}function kB(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=xR(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function qx(t,e){t.timeline=e,t.onfinish=null}const NB=M0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_h=10,DB=2e4;function MB(t){return R0(t.type)||t.type==="spring"||!ER(t.ease)}function OB(t,e){const n=new D0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<DB;)r=n.sample(s),i.push(r.value),s+=_h;return{times:void 0,keyframes:i,duration:s-_h,ease:"linear"}}const CR={anticipate:QA,backInOut:qA,circInOut:XA};function LB(t){return t in CR}class Qx extends pR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new fR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&yh()&&LB(o)&&(o=CR[o]),MB(this.options)){const{onComplete:p,onUpdate:v,motionValue:w,element:y,...T}=this.options,x=OB(e,T);e=x.keyframes,e.length===1&&(e[1]=e[0]),i=x.duration,s=x.times,o=x.ease,a="keyframes"}const h=kB(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(qx(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(Ef(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Pr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Pr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=br(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ut;const{animation:r}=n;qx(r,e)}return ut}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:p,...v}=this.options,w=new D0({...v,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),y=br(this.time);c.setWithVelocity(w.sample(y-_h).value,w.sample(y).value,_h)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return NB()&&r&&IB.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const TR=M0(()=>window.ScrollTimeline!==void 0);class VB{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>TR()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function jB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const O0=(t,e,n,r={},i,s)=>o=>{const a=_0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-br(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};jB(a)||(d={...d,...iU(t,d)}),d.duration&&(d.duration=br(d.duration)),d.repeatDelay&&(d.repeatDelay=br(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const p=Ef(d.keyframes,a);if(p!==void 0)return ve.update(()=>{d.onUpdate(p),d.onComplete()}),new VB([])}return!s&&Qx.supports(d)?new Qx(d):new D0(d)},FB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UB=t=>$g(t)?t[t.length-1]||0:t;function L0(t,e){t.indexOf(e)===-1&&t.push(e)}function V0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class j0{constructor(){this.subscriptions=[]}add(e){return L0(this.subscriptions,e),()=>V0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Yx=30,BB=t=>!isNaN(parseFloat(t)),Pl={current:void 0};class $B{constructor(e,n={}){this.version="11.11.17",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=tr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BB(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Pl.current&&Pl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Yx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Yx);return b0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hn(t,e){return new $B(t,e)}function zB(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hn(n))}function WB(t,e){const n=wf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=UB(s[o]);zB(t,o,a)}}const F0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HB="framerAppearId",SR="data-"+F0(HB);function IR(t){return t.props[SR]}const lt=t=>!!(t&&t.getVelocity);function GB(t){return!!(lt(t)&&t.add)}function Xg(t,e){const n=t.getValue("willChange");if(GB(n))return n.add(e)}function KB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function AR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const p=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),v=l[h];if(v===void 0||d&&KB(d,h))continue;const w={delay:n,..._0(o||{},h)};let y=!1;if(window.MotionHandoffAnimation){const x=IR(t);if(x){const _=window.MotionHandoffAnimation(x,h,ve);_!==null&&(w.startTime=_,y=!0)}}Xg(t,h),p.start(O0(h,p,v,t.shouldReduceMotion&&zs.has(h)?{type:!1}:w,t,y));const T=p.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{ve.update(()=>{a&&WB(t,a)})}),c}function Jg(t,e,n={}){var r;const i=wf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(AR(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:p}=s;return qB(t,e,d+c,h,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function qB(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(QB).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Jg(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function QB(t,e){return t.sortNodePosition(e)}function YB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Jg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Jg(t,e,n);else{const i=typeof e=="function"?wf(t,e,n.custom):e;r=Promise.all(AR(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const XB=y0.length;function RR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<XB;n++){const r=y0[n],i=t.props[r];(uc(i)||i===!1)&&(e[r]=i)}return e}const JB=[...v0].reverse(),ZB=v0.length;function e$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YB(t,n,r)))}function t$(t){let e=e$(t),n=Xx(),r=!0;const i=l=>(c,d)=>{var h;const p=wf(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(p){const{transition:v,transitionEnd:w,...y}=p;c={...c,...y,...w}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=RR(t.parent)||{},h=[],p=new Set;let v={},w=1/0;for(let T=0;T<ZB;T++){const x=JB[T],_=n[x],C=c[x]!==void 0?c[x]:d[x],P=uc(C),M=x===l?_.isActive:null;M===!1&&(w=T);let L=C===d[x]&&C!==c[x]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...v},!_.isActive&&M===null||!C&&!_.prevProp||_f(C)||typeof C=="boolean")continue;const I=n$(_.prevProp,C);let S=I||x===l&&_.isActive&&!L&&P||T>w&&P,R=!1;const b=Array.isArray(C)?C:[C];let N=b.reduce(i(x),{});M===!1&&(N={});const{prevResolvedValues:D={}}=_,k={...D,...N},J=X=>{S=!0,p.has(X)&&(R=!0,p.delete(X)),_.needsAnimating[X]=!0;const j=t.getValue(X);j&&(j.liveStyle=!1)};for(const X in k){const j=N[X],F=D[X];if(v.hasOwnProperty(X))continue;let W=!1;$g(j)&&$g(F)?W=!$A(j,F):W=j!==F,W?j!=null?J(X):p.add(X):j!==void 0&&p.has(X)?J(X):_.protectedKeys[X]=!0}_.prevProp=C,_.prevResolvedValues=N,_.isActive&&(v={...v,...N}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(L&&I)||R)&&h.push(...b.map(X=>({animation:X,options:{type:x}})))}if(p.size){const T={};p.forEach(x=>{const _=t.getBaseTarget(x),C=t.getValue(x);C&&(C.liveStyle=!0),T[x]=_??null}),h.push({animation:T})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Xx(),r=!0}}}function n$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$A(e,t):!1}function is(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xx(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class Qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class r$ extends Qi{constructor(e){super(e),e.animationState||(e.animationState=t$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_f(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let i$=0;class s$ extends Qi{constructor(){super(...arguments),this.id=i$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const o$={animation:{Feature:r$},exit:{Feature:s$}},bR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function xf(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const a$=t=>e=>bR(e)&&t(e,xf(e));function Sr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nr(t,e,n,r){return Sr(t,e,a$(n),r)}const Jx=(t,e)=>Math.abs(t-e);function l$(t,e){const n=Jx(t.x,e.x),r=Jx(t.y,e.y);return Math.sqrt(n**2+r**2)}class PR{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=em(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=l$(h.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:w}=h,{timestamp:y}=st;this.history.push({...w,timestamp:y});const{onStart:T,onMove:x}=this.handlers;p||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Zp(p,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=em(h.type==="pointercancel"?this.lastMoveEventInfo:Zp(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,T),w&&w(h,T)},!bR(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=xf(e),a=Zp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=st;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,em(a,this.history)),this.removeListeners=kr(Nr(this.contextWindow,"pointermove",this.handlePointerMove),Nr(this.contextWindow,"pointerup",this.handlePointerUp),Nr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Zp(t,e){return e?{point:e(t.point)}:t}function Zx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function em({point:t},e){return{point:t,delta:Zx(t,kR(e)),offset:Zx(t,c$(e)),velocity:u$(e,.1)}}function c$(t){return t[0]}function kR(t){return t[t.length-1]}function u$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=kR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>br(e)));)n--;if(!r)return{x:0,y:0};const s=Pr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function NR(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const eC=NR("dragHorizontal"),tC=NR("dragVertical");function DR(t){let e=!1;if(t==="y")e=tC();else if(t==="x")e=eC();else{const n=eC(),r=tC();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function MR(){const t=DR(!0);return t?(t(),!1):!0}function Eo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const OR=1e-4,d$=1-OR,h$=1+OR,LR=.01,f$=0-LR,p$=0+LR;function an(t){return t.max-t.min}function m$(t,e,n){return Math.abs(t-e)<=n}function nC(t,e,n,r=.5){t.origin=r,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=an(n)/an(e),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=d$&&t.scale<=h$||isNaN(t.scale))&&(t.scale=1),(t.translate>=f$&&t.translate<=p$||isNaN(t.translate))&&(t.translate=0)}function kl(t,e,n,r){nC(t.x,e.x,n.x,r?r.originX:void 0),nC(t.y,e.y,n.y,r?r.originY:void 0)}function rC(t,e,n){t.min=n.min+e.min,t.max=t.min+an(e)}function g$(t,e,n){rC(t.x,e.x,n.x),rC(t.y,e.y,n.y)}function iC(t,e,n){t.min=e.min-n.min,t.max=t.min+an(e)}function Nl(t,e,n){iC(t.x,e.x,n.x),iC(t.y,e.y,n.y)}function v$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ue(n,t,r.max):Math.min(t,n)),t}function sC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function y$(t,{top:e,left:n,bottom:r,right:i}){return{x:sC(t.x,n,i),y:sC(t.y,e,r)}}function oC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _$(t,e){return{x:oC(t.x,e.x),y:oC(t.y,e.y)}}function w$(t,e){let n=.5;const r=an(t),i=an(e);return i>r?n=Ps(e.min,e.max-r,t.min):r>i&&(n=Ps(t.min,t.max-i,e.min)),Fi(0,1,n)}function E$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zg=.35;function x$(t=Zg){return t===!1?t=0:t===!0&&(t=Zg),{x:aC(t,"left","right"),y:aC(t,"top","bottom")}}function aC(t,e,n){return{min:lC(t,e),max:lC(t,n)}}function lC(t,e){return typeof t=="number"?t:t[e]||0}const cC=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:cC(),y:cC()}),uC=()=>({min:0,max:0}),Ke=()=>({x:uC(),y:uC()});function hn(t){return[t("x"),t("y")]}function VR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function C$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function T$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tm(t){return t===void 0||t===1}function ev({scale:t,scaleX:e,scaleY:n}){return!tm(t)||!tm(e)||!tm(n)}function ls(t){return ev(t)||jR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function jR(t){return dC(t.x)||dC(t.y)}function dC(t){return t&&t!=="0%"}function wh(t,e,n){const r=t-n,i=e*r;return n+i}function hC(t,e,n,r,i){return i!==void 0&&(t=wh(t,i,r)),wh(t,n,r)+e}function tv(t,e=0,n=1,r,i){t.min=hC(t.min,e,n,r,i),t.max=hC(t.max,e,n,r,i)}function FR(t,{x:e,y:n}){tv(t.x,e.translate,e.scale,e.originPoint),tv(t.y,n.translate,n.scale,n.originPoint)}const fC=.999999999999,pC=1.0000000000001;function S$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&To(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,FR(t,o)),r&&ls(s.latestValues)&&To(t,s.latestValues))}e.x<pC&&e.x>fC&&(e.x=1),e.y<pC&&e.y>fC&&(e.y=1)}function Co(t,e){t.min=t.min+e,t.max=t.max+e}function mC(t,e,n,r,i=.5){const s=Ue(t.min,t.max,i);tv(t,e,n,s,r)}function To(t,e){mC(t.x,e.x,e.scaleX,e.scale,e.originX),mC(t.y,e.y,e.scaleY,e.scale,e.originY)}function UR(t,e){return VR(T$(t.getBoundingClientRect(),e))}function I$(t,e,n){const r=UR(t,n),{scroll:i}=e;return i&&(Co(r.x,i.offset.x),Co(r.y,i.offset.y)),r}const BR=({current:t})=>t?t.ownerDocument.defaultView:null,A$=new WeakMap;class R${constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ke(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xf(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=DR(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(T=>{let x=this.getAxisMotionValue(T).get()||0;if(er.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const C=_.layout.layoutBox[T];C&&(x=an(C)*(parseFloat(x)/100))}}this.originPoint[T]=x}),w&&ve.postRender(()=>w(d,h)),Xg(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:T}=h;if(v&&this.currentDirection===null){this.currentDirection=b$(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),y&&y(d,h)},a=(d,h)=>this.stop(d,h),l=()=>hn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:BR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ve.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=v$(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Eo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=y$(i.layoutBox,n):this.constraints=!1,this.elastic=x$(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=E$(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Eo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=I$(r,i.root,this.visualElement.getTransformPagePoint());let o=_$(i.layout.layoutBox,s);if(n){const a=n(C$(o));this.hasMutatedConstraints=!!a,a&&(o=VR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hn(d=>{if(!Fu(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Xg(this.visualElement,e),r.start(O0(e,r,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!Fu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Eo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=w$({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Fu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ue(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;A$.set(this.visualElement,this);const e=this.visualElement.current,n=Nr(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Eo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ve.read(r);const o=Sr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Zg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function b$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class P$ extends Qi{constructor(e){super(e),this.removeGroupControls=ut,this.removeListeners=ut,this.controls=new R$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const gC=t=>(e,n)=>{t&&ve.postRender(()=>t(e,n))};class k$ extends Qi{constructor(){super(...arguments),this.removePointerDownListener=ut}onPointerDown(e){this.session=new PR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:BR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:gC(e),onStart:gC(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ve.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Nr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const U0=g.createContext(null);function N$(){const t=g.useContext(U0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=g.useId();g.useEffect(()=>r(i),[]);const s=g.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const $R=g.createContext({}),zR=g.createContext({}),md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=vC(t,e.target.x),r=vC(t,e.target.y);return`${n}% ${r}%`}},D$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ui.parse(t);if(i.length>5)return r;const s=Ui.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ue(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Eh={};function M$(t){Object.assign(Eh,t)}const{schedule:B0}=zA(queueMicrotask,!1);class O$ extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;M$(L$),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),B0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function WR(t){const[e,n]=N$(),r=g.useContext($R);return f.jsx(O$,{...t,layoutGroup:r,switchLayoutGroup:g.useContext(zR),isPresent:e,safeToRemove:n})}const L$={borderRadius:{...Xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xa,borderTopRightRadius:Xa,borderBottomLeftRadius:Xa,borderBottomRightRadius:Xa,boxShadow:D$},HR=["TopLeft","TopRight","BottomLeft","BottomRight"],V$=HR.length,yC=t=>typeof t=="string"?parseFloat(t):t,_C=t=>typeof t=="number"||ne.test(t);function j$(t,e,n,r,i,s){i?(t.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,F$(r)),t.opacityExit=Ue(e.opacity!==void 0?e.opacity:1,0,U$(r))):s&&(t.opacity=Ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<V$;o++){const a=`border${HR[o]}Radius`;let l=wC(e,a),c=wC(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||_C(l)===_C(c)?(t[a]=Math.max(Ue(yC(l),yC(c),r),0),(er.test(c)||er.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,r))}function wC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F$=GR(0,.5,YA),U$=GR(.5,.95,ut);function GR(t,e,n){return r=>r<t?0:r>e?1:n(Ps(t,e,r))}function EC(t,e){t.min=e.min,t.max=e.max}function dn(t,e){EC(t.x,e.x),EC(t.y,e.y)}function xC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CC(t,e,n,r,i){return t-=e,t=wh(t,1/n,r),i!==void 0&&(t=wh(t,1/i,r)),t}function B$(t,e=0,n=1,r=.5,i,s=t,o=t){if(er.test(e)&&(e=parseFloat(e),e=Ue(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ue(s.min,s.max,r);t===s&&(a-=e),t.min=CC(t.min,e,n,a,i),t.max=CC(t.max,e,n,a,i)}function TC(t,e,[n,r,i],s,o){B$(t,e[n],e[r],e[i],e.scale,s,o)}const $$=["x","scaleX","originX"],z$=["y","scaleY","originY"];function SC(t,e,n,r){TC(t.x,e,$$,n?n.x:void 0,r?r.x:void 0),TC(t.y,e,z$,n?n.y:void 0,r?r.y:void 0)}function IC(t){return t.translate===0&&t.scale===1}function KR(t){return IC(t.x)&&IC(t.y)}function AC(t,e){return t.min===e.min&&t.max===e.max}function W$(t,e){return AC(t.x,e.x)&&AC(t.y,e.y)}function RC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qR(t,e){return RC(t.x,e.x)&&RC(t.y,e.y)}function bC(t){return an(t.x)/an(t.y)}function PC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class H${constructor(){this.members=[]}add(e){L0(this.members,e),e.scheduleRender()}remove(e){if(V0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G$(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:p,skewX:v,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const K$=(t,e)=>t.depth-e.depth;class q${constructor(){this.children=[],this.isDirty=!1}add(e){L0(this.children,e),this.isDirty=!0}remove(e){V0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(K$),this.isDirty=!1,this.children.forEach(e)}}function gd(t){const e=lt(t)?t.get():t;return FB(e)?e.toValue():e}function Q$(t,e){const n=tr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(On(r),t(s-e))};return ve.read(r,!0),()=>On(r)}function Y$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function X$(t,e,n){const r=lt(t)?t:Hn(t);return r.start(O0("",r,e,n)),r.animation}const cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},hl=typeof window<"u"&&window.MotionDebug!==void 0,nm=["","X","Y","Z"],J$={visibility:"hidden"},kC=1e3;let Z$=0;function rm(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function QR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=IR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&QR(r)}function YR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Z$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hl&&(cs.totalNodes=cs.resolvedTargetDeltas=cs.recalculatedProjection=0),this.nodes.forEach(nz),this.nodes.forEach(az),this.nodes.forEach(lz),this.nodes.forEach(rz),hl&&window.MotionDebug.record(cs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new q$)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Y$(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Q$(p,250),md.hasAnimatedSinceResize&&(md.hasAnimatedSinceResize=!1,this.nodes.forEach(DC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||fz,{onLayoutAnimationStart:T,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!qR(this.targetLayout,w)||v,C=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const P={..._0(y,"layout"),onPlay:T,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||DC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NC);return}this.isUpdating||this.nodes.forEach(sz),this.isUpdating=!1,this.nodes.forEach(oz),this.nodes.forEach(ez),this.nodes.forEach(tz),this.clearAllSnapshots();const a=tr.now();st.delta=Fi(0,1e3/60,a-st.timestamp),st.timestamp=a,st.isProcessing=!0,qp.update.process(st),qp.preRender.process(st),qp.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,B0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iz),this.sharedNodes.forEach(uz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||ls(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pz(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ke();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mz))){const{scroll:d}=this.root;d&&(Co(l.x,d.offset.x),Co(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Ke();if(dn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:p}=d;d!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&dn(l,o),Co(l.x,h.offset.x),Co(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ke();dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&To(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ls(d.latestValues)&&To(l,d.latestValues)}return ls(this.latestValues)&&To(l,this.latestValues),l}removeTransform(o){const a=Ke();dn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ls(c.latestValues))continue;ev(c.latestValues)&&c.updateSnapshot();const d=Ke(),h=c.measurePageBox();dn(d,h),SC(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ls(this.latestValues)&&SC(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Nl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ke(),this.targetWithTransforms=Ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),g$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dn(this.target,this.layout.layoutBox),FR(this.target,this.targetDelta)):dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ke(),this.relativeTargetOrigin=Ke(),Nl(this.relativeTargetOrigin,this.target,v.target),dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hl&&cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ev(this.parent.latestValues)||jR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===st.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;dn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;S$(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ke());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xC(this.prevProjectionDelta.x,this.projectionDelta.x),xC(this.prevProjectionDelta.y,this.projectionDelta.y)),kl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!PC(this.projectionDelta.x,this.prevProjectionDelta.x)||!PC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),hl&&cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ke(),v=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=v!==w,T=this.getStack(),x=!T||T.members.length<=1,_=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(hz));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const M=P/1e3;MC(h.x,o.x,M),MC(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nl(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dz(this.relativeTarget,this.relativeTargetOrigin,p,M),C&&W$(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ke()),dn(C,this.relativeTarget)),y&&(this.animationValues=d,j$(d,c,this.latestValues,M,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{md.hasAnimatedSinceResize=!0,this.currentAnimation=X$(0,kC,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&XR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ke();const h=an(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=an(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}dn(a,l),To(a,d),kl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new H$),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&rm("z",o,c,this.animationValues);for(let d=0;d<nm.length;d++)rm(`rotate${nm[d]}`,o,c,this.animationValues),rm(`skew${nm[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return J$;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gd(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=gd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ls(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=G$(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Eh){if(p[y]===void 0)continue;const{correct:T,applyTo:x}=Eh[y],_=c.transform==="none"?p[y]:T(p[y],h);if(x){const C=x.length;for(let P=0;P<C;P++)c[x[P]]=_}else c[y]=_}return this.options.layoutId&&(c.pointerEvents=h===this?gd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(NC),this.root.sharedNodes.clear()}}}function ez(t){t.updateLayout()}function tz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?hn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=an(p);p.min=r[h].min,p.max=p.min+v}):XR(s,n.layoutBox,r)&&hn(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],v=an(r[h]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const a=xo();kl(a,r,n.layoutBox);const l=xo();o?kl(l,t.applyTransform(i,!0),n.measuredBox):kl(l,r,n.layoutBox);const c=!KR(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:v}=h;if(p&&v){const w=Ke();Nl(w,n.layoutBox,p.layoutBox);const y=Ke();Nl(y,r,v.layoutBox),qR(w,y)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nz(t){hl&&cs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iz(t){t.clearSnapshot()}function NC(t){t.clearMeasurements()}function sz(t){t.isLayoutDirty=!1}function oz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function az(t){t.resolveTargetDelta()}function lz(t){t.calcProjection()}function cz(t){t.resetSkewAndRotation()}function uz(t){t.removeLeadSnapshot()}function MC(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OC(t,e,n,r){t.min=Ue(e.min,n.min,r),t.max=Ue(e.max,n.max,r)}function dz(t,e,n,r){OC(t.x,e.x,n.x,r),OC(t.y,e.y,n.y,r)}function hz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fz={duration:.45,ease:[.4,0,.1,1]},LC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VC=LC("applewebkit/")&&!LC("chrome/")?Math.round:ut;function jC(t){t.min=VC(t.min),t.max=VC(t.max)}function pz(t){jC(t.x),jC(t.y)}function XR(t,e,n){return t==="position"||t==="preserve-aspect"&&!m$(bC(e),bC(n),.2)}function mz(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gz=YR({attachResizeListener:(t,e)=>Sr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),im={current:void 0},JR=YR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!im.current){const t=new gz({});t.mount(window),t.setOptions({layoutScroll:!0}),im.current=t}return im.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vz={pan:{Feature:k$},drag:{Feature:P$,ProjectionNode:JR,MeasureLayout:WR}};function FC(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||MR())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ve.postRender(()=>l(s,o))};return Nr(t.current,n,i,{passive:!t.getProps()[r]})}class yz extends Qi{mount(){this.unmount=kr(FC(this.node,!0),FC(this.node,!1))}unmount(){}}class _z extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kr(Sr(this.node.current,"focus",()=>this.onFocus()),Sr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ZR=(t,e)=>e?t===e?!0:ZR(t,e.parentElement):!1;function sm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,xf(n))}class wz extends Qi{constructor(){super(...arguments),this.removeStartListeners=ut,this.removeEndListeners=ut,this.removeAccessibleListeners=ut,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Nr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),p=!h&&!ZR(this.node.current,a.target)?d:c;p&&ve.update(()=>p(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Nr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=kr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||sm("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ve.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Sr(this.node.current,"keyup",o),sm("down",(a,l)=>{this.startPress(a,l)})},n=Sr(this.node.current,"keydown",e),r=()=>{this.isPressing&&sm("cancel",(s,o)=>this.cancelPress(s,o))},i=Sr(this.node.current,"blur",r);this.removeAccessibleListeners=kr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ve.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!MR()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ve.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Nr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Sr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nv=new WeakMap,om=new WeakMap,Ez=t=>{const e=nv.get(t.target);e&&e(t)},xz=t=>{t.forEach(Ez)};function Cz({root:t,...e}){const n=t||document;om.has(n)||om.set(n,{});const r=om.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xz,{root:t,...e})),r[i]}function Tz(t,e,n){const r=Cz(e);return nv.set(t,n),r.observe(t),()=>{nv.delete(t),r.unobserve(t)}}const Sz={some:0,all:1};class Iz extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Sz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=c?d:h;p&&p(l)};return Tz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Az(e,n))&&this.startObserver()}unmount(){}}function Az({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Rz={inView:{Feature:Iz},tap:{Feature:wz},focus:{Feature:_z},hover:{Feature:yz}},bz={layout:{ProjectionNode:JR,MeasureLayout:WR}},$0=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cf=g.createContext({}),z0=typeof window<"u",W0=z0?g.useLayoutEffect:g.useEffect,eb=g.createContext({strict:!1});function Pz(t,e,n,r,i){var s,o;const{visualElement:a}=g.useContext(Cf),l=g.useContext(eb),c=g.useContext(U0),d=g.useContext($0).reducedMotion,h=g.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=g.useContext(zR);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&kz(h.current,n,i,v);const w=g.useRef(!1);g.useInsertionEffect(()=>{p&&w.current&&p.update(n,c)});const y=n[SR],T=g.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return W0(()=>{p&&(w.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),B0.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),g.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),T.current=!1))}),p}function kz(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tb(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Eo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function tb(t){if(t)return t.options.allowProjection!==!1?t.projection:tb(t.parent)}function Nz(t,e,n){return g.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Eo(n)&&(n.current=r))},[e])}function Tf(t){return _f(t.animate)||y0.some(e=>uc(t[e]))}function nb(t){return!!(Tf(t)||t.variants)}function Dz(t,e){if(Tf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uc(n)?n:void 0,animate:uc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Mz(t){const{initial:e,animate:n}=Dz(t,g.useContext(Cf));return g.useMemo(()=>({initial:e,animate:n}),[UC(e),UC(n)])}function UC(t){return Array.isArray(t)?t.join(" "):t}const BC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},na={};for(const t in BC)na[t]={isEnabled:e=>BC[t].some(n=>!!e[n])};function Oz(t){for(const e in t)na[e]={...na[e],...t[e]}}const Lz=Symbol.for("motionComponentSymbol");function Vz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Oz(t);function s(a,l){let c;const d={...g.useContext($0),...a,layoutId:jz(a)},{isStatic:h}=d,p=Mz(a),v=r(a,h);if(!h&&z0){Fz();const w=Uz(d);c=w.MeasureLayout,p.visualElement=Pz(i,v,d,e,w.ProjectionNode)}return f.jsxs(Cf.Provider,{value:p,children:[c&&p.visualElement?f.jsx(c,{visualElement:p.visualElement,...d}):null,n(i,a,Nz(v,p.visualElement,l),v,h,p.visualElement)]})}const o=g.forwardRef(s);return o[Lz]=i,o}function jz({layoutId:t}){const e=g.useContext($R).id;return e&&t!==void 0?e+"-"+t:t}function Fz(t,e){g.useContext(eb).strict}function Uz(t){const{drag:e,layout:n}=na;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Bz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H0(t){return typeof t!="string"||t.includes("-")?!1:!!(Bz.indexOf(t)>-1||/[A-Z]/u.test(t))}function rb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const ib=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sb(t,e,n,r){rb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ib.has(i)?i:F0(i),e.attrs[i])}function ob(t,{layout:e,layoutId:n}){return zs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Eh[t]||t==="opacity")}function G0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(lt(i[o])||e.style&&lt(e.style[o])||ob(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function ab(t,e,n){const r=G0(t,e,n);for(const i in t)if(lt(t[i])||lt(e[i])){const s=Uc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Sf(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}function $z({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:zz(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const lb=t=>(e,n)=>{const r=g.useContext(Cf),i=g.useContext(U0),s=()=>$z(t,e,r,i);return n?s():Sf(s)};function zz(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=gd(s[p]);let{initial:o,animate:a}=t;const l=Tf(t),c=nb(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!_f(h)){const p=Array.isArray(h)?h:[h];for(let v=0;v<p.length;v++){const w=g0(t,p[v]);if(w){const{transitionEnd:y,transition:T,...x}=w;for(const _ in x){let C=x[_];if(Array.isArray(C)){const P=d?C.length-1:0;C=C[P]}C!==null&&(i[_]=C)}for(const _ in y)i[_]=y[_]}}}return i}const K0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cb=()=>({...K0(),attrs:{}}),ub=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Wz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hz=Uc.length;function Gz(t,e,n){let r="",i=!0;for(let s=0;s<Hz;s++){const o=Uc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=ub(a,I0[o]);if(!l){i=!1;const d=Wz[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function q0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(zs.has(l)){o=!0;continue}else if(tR(l)){i[l]=c;continue}else{const d=ub(c,I0[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=Gz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function $C(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function Kz(t,e,n){const r=$C(e,t.x,t.width),i=$C(n,t.y,t.height);return`${r} ${i}`}const qz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qz={offset:"strokeDashoffset",array:"strokeDasharray"};function Yz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?qz:Qz;t[s.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[s.array]=`${o} ${a}`}function Q0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(q0(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:w}=t;p.transform&&(w&&(v.transform=p.transform),delete p.transform),w&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Kz(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Yz(p,o,a,l,!1)}const Y0=t=>typeof t=="string"&&t.toLowerCase()==="svg",Xz={useVisualState:lb({scrapeMotionValuesFromProps:ab,createRenderState:cb,onMount:(t,e,{renderState:n,latestValues:r})=>{ve.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ve.render(()=>{Q0(n,r,Y0(e.tagName),t.transformTemplate),sb(e,n)})}})},Jz={useVisualState:lb({scrapeMotionValuesFromProps:G0,createRenderState:K0})};function db(t,e,n){for(const r in e)!lt(e[r])&&!ob(r,n)&&(t[r]=e[r])}function Zz({transformTemplate:t},e){return g.useMemo(()=>{const n=K0();return q0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eW(t,e){const n=t.style||{},r={};return db(r,n,t),Object.assign(r,Zz(t,e)),r}function tW(t,e){const n={},r=eW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const nW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nW.has(t)}let hb=t=>!xh(t);function rW(t){t&&(hb=e=>e.startsWith("on")?!xh(e):t(e))}try{rW(require("@emotion/is-prop-valid").default)}catch{}function iW(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hb(i)||n===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function sW(t,e,n,r){const i=g.useMemo(()=>{const s=cb();return Q0(s,e,Y0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};db(s,t.style,t),i.style={...s,...i.style}}return i}function oW(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(H0(n)?sW:tW)(r,s,o,n),c=iW(r,typeof n=="string",t),d=n!==g.Fragment?{...c,...l,ref:i}:{},{children:h}=r,p=g.useMemo(()=>lt(h)?h.get():h,[h]);return g.createElement(n,{...d,children:p})}}function aW(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...H0(r)?Xz:Jz,preloadedFeatures:t,useRender:oW(i),createVisualElement:e,Component:r};return Vz(o)}}const rv={current:null},fb={current:!1};function lW(){if(fb.current=!0,!!z0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rv.current=t.matches;t.addListener(e),e()}else rv.current=!1}function cW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(lt(i))t.addValue(r,i);else if(lt(s))t.addValue(r,Hn(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hn(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zC=new WeakMap,uW=[...iR,At,Ui],dW=t=>uW.find(rR(t)),WC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=C0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=tr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Tf(n),this.isVariantNode=nb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const v=h[p];l[p]!==void 0&&lt(v)&&v.set(l[p],!1)}}mount(e){this.current=e,zC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),fb.current||lW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zC.delete(this.current),this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zs.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in na){const n=na[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ke()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WC.length;r++){const i=WC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hn(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(ZA(i)||JA(i))?i=parseFloat(i):!dW(i)&&Ui.test(n)&&(i=hR(e,n)),this.setBaseTarget(e,lt(i)?i.get():i)),lt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=g0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!lt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class pb extends hW{constructor(){super(...arguments),this.KeyframeResolver=fR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function fW(t){return window.getComputedStyle(t)}class pW extends pb{constructor(){super(...arguments),this.type="html",this.renderInstance=rb}readValueFromInstance(e,n){if(zs.has(n)){const r=A0(n);return r&&r.default||0}else{const r=fW(e),i=(tR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UR(e,n)}build(e,n,r){q0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return G0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class mW extends pb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ke}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zs.has(n)){const r=A0(n);return r&&r.default||0}return n=ib.has(n)?n:F0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ab(e,n,r)}build(e,n,r){Q0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){sb(e,n,r,i)}mount(e){this.isSVGTag=Y0(e.tagName),super.mount(e)}}const gW=(t,e)=>H0(t)?new mW(e):new pW(e,{allowProjection:t!==g.Fragment}),vW=aW({...o$,...Rz,...vz,...bz},gW),_r=ZF(vW);function iv(t){const e=Sf(()=>Hn(t)),{isStatic:n}=g.useContext($0);if(n){const[,r]=g.useState(t);g.useEffect(()=>e.on("change",r),[])}return e}function X0(t,e){const n=iv(e()),r=()=>n.set(e());return r(),W0(()=>{const i=()=>ve.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),On(r)}}),n}function yW(t,...e){const n=t.length;function r(){let i="";for(let s=0;s<n;s++){i+=t[s];const o=e[s];o&&(i+=lt(o)?o.get():o)}return i}return X0(e.filter(lt),r)}const _W=t=>t&&typeof t=="object"&&t.mix,wW=t=>_W(t)?t.mix:void 0;function EW(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=N0(i,s,{mixer:wW(s[0]),...o});return e?a(r):a}function xW(t){Pl.current=[],t();const e=X0(Pl.current,t);return Pl.current=void 0,e}function Ja(t,e,n,r){if(typeof t=="function")return xW(t);const i=typeof e=="function"?e:EW(e,n,r);return Array.isArray(t)?HC(t,i):HC([t],([s])=>i(s))}function HC(t,e){const n=Sf(()=>[]);return X0(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function CW(t,e,n){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}const vd=new WeakMap;let ti;function TW(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function SW({target:t,contentRect:e,borderBoxSize:n}){var r;(r=vd.get(t))===null||r===void 0||r.forEach(i=>{i({target:t,contentSize:e,get size(){return TW(t,n)}})})}function IW(t){t.forEach(SW)}function AW(){typeof ResizeObserver>"u"||(ti=new ResizeObserver(IW))}function RW(t,e){ti||AW();const n=CW(t);return n.forEach(r=>{let i=vd.get(r);i||(i=new Set,vd.set(r,i)),i.add(e),ti==null||ti.observe(r)}),()=>{n.forEach(r=>{const i=vd.get(r);i==null||i.delete(e),i!=null&&i.size||ti==null||ti.unobserve(r)})}}const yd=new Set;let Dl;function bW(){Dl=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};yd.forEach(n=>n(e))},window.addEventListener("resize",Dl)}function PW(t){return yd.add(t),Dl||bW(),()=>{yd.delete(t),!yd.size&&Dl&&(Dl=void 0)}}function kW(t,e){return typeof t=="function"?PW(t):RW(t,e)}const NW=50,GC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),DW=()=>({time:0,x:GC(),y:GC()}),MW={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function KC(t,e,n,r){const i=n[e],{length:s,position:o}=MW[e],a=i.current,l=n.time;i.current=t[`scroll${o}`],i.scrollLength=t[`scroll${s}`]-t[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ps(0,i.scrollLength,i.current);const c=r-l;i.velocity=c>NW?0:b0(i.current-a,c)}function OW(t,e,n){KC(t,"x",e,n),KC(t,"y",e,n),e.time=n}function LW(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const s=r.getBoundingClientRect();n.x+=i.left-s.left,n.y+=i.top-s.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:s}=r.getBBox();n.x+=i,n.y+=s;let o=null,a=r.parentNode;for(;!o;)a.tagName==="svg"&&(o=a),a=r.parentNode;r=o}else break;return n}const VW={All:[[0,0],[1,1]]},sv={start:0,center:.5,end:1};function qC(t,e,n=0){let r=0;if(t in sv&&(t=sv[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const jW=[0,0];function FW(t,e,n,r){let i=Array.isArray(t)?t:jW,s=0,o=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,sv[t]?t:"0"]),s=qC(i[0],n,r),o=qC(i[1],e),s-o}const UW={x:0,y:0};function BW(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function $W(t,e,n){const{offset:r=VW.All}=n,{target:i=t,axis:s="y"}=n,o=s==="y"?"height":"width",a=i!==t?LW(i,t):UW,l=i===t?{width:t.scrollWidth,height:t.scrollHeight}:BW(i),c={width:t.clientWidth,height:t.clientHeight};e[s].offset.length=0;let d=!e[s].interpolate;const h=r.length;for(let p=0;p<h;p++){const v=FW(r[p],c[o],l[o],a[s]);!d&&v!==e[s].interpolatorOffsets[p]&&(d=!0),e[s].offset[p]=v}d&&(e[s].interpolate=N0(e[s].offset,wR(r)),e[s].interpolatorOffsets=[...e[s].offset]),e[s].progress=e[s].interpolate(e[s].current)}function zW(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function WW(t,e,n,r={}){return{measure:()=>zW(t,r.target,n),update:i=>{OW(t,n,i),(r.offset||r.target)&&$W(t,n,r)},notify:()=>e(n)}}const Za=new WeakMap,QC=new WeakMap,am=new WeakMap,YC=t=>t===document.documentElement?window:t;function J0(t,{container:e=document.documentElement,...n}={}){let r=am.get(e);r||(r=new Set,am.set(e,r));const i=DW(),s=WW(e,t,i,n);if(r.add(s),!Za.has(e)){const a=()=>{for(const p of r)p.measure()},l=()=>{for(const p of r)p.update(st.timestamp)},c=()=>{for(const p of r)p.notify()},d=()=>{ve.read(a,!1,!0),ve.read(l,!1,!0),ve.update(c,!1,!0)};Za.set(e,d);const h=YC(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&QC.set(e,kW(e,d)),h.addEventListener("scroll",d,{passive:!0})}const o=Za.get(e);return ve.read(o,!1,!0),()=>{var a;On(o);const l=am.get(e);if(!l||(l.delete(s),l.size))return;const c=Za.get(e);Za.delete(e),c&&(YC(e).removeEventListener("scroll",c),(a=QC.get(e))===null||a===void 0||a(),window.removeEventListener("resize",c))}}function mb(t,e){let n;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;n!==o&&t(o),n=o};return ve.update(r,!0),()=>On(r)}function HW({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},i=J0(s=>{r.value=s[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:i}}const lm=new Map;function gb({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),lm.has(e)||lm.set(e,{});const r=lm.get(e);return r[n]||(r[n]=TR()?new ScrollTimeline({source:e,axis:n}):HW({source:e,axis:n})),r[n]}function GW(t){return t.length===2}function vb(t){return t&&(t.target||t.offset)}function KW(t,e){return GW(t)||vb(e)?J0(n=>{t(n[e.axis].progress,n)},e):mb(t,gb(e))}function qW(t,e){if(t.flatten(),vb(e))return t.pause(),J0(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=gb(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),mb(i=>{r.time=r.duration*i},n))):ut}}function QW(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?KW(t,r):qW(t,r)}function XC(t,e){fU(!!(!e||e.current))}const YW=()=>({scrollX:Hn(0),scrollY:Hn(0),scrollXProgress:Hn(0),scrollYProgress:Hn(0)});function XW({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=Sf(YW);return(n?W0:g.useEffect)(()=>(XC("target",e),XC("container",t),QW((o,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}const gn=g.forwardRef(({className:t,type:e,...n},r)=>{const[s,o]=g.useState(!1);let a=iv(0),l=iv(0);function c({currentTarget:d,clientX:h,clientY:p}){let{left:v,top:w}=d.getBoundingClientRect();a.set(h-v),l.set(p-w)}return f.jsx(_r.div,{style:{background:yW`
        radial-gradient(
          ${s?"100px":"0px"} circle at ${a}px ${l}px,
          var(--blue-500),
          transparent 80%
        )
      `},onMouseMove:c,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"p-[2px] rounded-lg transition duration-300 group/input",children:f.jsx("input",{type:e,className:H(`flex h-10 w-full border-none bg-gray-50 dark:bg-zinc-800 text-black dark:text-white shadow-input rounded-md px-3 py-2 text-sm  file:border-0 file:bg-transparent 
          file:text-sm file:font-medium placeholder:text-neutral-400 dark:placeholder-text-neutral-600 
          focus-visible:outline-none focus-visible:ring-[2px]  focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600
           disabled:cursor-not-allowed disabled:opacity-50
           dark:shadow-[0px_0px_1px_1px_var(--neutral-700)]
           group-hover/input:shadow-none transition duration-400
           `,t),ref:r,...n})})});gn.displayName="Input";const JW=()=>{const[t,e]=g.useState({email:"",password:"",displayName:""}),n=fa(),r=async s=>{s.preventDefault();try{const{displayName:o,email:a,password:l}=t,c=await ZM(Fc,a,l);await n8(c.user,{displayName:o}),console.log("User registered successfully"),n("/app/planner")}catch(o){console.error("Error registering user:",o)}},i=s=>{e(o=>({...o,[s.target.name]:s.target.value}))};return f.jsx("div",{className:"register flex justify-center items-center h-screen",children:f.jsxs("div",{className:"max-w-md w-full mx-auto rounded-none md:rounded-2xl p-4 md:p-8 shadow-input bg-white dark:bg-black",children:[f.jsx("h2",{className:"font-bold text-xl text-neutral-800 dark:text-neutral-200",children:"Welcome to AI Trip Planner"}),f.jsx("p",{className:"text-neutral-600 text-sm max-w-sm mt-2 dark:text-neutral-300",children:"Please register to ai trip planner by filling out the form below"}),f.jsxs("form",{className:"my-8",onSubmit:r,children:[f.jsxs(cm,{className:"mb-4",children:[f.jsx(Lo,{htmlFor:"firstname",children:"Display Name"}),f.jsx(gn,{id:"firstname",placeholder:"Tyler",name:"displayName",type:"text",value:t.displayName,onChange:i,required:!0})]}),f.jsxs(cm,{className:"mb-4",children:[f.jsx(Lo,{htmlFor:"email",children:"Email Address"}),f.jsx(gn,{id:"email",placeholder:"projectmayhem@fc.com",name:"email",type:"email",value:t.email,onChange:i,required:!0})]}),f.jsxs(cm,{className:"mb-4",children:[f.jsx(Lo,{htmlFor:"password",children:"Password"}),f.jsx(gn,{id:"password",placeholder:"",name:"password",type:"password",value:t.password,onChange:i,required:!0})]}),f.jsxs("button",{className:"bg-gradient-to-br relative group/btn from-black dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 block dark:bg-zinc-800 w-full text-white rounded-md h-10 font-medium shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_var(--zinc-800)_inset,0px_-1px_0px_0px_var(--zinc-800)_inset]",type:"submit",children:["Sign up ",f.jsx(yb,{})]}),f.jsxs("div",{className:"flex gap-2 justify-center items-center text-neutral-600 text-sm max-w-sm mt-2 dark:text-neutral-300",children:[f.jsx("p",{children:"Already have an account?"}),f.jsx(jt,{to:"/login",className:"text-blue-500 underline",children:"Login"})]})]})]})})},yb=()=>f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"group-hover/btn:opacity-100 block transition duration-500 opacity-0 absolute h-px w-full -bottom-px inset-x-0 bg-gradient-to-r from-transparent via-cyan-500 to-transparent"}),f.jsx("span",{className:"group-hover/btn:opacity-100 blur-sm block transition duration-500 opacity-0 absolute h-px w-1/2 mx-auto -bottom-px inset-x-10 bg-gradient-to-r from-transparent via-indigo-500 to-transparent"})]}),cm=({children:t,className:e})=>f.jsx("div",{className:H("flex flex-col space-y-2 w-full",e),children:t}),Z0=yf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ri=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?on:"button";return f.jsx(o,{className:H(Z0({variant:e,size:n,className:t})),ref:s,...i})});Ri.displayName="Button";const bt=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("rounded-xl border bg-card text-card-foreground shadow",t),...e}));bt.displayName="Card";const bi=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("flex flex-col space-y-1.5 p-6",t),...e}));bi.displayName="CardHeader";const ra=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("font-semibold leading-none tracking-tight",t),...e}));ra.displayName="CardTitle";const If=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("text-sm text-muted-foreground",t),...e}));If.displayName="CardDescription";const Pt=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("p-6 pt-0",t),...e}));Pt.displayName="CardContent";const ZW=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:H("flex items-center p-6 pt-0",t),...e}));ZW.displayName="CardFooter";const eH=()=>{const[t,e]=g.useState({email:"",password:""}),n=fa(),r=async s=>{s.preventDefault();try{const{email:o,password:a}=t;await e8(Fc,o,a),n("/app/planner"),console.log("User logged in successfully")}catch(o){console.error("Error logging in:",o)}},i=s=>{e(o=>({...o,[s.target.id]:s.target.value}))};return f.jsx("div",{className:"login flex h-screen w-full items-center justify-center px-4",children:f.jsxs(bt,{className:"mx-auto max-w-sm",children:[f.jsxs(bi,{children:[f.jsx(ra,{className:"text-2xl",children:"Login"}),f.jsx(If,{children:"Enter your email below to login to your account"})]}),f.jsxs(Pt,{children:[f.jsx("form",{onSubmit:r,children:f.jsxs("div",{className:"grid gap-4",children:[f.jsxs("div",{className:"grid gap-2",children:[f.jsx(Lo,{htmlFor:"email",children:"Email"}),f.jsx(gn,{id:"email",type:"email",placeholder:"m@example.com",value:t.email,onChange:i,required:!0})]}),f.jsxs("div",{className:"grid gap-2",children:[f.jsx("div",{className:"flex items-center",children:f.jsx(Lo,{htmlFor:"password",children:"Password"})}),f.jsx(gn,{id:"password",type:"password",value:t.password,onChange:i,required:!0})]}),f.jsx(Ri,{type:"submit",className:"w-full",children:"Login"})]})}),f.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",f.jsx(jt,{to:"/register",className:"text-blue-500 underline",children:"Sign up"})]})]})]})})};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_b=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...nH,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_b("lucide",i),...a},[...o.map(([c,d])=>g.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=g.forwardRef(({className:r,...i},s)=>g.createElement(rH,{ref:s,iconNode:e,className:_b(`lucide-${tH(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Pe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Pe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Pe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Pe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=Pe("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=Pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=Pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Pe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=Pe("ShipWheel",[["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}],["path",{d:"M12 2v7.5",key:"1e5rl5"}],["path",{d:"m19 5-5.23 5.23",key:"1ezxxf"}],["path",{d:"M22 12h-7.5",key:"le1719"}],["path",{d:"m19 19-5.23-5.23",key:"p3fmgn"}],["path",{d:"M12 14.5V22",key:"dgcmos"}],["path",{d:"M10.23 13.77 5 19",key:"qwopd4"}],["path",{d:"M9.5 12H2",key:"r7bup8"}],["path",{d:"M10.23 10.23 5 5",key:"k2y7lj"}],["circle",{cx:"12",cy:"12",r:"2.5",key:"ix0uyj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=Pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=Pe("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=Pe("Tickets",[["path",{d:"m4.5 8 10.58-5.06a1 1 0 0 1 1.342.488L18.5 8",key:"12lg5p"}],["path",{d:"M6 10V8",key:"1y41hn"}],["path",{d:"M6 14v1",key:"cao2tf"}],["path",{d:"M6 19v2",key:"1loha6"}],["rect",{x:"2",y:"8",width:"20",height:"13",rx:"2",key:"p3bz5l"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),el={duration:0,ease:"linear"},CH=({pathLengths:t,className:e,children:n})=>f.jsxs("div",{className:H("sticky top-60",e),children:[f.jsx("div",{className:"children relative z-40 pb-40",children:n}),f.jsx("div",{children:f.jsxs("svg",{width:"1440",height:"890",viewBox:"0 0 1440 890",xmlns:"http://www.w3.org/2000/svg",className:" absolute -top-60  md:-top-40 w-full",children:[f.jsx(_r.path,{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[0]},transition:el}),f.jsx(_r.path,{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[1]},transition:el}),f.jsx(_r.path,{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[2]},transition:el}),f.jsx(_r.path,{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[3]},transition:el}),f.jsx(_r.path,{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",initial:{pathLength:0},style:{pathLength:t[4]},transition:el}),f.jsx("path",{d:"M0 663C145.5 663 191 666.265 269 647C326.5 630 339.5 621 397.5 566C439 531.5 455 529.5 490 523C509.664 519.348 521 503.736 538 504.236C553.591 504.236 562.429 514.739 584.66 522.749C592.042 525.408 600.2 526.237 607.356 523.019C624.755 515.195 641.446 496.324 657 496.735C673.408 496.735 693.545 519.572 712.903 526.769C718.727 528.934 725.184 528.395 730.902 525.965C751.726 517.115 764.085 497.106 782 496.735C794.831 496.47 804.103 508.859 822.469 518.515C835.13 525.171 850.214 526.815 862.827 520.069C875.952 513.049 889.748 502.706 903.5 503.736C922.677 505.171 935.293 510.562 945.817 515.673C954.234 519.76 963.095 522.792 972.199 524.954C996.012 530.611 1007.42 534.118 1034 549C1077.5 573.359 1082.5 594.5 1140 629C1206 670 1328.5 662.5 1440 662.5",stroke:"#FFB7C5",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),f.jsx("path",{d:"M0 587.5C147 587.5 277 587.5 310 573.5C348 563 392.5 543.5 408 535C434 523.5 426 526.235 479 515.235C494 512.729 523 510.435 534.5 512.735C554.5 516.735 555.5 523.235 576 523.735C592 523.735 616 496.735 633 497.235C648.671 497.235 661.31 515.052 684.774 524.942C692.004 527.989 700.2 528.738 707.349 525.505C724.886 517.575 741.932 498.33 757.5 498.742C773.864 498.742 791.711 520.623 810.403 527.654C816.218 529.841 822.661 529.246 828.451 526.991C849.246 518.893 861.599 502.112 879.5 501.742C886.47 501.597 896.865 506.047 907.429 510.911C930.879 521.707 957.139 519.639 982.951 520.063C1020.91 520.686 1037.5 530.797 1056.5 537C1102.24 556.627 1116.5 570.704 1180.5 579.235C1257.5 589.5 1279 587 1440 588",stroke:"#FFDDB7",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),f.jsx("path",{d:"M0 514C147.5 514.333 294.5 513.735 380.5 513.735C405.976 514.94 422.849 515.228 436.37 515.123C477.503 514.803 518.631 506.605 559.508 511.197C564.04 511.706 569.162 512.524 575 513.735C588 516.433 616 521.702 627.5 519.402C647.5 515.402 659 499.235 680.5 499.235C700.5 499.235 725 529.235 742 528.735C757.654 528.735 768.77 510.583 791.793 500.59C798.991 497.465 807.16 496.777 814.423 499.745C832.335 507.064 850.418 524.648 866 524.235C882.791 524.235 902.316 509.786 921.814 505.392C926.856 504.255 932.097 504.674 937.176 505.631C966.993 511.248 970.679 514.346 989.5 514.735C1006.3 515.083 1036.5 513.235 1055.5 513.235C1114.5 513.235 1090.5 513.235 1124 513.235C1177.5 513.235 1178.99 514.402 1241 514.402C1317.5 514.402 1274.5 512.568 1440 513.235",stroke:"#B1C5FF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),f.jsx("path",{d:"M0 438.5C150.5 438.5 261 438.318 323.5 456.5C351 464.5 387.517 484.001 423.5 494.5C447.371 501.465 472 503.735 487 507.735C503.786 512.212 504.5 516.808 523 518.735C547 521.235 564.814 501.235 584.5 501.235C604.5 501.235 626 529.069 643 528.569C658.676 528.569 672.076 511.63 695.751 501.972C703.017 499.008 711.231 498.208 718.298 501.617C735.448 509.889 751.454 529.98 767 529.569C783.364 529.569 801.211 507.687 819.903 500.657C825.718 498.469 832.141 499.104 837.992 501.194C859.178 508.764 873.089 523.365 891 523.735C907.8 524.083 923 504.235 963 506.735C1034.5 506.735 1047.5 492.68 1071 481.5C1122.5 457 1142.23 452.871 1185 446.5C1255.5 436 1294 439 1439.5 439",stroke:"#4FABFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),f.jsx("path",{d:"M0.5 364C145.288 362.349 195 361.5 265.5 378C322 391.223 399.182 457.5 411 467.5C424.176 478.649 456.916 491.677 496.259 502.699C498.746 503.396 501.16 504.304 503.511 505.374C517.104 511.558 541.149 520.911 551.5 521.236C571.5 521.236 590 498.736 611.5 498.736C631.5 498.736 652.5 529.236 669.5 528.736C685.171 528.736 697.81 510.924 721.274 501.036C728.505 497.988 736.716 497.231 743.812 500.579C761.362 508.857 778.421 529.148 794 528.736C810.375 528.736 829.35 508.68 848.364 502.179C854.243 500.169 860.624 500.802 866.535 502.718C886.961 509.338 898.141 519.866 916 520.236C932.8 520.583 934.5 510.236 967.5 501.736C1011.5 491 1007.5 493.5 1029.5 480C1069.5 453.5 1072 440.442 1128.5 403.5C1180.5 369.5 1275 360.374 1439 364",stroke:"#076EFF",strokeWidth:"2",fill:"none",pathLength:1,filter:"url(#blurMe)"}),f.jsx("defs",{children:f.jsx("filter",{id:"blurMe",children:f.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"5"})})})]})})]});function TH(){return f.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[f.jsxs("header",{className:"px-4 lg:px-6 h-14 flex items-center",children:[f.jsxs(jt,{className:"flex items-center gap-2 font-semibold",to:"#",children:[f.jsx(fc,{className:"h-6 w-6"}),f.jsx("span",{children:"AI Trip Planner"})]}),f.jsxs("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:[f.jsx(jt,{className:"text-sm font-medium hover:underline underline-offset-4",to:"#",children:"Features"}),f.jsx(jt,{className:"text-sm font-medium hover:underline underline-offset-4",to:"#",children:"How it Works"}),f.jsx(jt,{className:"text-sm font-medium hover:underline underline-offset-4",to:"/login",children:"Sign In"})]})]}),f.jsxs("main",{className:"flex-1",children:[f.jsx("section",{className:"w-full",children:f.jsx(SH,{children:f.jsx("div",{className:"container px-4 md:px-6",children:f.jsxs("div",{className:"flex flex-col items-center space-y-4 text-center",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl lg:text-6xl/none",children:"Plan Your Perfect Trip with AI"}),f.jsx("p",{className:"mx-auto max-w-[700px] text-muted-foreground md:text-xl",children:"Powered by Gemini AI, create personalized travel itineraries tailored to your preferences. Smart, simple, and designed for modern travelers."})]}),f.jsxs("div",{className:"space-x-4",children:[f.jsx(jt,{to:"/login",children:f.jsx(Ri,{size:"lg",children:"Get Started"})}),f.jsx(jt,{to:"#smart-travel-planning",children:f.jsx(Ri,{size:"lg",variant:"outline",children:"Learn More"})})]})]})})})}),f.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-muted",children:f.jsx("div",{className:"container px-4 md:px-6",children:f.jsxs("div",{className:"grid gap-10 sm:px-10 md:gap-16 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"inline-block rounded-lg bg-background px-3 py-1 text-sm",children:"Powered by AI"}),f.jsx("h2",{className:"lg:leading-tighter text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl xl:text-[3.4rem] 2xl:text-[3.75rem]",children:"Smart Travel Planning Made Simple"}),f.jsx("p",{className:"mx-auto max-w-[700px] text-muted-foreground md:text-xl",children:"Our AI understands your preferences and creates the perfect itinerary. Just tell us where you want to go."})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsx(bt,{children:f.jsxs(Pt,{className:"p-6",children:[f.jsx(e1,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"font-bold",children:"Smart Duration"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimal trip duration based on your destination and preferences"})]})}),f.jsx(bt,{children:f.jsxs(Pt,{className:"p-6",children:[f.jsx(t1,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"font-bold",children:"Group Planning"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Perfect for solo travelers or groups of any size"})]})}),f.jsx(bt,{children:f.jsxs(Pt,{className:"p-6",children:[f.jsx(dH,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"font-bold",children:"Budget Friendly"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Plans that fit your budget, from economy to luxury"})]})}),f.jsx(bt,{children:f.jsxs(Pt,{className:"p-6",children:[f.jsx(iH,{className:"h-12 w-12 mb-4"}),f.jsx("h3",{className:"font-bold",children:"AI Powered"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Gemini AI creates personalized recommendations"})]})})]})]})})}),f.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:f.jsxs("div",{className:"container px-4 md:px-6",children:[f.jsx("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:f.jsxs("div",{className:"space-y-2",children:[f.jsx("h2",{className:"text-3xl font-bold tracking-tighter md:text-4xl",children:"Beautiful Interface"}),f.jsx("p",{className:"max-w-[900px] text-muted-foreground md:text-xl",children:"A clean, intuitive interface that makes trip planning a breeze"})]})}),f.jsxs("div",{className:"mx-auto grid max-w-5xl items-center gap-6 py-12 lg:grid-cols-2 lg:gap-12",children:[f.jsx("img",{alt:"Trip Dashboard",className:"mx-auto aspect-video overflow-hidden rounded-xl object-cover object-center",height:"400",src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/image-Md8Kx0GtQ2DMwYBDyBZBMnoQmChQsM.png",width:"600"}),f.jsx("div",{className:"flex flex-col justify-center space-y-4",children:f.jsxs("ul",{className:"grid gap-6",children:[f.jsx("li",{children:f.jsxs("div",{className:"grid gap-1",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Trip Dashboard"}),f.jsx("p",{className:"text-muted-foreground",children:"Keep track of all your trips in one place with our intuitive dashboard"})]})}),f.jsx("li",{children:f.jsxs("div",{className:"grid gap-1",children:[f.jsx("h3",{className:"text-xl font-bold",children:"Smart Organization"}),f.jsx("p",{className:"text-muted-foreground",children:"All your trip details organized and easily accessible"})]})})]})})]})]})}),f.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 border-t",children:f.jsx("div",{className:"container px-4 md:px-6",children:f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("h2",{className:"text-3xl font-bold tracking-tighter md:text-4xl",children:"Powered by Advanced Technology"}),f.jsx("p",{className:"max-w-[900px] text-muted-foreground md:text-xl",children:"Built with cutting-edge tools and APIs for the best experience"})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:[f.jsx(bt,{children:f.jsxs(Pt,{className:"flex flex-col items-center space-y-2 p-6",children:[f.jsx(vH,{className:"h-12 w-12"}),f.jsx("h3",{className:"text-xl font-bold",children:"Gemini AI"}),f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Advanced AI for intelligent trip planning and recommendations"})]})}),f.jsx(bt,{children:f.jsxs(Pt,{className:"flex flex-col items-center space-y-2 p-6",children:[f.jsx(cH,{className:"h-12 w-12"}),f.jsx("h3",{className:"text-xl font-bold",children:"Firebase"}),f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Secure authentication and real-time data storage"})]})}),f.jsx(bt,{children:f.jsxs(Pt,{className:"flex flex-col items-center space-y-2 p-6",children:[f.jsx(fc,{className:"h-12 w-12"}),f.jsx("h3",{className:"text-xl font-bold",children:"Travel API"}),f.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Real-time travel data and destination information"})]})})]})]})})}),f.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32 bg-muted",children:f.jsx("div",{className:"container px-4 md:px-6",children:f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("h2",{className:"text-3xl font-bold tracking-tighter md:text-4xl",children:"Ready to Start Planning?"}),f.jsx("p",{className:"max-w-[600px] text-muted-foreground md:text-xl",children:"Join thousands of travelers who plan their trips with AI"})]}),f.jsx(jt,{to:"/login",children:f.jsx(Ri,{size:"lg",className:"mt-4",children:"Get Started for Free"})})]})})})]}),f.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:" 2024 AI Trip Planner. All rights reserved."}),f.jsxs("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[f.jsx(jt,{to:"#",children:f.jsx("div",{className:"text-xs hover:underline underline-offset-4",children:"Terms of Service"})}),f.jsx(jt,{to:"#",children:f.jsx("div",{className:"text-xs hover:underline underline-offset-4",children:"Privacy"})})]})]})]})}function SH({children:t}){const e=g.useRef(null),{scrollYProgress:n}=XW({target:e,offset:["start start","end start"]}),r=Ja(n,[0,.8],[.2,1.2]),i=Ja(n,[0,.8],[.15,1.2]),s=Ja(n,[0,.8],[.1,1.2]),o=Ja(n,[0,.8],[.05,1.2]),a=Ja(n,[0,.8],[0,1.2]);return f.jsx("div",{className:"h-[400vh] bg-black w-full dark:border dark:border-white/[0.1] rounded-md relative overflow-clip",ref:e,children:f.jsx(CH,{pathLengths:[r,i,s,o,a],children:t})})}function JC(t,[e,n]){return Math.min(n,Math.max(e,t))}function Q(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function IH(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:v,...w}=h,y=(p==null?void 0:p[t][l])||a,T=g.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:T,children:v})}function d(h,p){const v=(p==null?void 0:p[t][l])||a,w=g.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,AH(i,...e)]}function AH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function n1(t){const e=t+"CollectionProvider",[n,r]=IH(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:y}=v,T=Bn.useRef(null),x=Bn.useRef(new Map).current;return f.jsx(i,{scope:w,itemMap:x,collectionRef:T,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=Bn.forwardRef((v,w)=>{const{scope:y,children:T}=v,x=s(a,y),_=Ce(w,x.collectionRef);return f.jsx(on,{ref:_,children:T})});l.displayName=a;const c=t+"CollectionItemSlot",d="data-radix-collection-item",h=Bn.forwardRef((v,w)=>{const{scope:y,children:T,...x}=v,_=Bn.useRef(null),C=Ce(w,_),P=s(c,y);return Bn.useEffect(()=>(P.itemMap.set(_,{ref:_,...x}),()=>void P.itemMap.delete(_))),f.jsx(on,{[d]:"",ref:C,children:T})});h.displayName=c;function p(v){const w=s(t+"CollectionConsumer",v);return Bn.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((P,M)=>x.indexOf(P.ref.current)-x.indexOf(M.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},p,r]}function RH(t,e){const n=g.createContext(e),r=s=>{const{children:o,...a}=s,l=g.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ws(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];const c=h=>{var x;const{scope:p,children:v,...w}=h,y=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,T=g.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:T,children:v})};c.displayName=s+"Provider";function d(h,p){var y;const v=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,w=g.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,bH(i,...e)]}function bH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var PH=g.createContext(void 0);function r1(t){const e=g.useContext(PH);return t||e||"ltr"}function ln(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function kH(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NH="DismissableLayer",ov="dismissableLayer.update",DH="dismissableLayer.pointerDownOutside",MH="dismissableLayer.focusOutside",ZC,Sb=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=g.useContext(Sb),[d,h]=g.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=g.useState({}),w=Ce(e,I=>h(I)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),_=d?y.indexOf(d):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,P=_>=x,M=VH(I=>{const S=I.target,R=[...c.branches].some(b=>b.contains(S));!P||R||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=jH(I=>{const S=I.target;[...c.branches].some(b=>b.contains(S))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return kH(I=>{_===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),g.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ZC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),eT(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ZC)}},[d,p,n,c]),g.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),eT())},[d,c]),g.useEffect(()=>{const I=()=>v({});return document.addEventListener(ov,I),()=>document.removeEventListener(ov,I)},[]),f.jsx(ce.div,{...l,ref:w,style:{pointerEvents:C?P?"auto":"none":void 0,...t.style},onFocusCapture:Q(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Q(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Q(t.onPointerDownCapture,M.onPointerDownCapture)})});zc.displayName=NH;var OH="DismissableLayerBranch",LH=g.forwardRef((t,e)=>{const n=g.useContext(Sb),r=g.useRef(null),i=Ce(e,r);return g.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(ce.div,{...t,ref:i})});LH.displayName=OH;function VH(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Ib(DH,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function jH(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&Ib(MH,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eT(){const t=new CustomEvent(ov);document.dispatchEvent(t)}function Ib(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?NA(i,s):i.dispatchEvent(s)}var um=0;function i1(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tT()),document.body.insertAdjacentElement("beforeend",t[1]??tT()),um++,()=>{um===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),um--}},[])}function tT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dm="focusScope.autoFocusOnMount",hm="focusScope.autoFocusOnUnmount",nT={bubbles:!1,cancelable:!0},FH="FocusScope",Af=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=g.useState(null),c=ln(i),d=ln(s),h=g.useRef(null),p=Ce(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let y=function(C){if(v.paused||!a)return;const P=C.target;a.contains(P)?h.current=P:ni(h.current,{select:!0})},T=function(C){if(v.paused||!a)return;const P=C.relatedTarget;P!==null&&(a.contains(P)||ni(h.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&ni(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,v.paused]),g.useEffect(()=>{if(a){iT.add(v);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(dm,nT);a.addEventListener(dm,c),a.dispatchEvent(x),x.defaultPrevented||(UH(HH(Ab(a)),{select:!0}),document.activeElement===y&&ni(a))}return()=>{a.removeEventListener(dm,c),setTimeout(()=>{const x=new CustomEvent(hm,nT);a.addEventListener(hm,d),a.dispatchEvent(x),x.defaultPrevented||ni(y??document.body,{select:!0}),a.removeEventListener(hm,d),iT.remove(v)},0)}}},[a,c,d,v]);const w=g.useCallback(y=>{if(!n&&!r||v.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(T&&x){const _=y.currentTarget,[C,P]=BH(_);C&&P?!y.shiftKey&&x===P?(y.preventDefault(),n&&ni(C,{select:!0})):y.shiftKey&&x===C&&(y.preventDefault(),n&&ni(P,{select:!0})):x===_&&y.preventDefault()}},[n,r,v.paused]);return f.jsx(ce.div,{tabIndex:-1,...o,ref:p,onKeyDown:w})});Af.displayName=FH;function UH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ni(r,{select:e}),document.activeElement!==n)return}function BH(t){const e=Ab(t),n=rT(e,t),r=rT(e.reverse(),t);return[n,r]}function Ab(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rT(t,e){for(const n of t)if(!$H(n,{upTo:e}))return n}function $H(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zH(t){return t instanceof HTMLInputElement&&"select"in t}function ni(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zH(t)&&e&&t.select()}}var iT=WH();function WH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sT(t,e),t.unshift(e)},remove(e){var n;t=sT(t,e),(n=t[0])==null||n.resume()}}}function sT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function HH(t){return t.filter(e=>e.tagName!=="A")}var wt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},GH=KT.useId||(()=>{}),KH=0;function nr(t){const[e,n]=g.useState(GH());return wt(()=>{n(r=>r??String(KH++))},[t]),e?`radix-${e}`:""}const qH=["top","right","bottom","left"],Bi=Math.min,Zt=Math.max,Ch=Math.round,Uu=Math.floor,rr=t=>({x:t,y:t}),QH={left:"right",right:"left",bottom:"top",top:"bottom"},YH={start:"end",end:"start"};function av(t,e,n){return Zt(t,Bi(e,n))}function Br(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function Ca(t){return t.split("-")[1]}function s1(t){return t==="x"?"y":"x"}function o1(t){return t==="y"?"height":"width"}function $i(t){return["top","bottom"].includes($r(t))?"y":"x"}function a1(t){return s1($i(t))}function XH(t,e,n){n===void 0&&(n=!1);const r=Ca(t),i=a1(t),s=o1(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Th(o)),[o,Th(o)]}function JH(t){const e=Th(t);return[lv(t),e,lv(e)]}function lv(t){return t.replace(/start|end/g,e=>YH[e])}function ZH(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function eG(t,e,n,r){const i=Ca(t);let s=ZH($r(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(lv)))),s}function Th(t){return t.replace(/left|right|bottom|top/g,e=>QH[e])}function tG(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rb(t){return typeof t!="number"?tG(t):{top:t,right:t,bottom:t,left:t}}function Sh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oT(t,e,n){let{reference:r,floating:i}=t;const s=$i(e),o=a1(e),a=o1(o),l=$r(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-i.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-i.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Ca(e)){case"start":v[o]-=p*(n&&c?-1:1);break;case"end":v[o]+=p*(n&&c?-1:1);break}return v}const nG=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=oT(c,r,l),p=r,v={},w=0;for(let y=0;y<a.length;y++){const{name:T,fn:x}=a[y],{x:_,y:C,data:P,reset:M}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,h=C??h,v={...v,[T]:{...v[T],...P}},M&&w<=50&&(w++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:d,y:h}=oT(c,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:i,middlewareData:v}};async function pc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=Br(e,t),w=Rb(v),T=a[p?h==="floating"?"reference":"floating":h],x=Sh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},M=Sh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:C,strategy:l}):_);return{top:(x.top-M.top+w.top)/P.y,bottom:(M.bottom-x.bottom+w.bottom)/P.y,left:(x.left-M.left+w.left)/P.x,right:(M.right-x.right+w.right)/P.x}}const rG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Br(t,e)||{};if(c==null)return{};const h=Rb(d),p={x:n,y:r},v=a1(i),w=o1(v),y=await o.getDimensions(c),T=v==="y",x=T?"top":"left",_=T?"bottom":"right",C=T?"clientHeight":"clientWidth",P=s.reference[w]+s.reference[v]-p[v]-s.floating[w],M=p[v]-s.reference[v],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=L?L[C]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[C]||s.floating[w]);const S=P/2-M/2,R=I/2-y[w]/2-1,b=Bi(h[x],R),N=Bi(h[_],R),D=b,k=I-y[w]-N,J=I/2-y[w]/2+S,ue=av(D,J,k),Z=!l.arrow&&Ca(i)!=null&&J!==ue&&s.reference[w]/2-(J<D?b:N)-y[w]/2<0,X=Z?J<D?J-D:J-k:0;return{[v]:p[v]+X,data:{[v]:ue,centerOffset:J-ue-X,...Z&&{alignmentOffset:X}},reset:Z}}}),iG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...T}=Br(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=$r(i),_=$i(a),C=$r(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=p||(C||!y?[Th(a)]:JH(a)),L=w!=="none";!p&&L&&M.push(...eG(a,y,w,P));const I=[a,...M],S=await pc(e,T),R=[];let b=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(S[x]),h){const J=XH(i,o,P);R.push(S[J[0]],S[J[1]])}if(b=[...b,{placement:i,overflows:R}],!R.every(J=>J<=0)){var N,D;const J=(((N=s.flip)==null?void 0:N.index)||0)+1,ue=I[J];if(ue)return{data:{index:J,overflows:b},reset:{placement:ue}};let Z=(D=b.filter(X=>X.overflows[0]<=0).sort((X,j)=>X.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(v){case"bestFit":{var k;const X=(k=b.filter(j=>{if(L){const F=$i(j.placement);return F===_||F==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((j,F)=>j[1]-F[1])[0])==null?void 0:k[0];X&&(Z=X);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function aT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function lT(t){return qH.some(e=>t[e]>=0)}const sG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Br(t,e);switch(r){case"referenceHidden":{const s=await pc(e,{...i,elementContext:"reference"}),o=aT(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:lT(o)}}}case"escaped":{const s=await pc(e,{...i,altBoundary:!0}),o=aT(s,n.floating);return{data:{escapedOffsets:o,escaped:lT(o)}}}default:return{}}}}};async function oG(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=$r(n),a=Ca(n),l=$i(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Br(e,t);let{mainAxis:p,crossAxis:v,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(v=a==="end"?w*-1:w),l?{x:v*d,y:p*c}:{x:p*c,y:v*d}}const aG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await oG(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},lG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y:_}=T;return{x,y:_}}},...l}=Br(t,e),c={x:n,y:r},d=await pc(e,l),h=$i($r(i)),p=s1(h);let v=c[p],w=c[h];if(s){const T=p==="y"?"top":"left",x=p==="y"?"bottom":"right",_=v+d[T],C=v-d[x];v=av(_,v,C)}if(o){const T=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=w+d[T],C=w-d[x];w=av(_,w,C)}const y=a.fn({...e,[p]:v,[h]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:s,[h]:o}}}}}},cG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Br(t,e),d={x:n,y:r},h=$i(i),p=s1(h);let v=d[p],w=d[h];const y=Br(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const C=p==="y"?"height":"width",P=s.reference[p]-s.floating[C]+T.mainAxis,M=s.reference[p]+s.reference[C]-T.mainAxis;v<P?v=P:v>M&&(v=M)}if(c){var x,_;const C=p==="y"?"width":"height",P=["top","left"].includes($r(i)),M=s.reference[h]-s.floating[C]+(P&&((x=o.offset)==null?void 0:x[h])||0)+(P?0:T.crossAxis),L=s.reference[h]+s.reference[C]+(P?0:((_=o.offset)==null?void 0:_[h])||0)-(P?T.crossAxis:0);w<M?w=M:w>L&&(w=L)}return{[p]:v,[h]:w}}}},uG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Br(t,e),d=await pc(e,c),h=$r(i),p=Ca(i),v=$i(i)==="y",{width:w,height:y}=s.floating;let T,x;h==="top"||h==="bottom"?(T=h,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,T=p==="end"?"top":"bottom");const _=y-d.top-d.bottom,C=w-d.left-d.right,P=Bi(y-d[T],_),M=Bi(w-d[x],C),L=!e.middlewareData.shift;let I=P,S=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=C),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),L&&!p){const b=Zt(d.left,0),N=Zt(d.right,0),D=Zt(d.top,0),k=Zt(d.bottom,0);v?S=w-2*(b!==0||N!==0?b+N:Zt(d.left,d.right)):I=y-2*(D!==0||k!==0?D+k:Zt(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:I});const R=await o.getDimensions(a.floating);return w!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function Ta(t){return bb(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ur(t){var e;return(e=(bb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bb(t){return Rf()?t instanceof Node||t instanceof rn(t).Node:!1}function Ln(t){return Rf()?t instanceof Element||t instanceof rn(t).Element:!1}function or(t){return Rf()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function cT(t){return!Rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}function Wc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function dG(t){return["table","td","th"].includes(Ta(t))}function bf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function l1(t){const e=c1(),n=Ln(t)?Vn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hG(t){let e=zi(t);for(;or(e)&&!ia(e);){if(l1(e))return e;if(bf(e))return null;e=zi(e)}return null}function c1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ia(t){return["html","body","#document"].includes(Ta(t))}function Vn(t){return rn(t).getComputedStyle(t)}function Pf(t){return Ln(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zi(t){if(Ta(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cT(t)&&t.host||ur(t);return cT(e)?e.host:e}function Pb(t){const e=zi(t);return ia(e)?t.ownerDocument?t.ownerDocument.body:t.body:or(e)&&Wc(e)?e:Pb(e)}function mc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Pb(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=rn(i);if(s){const a=cv(o);return e.concat(o,o.visualViewport||[],Wc(i)?i:[],a&&n?mc(a):[])}return e.concat(i,mc(i,[],n))}function cv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kb(t){const e=Vn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=or(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Ch(n)!==s||Ch(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function u1(t){return Ln(t)?t:t.contextElement}function Vo(t){const e=u1(t);if(!or(e))return rr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=kb(e);let o=(s?Ch(n.width):n.width)/r,a=(s?Ch(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const fG=rr(0);function Nb(t){const e=rn(t);return!c1()||!e.visualViewport?fG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==rn(t)?!1:e}function ks(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=u1(t);let o=rr(1);e&&(r?Ln(r)&&(o=Vo(r)):o=Vo(t));const a=pG(s,n,r)?Nb(s):rr(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=rn(s),v=r&&Ln(r)?rn(r):r;let w=p,y=cv(w);for(;y&&r&&v!==w;){const T=Vo(y),x=y.getBoundingClientRect(),_=Vn(y),C=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*T.x,P=x.top+(y.clientTop+parseFloat(_.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,h*=T.y,l+=C,c+=P,w=rn(y),y=cv(w)}}return Sh({width:d,height:h,x:l,y:c})}function d1(t,e){const n=Pf(t).scrollLeft;return e?e.left+n:ks(ur(t)).left+n}function Db(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:d1(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function mG(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ur(r),a=e?bf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=rr(1);const d=rr(0),h=or(r);if((h||!h&&!s)&&((Ta(r)!=="body"||Wc(o))&&(l=Pf(r)),or(r))){const v=ks(r);c=Vo(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const p=o&&!h&&!s?Db(o,l,!0):rr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function gG(t){return Array.from(t.getClientRects())}function vG(t){const e=ur(t),n=Pf(t),r=t.ownerDocument.body,i=Zt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+d1(t);const a=-n.scrollTop;return Vn(r).direction==="rtl"&&(o+=Zt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function yG(t,e){const n=rn(t),r=ur(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=c1();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function _G(t,e){const n=ks(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=or(t)?Vo(t):rr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function uT(t,e,n){let r;if(e==="viewport")r=yG(t,n);else if(e==="document")r=vG(ur(t));else if(Ln(e))r=_G(e,n);else{const i=Nb(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Sh(r)}function Mb(t,e){const n=zi(t);return n===e||!Ln(n)||ia(n)?!1:Vn(n).position==="fixed"||Mb(n,e)}function wG(t,e){const n=e.get(t);if(n)return n;let r=mc(t,[],!1).filter(a=>Ln(a)&&Ta(a)!=="body"),i=null;const s=Vn(t).position==="fixed";let o=s?zi(t):t;for(;Ln(o)&&!ia(o);){const a=Vn(o),l=l1(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Wc(o)&&!l&&Mb(t,o))?r=r.filter(d=>d!==o):i=a,o=zi(o)}return e.set(t,r),r}function EG(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bf(e)?[]:wG(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=uT(e,d,i);return c.top=Zt(h.top,c.top),c.right=Bi(h.right,c.right),c.bottom=Bi(h.bottom,c.bottom),c.left=Zt(h.left,c.left),c},uT(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function xG(t){const{width:e,height:n}=kb(t);return{width:e,height:n}}function CG(t,e,n){const r=or(e),i=ur(e),s=n==="fixed",o=ks(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=rr(0);if(r||!r&&!s)if((Ta(e)!=="body"||Wc(i))&&(a=Pf(e)),r){const p=ks(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=d1(i));const c=i&&!r&&!s?Db(i,a):rr(0),d=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function fm(t){return Vn(t).position==="static"}function dT(t,e){if(!or(t)||Vn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ur(t)===n&&(n=n.ownerDocument.body),n}function Ob(t,e){const n=rn(t);if(bf(t))return n;if(!or(t)){let i=zi(t);for(;i&&!ia(i);){if(Ln(i)&&!fm(i))return i;i=zi(i)}return n}let r=dT(t,e);for(;r&&dG(r)&&fm(r);)r=dT(r,e);return r&&ia(r)&&fm(r)&&!l1(r)?n:r||hG(t)||n}const TG=async function(t){const e=this.getOffsetParent||Ob,n=this.getDimensions,r=await n(t.floating);return{reference:CG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SG(t){return Vn(t).direction==="rtl"}const IG={convertOffsetParentRelativeRectToViewportRelativeRect:mG,getDocumentElement:ur,getClippingRect:EG,getOffsetParent:Ob,getElementRects:TG,getClientRects:gG,getDimensions:xG,getScale:Vo,isElement:Ln,isRTL:SG};function AG(t,e){let n=null,r;const i=ur(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const v=Uu(d),w=Uu(i.clientWidth-(c+h)),y=Uu(i.clientHeight-(d+p)),T=Uu(c),_={rootMargin:-v+"px "+-w+"px "+-y+"px "+-T+"px",threshold:Zt(0,Bi(1,l))||1};let C=!0;function P(M){const L=M[0].intersectionRatio;if(L!==l){if(!C)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(P,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,_)}n.observe(t)}return o(!0),s}function RG(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=u1(t),d=i||s?[...c?mc(c):[],...mc(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const h=c&&a?AG(c,n):null;let p=-1,v=null;o&&(v=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&v&&(v.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),n()}),c&&!l&&v.observe(c),v.observe(e));let w,y=l?ks(t):null;l&&T();function T(){const x=ks(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,w=requestAnimationFrame(T)}return n(),()=>{var x;d.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),h==null||h(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(w)}}const bG=aG,PG=lG,kG=iG,NG=uG,DG=sG,hT=rG,MG=cG,OG=(t,e,n)=>{const r=new Map,i={platform:IG,...n},s={...i.platform,_c:r};return nG(t,e,{...i,platform:s})};var _d=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ih(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ih(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Lb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fT(t,e){const n=Lb(t);return Math.round(e*n)/n}function pm(t){const e=g.useRef(t);return _d(()=>{e.current=t}),e}function LG(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,v]=g.useState(r);Ih(p,r)||v(r);const[w,y]=g.useState(null),[T,x]=g.useState(null),_=g.useCallback(j=>{j!==L.current&&(L.current=j,y(j))},[]),C=g.useCallback(j=>{j!==I.current&&(I.current=j,x(j))},[]),P=s||w,M=o||T,L=g.useRef(null),I=g.useRef(null),S=g.useRef(d),R=l!=null,b=pm(l),N=pm(i),D=pm(c),k=g.useCallback(()=>{if(!L.current||!I.current)return;const j={placement:e,strategy:n,middleware:p};N.current&&(j.platform=N.current),OG(L.current,I.current,j).then(F=>{const W={...F,isPositioned:D.current!==!1};J.current&&!Ih(S.current,W)&&(S.current=W,ua.flushSync(()=>{h(W)}))})},[p,e,n,N,D]);_d(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const J=g.useRef(!1);_d(()=>(J.current=!0,()=>{J.current=!1}),[]),_d(()=>{if(P&&(L.current=P),M&&(I.current=M),P&&M){if(b.current)return b.current(P,M,k);k()}},[P,M,k,b,R]);const ue=g.useMemo(()=>({reference:L,floating:I,setReference:_,setFloating:C}),[_,C]),Z=g.useMemo(()=>({reference:P,floating:M}),[P,M]),X=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!Z.floating)return j;const F=fT(Z.floating,d.x),W=fT(Z.floating,d.y);return a?{...j,transform:"translate("+F+"px, "+W+"px)",...Lb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,a,Z.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:ue,elements:Z,floatingStyles:X}),[d,k,ue,Z,X])}const VG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?hT({element:r.current,padding:i}).fn(n):{}:r?hT({element:r,padding:i}).fn(n):{}}}},jG=(t,e)=>({...bG(t),options:[t,e]}),FG=(t,e)=>({...PG(t),options:[t,e]}),UG=(t,e)=>({...MG(t),options:[t,e]}),BG=(t,e)=>({...kG(t),options:[t,e]}),$G=(t,e)=>({...NG(t),options:[t,e]}),zG=(t,e)=>({...DG(t),options:[t,e]}),WG=(t,e)=>({...VG(t),options:[t,e]});var HG="Arrow",Vb=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(ce.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Vb.displayName=HG;var GG=Vb;function KG(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:v,...w}=h,y=(p==null?void 0:p[t][l])||a,T=g.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:T,children:v})}function d(h,p){const v=(p==null?void 0:p[t][l])||a,w=g.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,qG(i,...e)]}function qG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function QG(t){const[e,n]=g.useState(void 0);return wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var h1="Popper",[jb,Sa]=KG(h1),[YG,Fb]=jb(h1),Ub=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return f.jsx(YG,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ub.displayName=h1;var Bb="PopperAnchor",$b=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Fb(Bb,n),o=g.useRef(null),a=Ce(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(ce.div,{...i,ref:a})});$b.displayName=Bb;var f1="PopperContent",[XG,JG]=jb(f1),zb=g.forwardRef((t,e)=>{var Y,Te,Re,me,ye,we;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=t,T=Fb(f1,n),[x,_]=g.useState(null),C=Ce(e,ht=>_(ht)),[P,M]=g.useState(null),L=QG(P),I=(L==null?void 0:L.width)??0,S=(L==null?void 0:L.height)??0,R=r+(s!=="center"?"-"+s:""),b=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],D=N.length>0,k={padding:b,boundary:N.filter(eK),altBoundary:D},{refs:J,floatingStyles:ue,placement:Z,isPositioned:X,middlewareData:j}=LG({strategy:"fixed",placement:R,whileElementsMounted:(...ht)=>RG(...ht,{animationFrame:v==="always"}),elements:{reference:T.anchor},middleware:[jG({mainAxis:i+S,alignmentAxis:o}),l&&FG({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?UG():void 0,...k}),l&&BG({...k}),$G({...k,apply:({elements:ht,rects:zt,availableWidth:hr,availableHeight:Gr})=>{const{width:Ji,height:$f}=zt.reference,Zi=ht.floating.style;Zi.setProperty("--radix-popper-available-width",`${hr}px`),Zi.setProperty("--radix-popper-available-height",`${Gr}px`),Zi.setProperty("--radix-popper-anchor-width",`${Ji}px`),Zi.setProperty("--radix-popper-anchor-height",`${$f}px`)}}),P&&WG({element:P,padding:a}),tK({arrowWidth:I,arrowHeight:S}),p&&zG({strategy:"referenceHidden",...k})]}),[F,W]=Gb(Z),ee=ln(w);wt(()=>{X&&(ee==null||ee())},[X,ee]);const ae=(Y=j.arrow)==null?void 0:Y.x,xe=(Te=j.arrow)==null?void 0:Te.y,We=((Re=j.arrow)==null?void 0:Re.centerOffset)!==0,[et,je]=g.useState();return wt(()=>{x&&je(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:X?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(me=j.transformOrigin)==null?void 0:me.x,(ye=j.transformOrigin)==null?void 0:ye.y].join(" "),...((we=j.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(XG,{scope:n,placedSide:F,onArrowChange:M,arrowX:ae,arrowY:xe,shouldHideArrow:We,children:f.jsx(ce.div,{"data-side":F,"data-align":W,...y,ref:C,style:{...y.style,animation:X?void 0:"none"}})})})});zb.displayName=f1;var Wb="PopperArrow",ZG={top:"bottom",right:"left",bottom:"top",left:"right"},Hb=g.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=JG(Wb,r),o=ZG[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(GG,{...i,ref:n,style:{...i.style,display:"block"}})})});Hb.displayName=Wb;function eK(t){return t!==null}var tK=t=>({name:"transformOrigin",options:t,fn(e){var T,x,_;const{placement:n,rects:r,middlewareData:i}=e,o=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=Gb(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,v=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?h:`${p}px`,y=`${-l}px`):c==="top"?(w=o?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?h:`${v}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?h:`${v}px`),{data:{x:w,y}}}});function Gb(t){const[e,n="center"]=t.split("-");return[e,n]}var p1=Ub,m1=$b,g1=zb,v1=Hb,nK="Portal",Hc=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=g.useState(!1);wt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?g9.createPortal(f.jsx(ce.div,{...r,ref:e}),o):null});Hc.displayName=nK;function sa({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=rK({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=ln(n),l=g.useCallback(c=>{if(s){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[s,t,i,a]);return[o,l]}function rK({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=ln(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function iK(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var sK="VisuallyHidden",y1=g.forwardRef((t,e)=>f.jsx(ce.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));y1.displayName=sK;var oK=y1,aK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Js=new WeakMap,Bu=new WeakMap,$u={},mm=0,Kb=function(t){return t&&(t.host||Kb(t.parentNode))},lK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Kb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},cK=function(t,e,n,r){var i=lK(e,Array.isArray(t)?t:[t]);$u[n]||($u[n]=new WeakMap);var s=$u[n],o=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(r),w=v!==null&&v!=="false",y=(Js.get(p)||0)+1,T=(s.get(p)||0)+1;Js.set(p,y),s.set(p,T),o.push(p),y===1&&w&&Bu.set(p,!0),T===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),a.clear(),mm++,function(){o.forEach(function(h){var p=Js.get(h)-1,v=s.get(h)-1;Js.set(h,p),s.set(h,v),p||(Bu.has(h)||h.removeAttribute(r),Bu.delete(h)),v||h.removeAttribute(n)}),mm--,mm||(Js=new WeakMap,Js=new WeakMap,Bu=new WeakMap,$u={})}},_1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=aK(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),cK(r,i,n,"aria-hidden")):function(){return null}},wd="right-scroll-bar-position",Ed="width-before-scroll-bar",uK="with-scroll-bars-hidden",dK="--removed-body-scroll-bar-size";function gm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hK(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var fK=typeof window<"u"?g.useLayoutEffect:g.useEffect,pT=new WeakMap;function pK(t,e){var n=hK(null,function(r){return t.forEach(function(i){return gm(i,r)})});return fK(function(){var r=pT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||gm(a,null)}),s.forEach(function(a){i.has(a)||gm(a,o)})}pT.set(n,t)},[t]),n}function mK(t){return t}function gK(t,e){e===void 0&&(e=mK);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function vK(t){t===void 0&&(t={});var e=gK(null);return e.options=zn({async:!0,ssr:!1},t),e}var qb=function(t){var e=t.sideCar,n=Rc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,zn({},n))};qb.isSideCarExport=!0;function yK(t,e){return t.useMedium(e),qb}var Qb=vK(),vm=function(){},kf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:vm,onWheelCapture:vm,onTouchMoveCapture:vm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,p=t.sideCar,v=t.noIsolation,w=t.inert,y=t.allowPinchZoom,T=t.as,x=T===void 0?"div":T,_=t.gapMode,C=Rc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,M=pK([n,e]),L=zn(zn({},C),i);return g.createElement(g.Fragment,null,d&&g.createElement(P,{sideCar:Qb,removeScrollBar:c,shards:h,noIsolation:v,inert:w,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?g.cloneElement(g.Children.only(a),zn(zn({},L),{ref:M})):g.createElement(x,zn({},L,{className:l,ref:M}),a))});kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kf.classNames={fullWidth:Ed,zeroRight:wd};var _K=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_K();return e&&t.setAttribute("nonce",e),t}function EK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=wK())&&(EK(e,n),xK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TK=function(){var t=CK();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Yb=function(){var t=TK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},SK={left:0,top:0,right:0,gap:0},ym=function(t){return parseInt(t||"",10)||0},IK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ym(n),ym(r),ym(i)]},AK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return SK;var e=IK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},RK=Yb(),jo="data-scroll-locked",bK=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(uK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(wd," .").concat(wd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jo,`] {
    `).concat(dK,": ").concat(a,`px;
  }
`)},mT=function(){var t=parseInt(document.body.getAttribute(jo)||"0",10);return isFinite(t)?t:0},PK=function(){g.useEffect(function(){return document.body.setAttribute(jo,(mT()+1).toString()),function(){var t=mT()-1;t<=0?document.body.removeAttribute(jo):document.body.setAttribute(jo,t.toString())}},[])},kK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;PK();var s=g.useMemo(function(){return AK(i)},[i]);return g.createElement(RK,{styles:bK(s,!e,i,n?"":"!important")})},uv=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return uv=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{uv=!1}var Zs=uv?{}:!1,NK=function(t){return t.tagName==="TEXTAREA"},Xb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!NK(t)&&n[e]==="visible")},DK=function(t){return Xb(t,"overflowY")},MK=function(t){return Xb(t,"overflowX")},gT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Jb(t,r);if(i){var s=Zb(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},LK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Jb=function(t,e){return t==="v"?DK(e):MK(e)},Zb=function(t,e){return t==="v"?OK(e):LK(e)},VK=function(t,e){return t==="h"&&e==="rtl"?-1:1},jK=function(t,e,n,r,i){var s=VK(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,h=0,p=0;do{var v=Zb(t,a),w=v[0],y=v[1],T=v[2],x=y-T-s*w;(w||x)&&Jb(t,a)&&(h+=x,p+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(p)<1||!i))&&(c=!0),c},Wu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vT=function(t){return[t.deltaX,t.deltaY]},yT=function(t){return t&&"current"in t?t.current:t},FK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},UK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},BK=0,eo=[];function $K(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(BK++)[0],s=g.useState(Yb)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=nM([t.lockRef.current],(t.shards||[]).map(yT),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Wu(y),_=n.current,C="deltaX"in y?y.deltaX:_[0]-x[0],P="deltaY"in y?y.deltaY:_[1]-x[1],M,L=y.target,I=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in y&&I==="h"&&L.type==="range")return!1;var S=gT(I,L);if(!S)return!0;if(S?M=I:(M=I==="v"?"h":"v",S=gT(I,L)),!S)return!1;if(!r.current&&"changedTouches"in y&&(C||P)&&(r.current=M),!M)return!0;var R=r.current||M;return jK(R,T,y,R==="h"?C:P,!0)},[]),l=g.useCallback(function(y){var T=y;if(!(!eo.length||eo[eo.length-1]!==s)){var x="deltaY"in T?vT(T):Wu(T),_=e.current.filter(function(M){return M.name===T.type&&(M.target===T.target||T.target===M.shadowParent)&&FK(M.delta,x)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var C=(o.current.shards||[]).map(yT).filter(Boolean).filter(function(M){return M.contains(T.target)}),P=C.length>0?a(T,C[0]):!o.current.noIsolation;P&&T.cancelable&&T.preventDefault()}}},[]),c=g.useCallback(function(y,T,x,_){var C={name:y,delta:T,target:x,should:_,shadowParent:zK(x)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(P){return P!==C})},1)},[]),d=g.useCallback(function(y){n.current=Wu(y),r.current=void 0},[]),h=g.useCallback(function(y){c(y.type,vT(y),y.target,a(y,t.lockRef.current))},[]),p=g.useCallback(function(y){c(y.type,Wu(y),y.target,a(y,t.lockRef.current))},[]);g.useEffect(function(){return eo.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Zs),document.addEventListener("touchmove",l,Zs),document.addEventListener("touchstart",d,Zs),function(){eo=eo.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Zs),document.removeEventListener("touchmove",l,Zs),document.removeEventListener("touchstart",d,Zs)}},[]);var v=t.removeScrollBar,w=t.inert;return g.createElement(g.Fragment,null,w?g.createElement(s,{styles:UK(i)}):null,v?g.createElement(kK,{gapMode:t.gapMode}):null)}function zK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const WK=yK(Qb,$K);var Nf=g.forwardRef(function(t,e){return g.createElement(kf,zn({},t,{ref:e,sideCar:WK}))});Nf.classNames=kf.classNames;var HK=[" ","Enter","ArrowUp","ArrowDown"],GK=[" ","Enter"],Gc="Select",[Df,Mf,KK]=n1(Gc),[Ia,IJ]=Ws(Gc,[KK,Sa]),Of=Sa(),[qK,Yi]=Ia(Gc),[QK,YK]=Ia(Gc),eP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:v,form:w}=t,y=Of(e),[T,x]=g.useState(null),[_,C]=g.useState(null),[P,M]=g.useState(!1),L=r1(c),[I=!1,S]=sa({prop:r,defaultProp:i,onChange:s}),[R,b]=sa({prop:o,defaultProp:a,onChange:l}),N=g.useRef(null),D=T?w||!!T.closest("form"):!0,[k,J]=g.useState(new Set),ue=Array.from(k).map(Z=>Z.props.value).join(";");return f.jsx(p1,{...y,children:f.jsxs(qK,{required:v,scope:e,trigger:T,onTriggerChange:x,valueNode:_,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:M,contentId:nr(),value:R,onValueChange:b,open:I,onOpenChange:S,dir:L,triggerPointerDownPosRef:N,disabled:p,children:[f.jsx(Df.Provider,{scope:e,children:f.jsx(QK,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Z=>{J(X=>new Set(X).add(Z))},[]),onNativeOptionRemove:g.useCallback(Z=>{J(X=>{const j=new Set(X);return j.delete(Z),j})},[]),children:n})}),D?f.jsxs(SP,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:Z=>b(Z.target.value),disabled:p,form:w,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from(k)]},ue):null]})})};eP.displayName=Gc;var tP="SelectTrigger",nP=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Of(n),o=Yi(tP,n),a=o.disabled||r,l=Ce(e,o.onTriggerChange),c=Mf(n),d=g.useRef("touch"),[h,p,v]=IP(y=>{const T=c().filter(C=>!C.disabled),x=T.find(C=>C.value===o.value),_=AP(T,y,x);_!==void 0&&o.onValueChange(_.value)}),w=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(m1,{asChild:!0,...s,children:f.jsx(ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":TP(o.value)?"":void 0,...i,ref:l,onClick:Q(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:Q(i.onPointerDown,y=>{d.current=y.pointerType;const T=y.target;T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Q(i.onKeyDown,y=>{const T=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(T&&y.key===" ")&&HK.includes(y.key)&&(w(),y.preventDefault())})})})});nP.displayName=tP;var rP="SelectValue",iP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Yi(rP,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=Ce(e,l.onValueNodeChange);return wt(()=>{c(d)},[c,d]),f.jsx(ce.span,{...a,ref:h,style:{pointerEvents:"none"},children:TP(l.value)?f.jsx(f.Fragment,{children:o}):s})});iP.displayName=rP;var XK="SelectIcon",sP=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(ce.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});sP.displayName=XK;var JK="SelectPortal",oP=t=>f.jsx(Hc,{asChild:!0,...t});oP.displayName=JK;var Ns="SelectContent",aP=g.forwardRef((t,e)=>{const n=Yi(Ns,t.__scopeSelect),[r,i]=g.useState();if(wt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ua.createPortal(f.jsx(lP,{scope:t.__scopeSelect,children:f.jsx(Df.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(cP,{...t,ref:e})});aP.displayName=Ns;var Tn=10,[lP,Xi]=Ia(Ns),ZK="SelectContentImpl",cP=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:T,...x}=t,_=Yi(Ns,n),[C,P]=g.useState(null),[M,L]=g.useState(null),I=Ce(e,Y=>P(Y)),[S,R]=g.useState(null),[b,N]=g.useState(null),D=Mf(n),[k,J]=g.useState(!1),ue=g.useRef(!1);g.useEffect(()=>{if(C)return _1(C)},[C]),i1();const Z=g.useCallback(Y=>{const[Te,...Re]=D().map(we=>we.ref.current),[me]=Re.slice(-1),ye=document.activeElement;for(const we of Y)if(we===ye||(we==null||we.scrollIntoView({block:"nearest"}),we===Te&&M&&(M.scrollTop=0),we===me&&M&&(M.scrollTop=M.scrollHeight),we==null||we.focus(),document.activeElement!==ye))return},[D,M]),X=g.useCallback(()=>Z([S,C]),[Z,S,C]);g.useEffect(()=>{k&&X()},[k,X]);const{onOpenChange:j,triggerPointerDownPosRef:F}=_;g.useEffect(()=>{if(C){let Y={x:0,y:0};const Te=me=>{var ye,we;Y={x:Math.abs(Math.round(me.pageX)-(((ye=F.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(me.pageY)-(((we=F.current)==null?void 0:we.y)??0))}},Re=me=>{Y.x<=10&&Y.y<=10?me.preventDefault():C.contains(me.target)||j(!1),document.removeEventListener("pointermove",Te),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Re,{capture:!0})}}},[C,j,F]),g.useEffect(()=>{const Y=()=>j(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[j]);const[W,ee]=IP(Y=>{const Te=D().filter(ye=>!ye.disabled),Re=Te.find(ye=>ye.ref.current===document.activeElement),me=AP(Te,Y,Re);me&&setTimeout(()=>me.ref.current.focus())}),ae=g.useCallback((Y,Te,Re)=>{const me=!ue.current&&!Re;(_.value!==void 0&&_.value===Te||me)&&(R(Y),me&&(ue.current=!0))},[_.value]),xe=g.useCallback(()=>C==null?void 0:C.focus(),[C]),We=g.useCallback((Y,Te,Re)=>{const me=!ue.current&&!Re;(_.value!==void 0&&_.value===Te||me)&&N(Y)},[_.value]),et=r==="popper"?dv:uP,je=et===dv?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:T}:{};return f.jsx(lP,{scope:n,content:C,viewport:M,onViewportChange:L,itemRefCallback:ae,selectedItem:S,onItemLeave:xe,itemTextRefCallback:We,focusSelectedItem:X,selectedItemText:b,position:r,isPositioned:k,searchRef:W,children:f.jsx(Nf,{as:on,allowPinchZoom:!0,children:f.jsx(Af,{asChild:!0,trapped:_.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Q(i,Y=>{var Te;(Te=_.trigger)==null||Te.focus({preventScroll:!0}),Y.preventDefault()}),children:f.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(et,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Y=>Y.preventDefault(),...x,...je,onPlaced:()=>J(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Q(x.onKeyDown,Y=>{const Te=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!Te&&Y.key.length===1&&ee(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let me=D().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ye=Y.target,we=me.indexOf(ye);me=me.slice(we+1)}setTimeout(()=>Z(me)),Y.preventDefault()}})})})})})})});cP.displayName=ZK;var eq="SelectItemAlignedPosition",uP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Yi(Ns,n),o=Xi(Ns,n),[a,l]=g.useState(null),[c,d]=g.useState(null),h=Ce(e,I=>d(I)),p=Mf(n),v=g.useRef(!1),w=g.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:x,focusSelectedItem:_}=o,C=g.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&T&&x){const I=s.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),b=x.getBoundingClientRect();if(s.dir!=="rtl"){const ye=b.left-S.left,we=R.left-ye,ht=I.left-we,zt=I.width+ht,hr=Math.max(zt,S.width),Gr=window.innerWidth-Tn,Ji=JC(we,[Tn,Math.max(Tn,Gr-hr)]);a.style.minWidth=zt+"px",a.style.left=Ji+"px"}else{const ye=S.right-b.right,we=window.innerWidth-R.right-ye,ht=window.innerWidth-I.right-we,zt=I.width+ht,hr=Math.max(zt,S.width),Gr=window.innerWidth-Tn,Ji=JC(we,[Tn,Math.max(Tn,Gr-hr)]);a.style.minWidth=zt+"px",a.style.right=Ji+"px"}const N=p(),D=window.innerHeight-Tn*2,k=y.scrollHeight,J=window.getComputedStyle(c),ue=parseInt(J.borderTopWidth,10),Z=parseInt(J.paddingTop,10),X=parseInt(J.borderBottomWidth,10),j=parseInt(J.paddingBottom,10),F=ue+Z+k+j+X,W=Math.min(T.offsetHeight*5,F),ee=window.getComputedStyle(y),ae=parseInt(ee.paddingTop,10),xe=parseInt(ee.paddingBottom,10),We=I.top+I.height/2-Tn,et=D-We,je=T.offsetHeight/2,Y=T.offsetTop+je,Te=ue+Z+Y,Re=F-Te;if(Te<=We){const ye=N.length>0&&T===N[N.length-1].ref.current;a.style.bottom="0px";const we=c.clientHeight-y.offsetTop-y.offsetHeight,ht=Math.max(et,je+(ye?xe:0)+we+X),zt=Te+ht;a.style.height=zt+"px"}else{const ye=N.length>0&&T===N[0].ref.current;a.style.top="0px";const ht=Math.max(We,ue+y.offsetTop+(ye?ae:0)+je)+Re;a.style.height=ht+"px",y.scrollTop=Te-We+y.offsetTop}a.style.margin=`${Tn}px 0`,a.style.minHeight=W+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[p,s.trigger,s.valueNode,a,c,y,T,x,s.dir,r]);wt(()=>C(),[C]);const[P,M]=g.useState();wt(()=>{c&&M(window.getComputedStyle(c).zIndex)},[c]);const L=g.useCallback(I=>{I&&w.current===!0&&(C(),_==null||_(),w.current=!1)},[C,_]);return f.jsx(nq,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:f.jsx(ce.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});uP.displayName=eq;var tq="SelectPopperPosition",dv=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Tn,...s}=t,o=Of(n);return f.jsx(g1,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dv.displayName=tq;var[nq,w1]=Ia(Ns,{}),hv="SelectViewport",dP=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Xi(hv,n),o=w1(hv,n),a=Ce(e,s.onViewportChange),l=g.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Df.Slot,{scope:n,children:f.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Q(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const v=Math.abs(l.current-d.scrollTop);if(v>0){const w=window.innerHeight-Tn*2,y=parseFloat(h.style.minHeight),T=parseFloat(h.style.height),x=Math.max(y,T);if(x<w){const _=x+v,C=Math.min(w,_),P=_-C;h.style.height=C+"px",h.style.bottom==="0px"&&(d.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});dP.displayName=hv;var hP="SelectGroup",[rq,iq]=Ia(hP),sq=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nr();return f.jsx(rq,{scope:n,id:i,children:f.jsx(ce.div,{role:"group","aria-labelledby":i,...r,ref:e})})});sq.displayName=hP;var fP="SelectLabel",pP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=iq(fP,n);return f.jsx(ce.div,{id:i.id,...r,ref:e})});pP.displayName=fP;var Ah="SelectItem",[oq,mP]=Ia(Ah),gP=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Yi(Ah,n),l=Xi(Ah,n),c=a.value===r,[d,h]=g.useState(s??""),[p,v]=g.useState(!1),w=Ce(e,_=>{var C;return(C=l.itemRefCallback)==null?void 0:C.call(l,_,r,i)}),y=nr(),T=g.useRef("touch"),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(oq,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:g.useCallback(_=>{h(C=>C||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(Df.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:f.jsx(ce.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:w,onFocus:Q(o.onFocus,()=>v(!0)),onBlur:Q(o.onBlur,()=>v(!1)),onClick:Q(o.onClick,()=>{T.current!=="mouse"&&x()}),onPointerUp:Q(o.onPointerUp,()=>{T.current==="mouse"&&x()}),onPointerDown:Q(o.onPointerDown,_=>{T.current=_.pointerType}),onPointerMove:Q(o.onPointerMove,_=>{var C;T.current=_.pointerType,i?(C=l.onItemLeave)==null||C.call(l):T.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Q(o.onPointerLeave,_=>{var C;_.currentTarget===document.activeElement&&((C=l.onItemLeave)==null||C.call(l))}),onKeyDown:Q(o.onKeyDown,_=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&_.key===" "||(GK.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});gP.displayName=Ah;var fl="SelectItemText",vP=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Yi(fl,n),a=Xi(fl,n),l=mP(fl,n),c=YK(fl,n),[d,h]=g.useState(null),p=Ce(e,x=>h(x),l.onItemTextChange,x=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,x,l.value,l.disabled)}),v=d==null?void 0:d.textContent,w=g.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=c;return wt(()=>(y(w),()=>T(w)),[y,T,w]),f.jsxs(f.Fragment,{children:[f.jsx(ce.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ua.createPortal(s.children,o.valueNode):null]})});vP.displayName=fl;var yP="SelectItemIndicator",_P=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return mP(yP,n).isSelected?f.jsx(ce.span,{"aria-hidden":!0,...r,ref:e}):null});_P.displayName=yP;var fv="SelectScrollUpButton",wP=g.forwardRef((t,e)=>{const n=Xi(fv,t.__scopeSelect),r=w1(fv,t.__scopeSelect),[i,s]=g.useState(!1),o=Ce(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});wP.displayName=fv;var pv="SelectScrollDownButton",EP=g.forwardRef((t,e)=>{const n=Xi(pv,t.__scopeSelect),r=w1(pv,t.__scopeSelect),[i,s]=g.useState(!1),o=Ce(e,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?f.jsx(xP,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});EP.displayName=pv;var xP=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Xi("SelectScrollButton",n),o=g.useRef(null),a=Mf(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),wt(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(ce.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Q(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Q(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Q(i.onPointerLeave,()=>{l()})})}),aq="SelectSeparator",CP=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(ce.div,{"aria-hidden":!0,...r,ref:e})});CP.displayName=aq;var mv="SelectArrow",lq=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Of(n),s=Yi(mv,n),o=Xi(mv,n);return s.open&&o.position==="popper"?f.jsx(v1,{...i,...r,ref:e}):null});lq.displayName=mv;function TP(t){return t===""||t===void 0}var SP=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=g.useRef(null),s=Ce(e,i),o=iK(n);return g.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[o,n]),f.jsx(y1,{asChild:!0,children:f.jsx("select",{...r,ref:s,defaultValue:n})})});SP.displayName="BubbleSelect";function IP(t){const e=ln(t),n=g.useRef(""),r=g.useRef(0),i=g.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function AP(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=cq(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function cq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var uq=eP,RP=nP,dq=iP,hq=sP,fq=oP,bP=aP,pq=dP,PP=pP,kP=gP,mq=vP,gq=_P,NP=wP,DP=EP,MP=CP;const vq=uq,yq=dq,OP=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(RP,{ref:r,className:H("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(hq,{asChild:!0,children:f.jsx(xb,{className:"h-4 w-4 opacity-50"})})]}));OP.displayName=RP.displayName;const LP=g.forwardRef(({className:t,...e},n)=>f.jsx(NP,{ref:n,className:H("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(oH,{className:"h-4 w-4"})}));LP.displayName=NP.displayName;const VP=g.forwardRef(({className:t,...e},n)=>f.jsx(DP,{ref:n,className:H("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(xb,{className:"h-4 w-4"})}));VP.displayName=DP.displayName;const jP=g.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>f.jsx(fq,{children:f.jsxs(bP,{ref:i,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(LP,{}),f.jsx(pq,{className:H("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(VP,{})]})}));jP.displayName=bP.displayName;const _q=g.forwardRef(({className:t,...e},n)=>f.jsx(PP,{ref:n,className:H("px-2 py-1.5 text-sm font-semibold",t),...e}));_q.displayName=PP.displayName;const xd=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(kP,{ref:r,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(gq,{children:f.jsx(Eb,{className:"h-4 w-4"})})}),f.jsx(mq,{children:e})]}));xd.displayName=kP.displayName;const wq=g.forwardRef(({className:t,...e},n)=>f.jsx(MP,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",t),...e}));wq.displayName=MP.displayName;const Eq=async(t,e)=>{try{return(await Nj(pA(gf,"users",t,"trips"),{...e,userId:t,createdAt:e.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()})).id}catch(n){throw console.error("Error adding trip:",n),n}},xq=async(t,e)=>{try{const n=await bj(r0(gf,"users",e,"trips",t));return n.exists()?{id:n.id,...n.data()}:null}catch(n){throw console.error("Error getting trip:",n),n}},E1=async t=>{try{const e=Tj(pA(gf,"users",t,"trips"));return(await Pj(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting user trips:",e),e}},Cq=async(t,e)=>{try{await kj(r0(gf,"users",t,"trips",e))}catch(n){throw console.error("Error deleting trip:",n),n}};var Ie;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Ie||(Ie={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(_T||(_T={}));var wT;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(wT||(wT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=["user","model","function","system"];var Rh;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Rh||(Rh={}));var bh;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(bh||(bh={}));var xT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(xT||(xT={}));var CT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(CT||(CT={}));var Ml;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(Ml||(Ml={}));var TT;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(TT||(TT={}));var ST;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ST||(ST={}));var IT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(IT||(IT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class to extends Gt{constructor(e,n){super(e),this.response=n}}class FP extends Gt{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Pi extends Gt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="https://generativelanguage.googleapis.com",Sq="v1beta",Iq="0.21.0",Aq="genai-js";var Ds;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ds||(Ds={}));class Rq{constructor(e,n,r,i,s){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Sq;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Tq}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function bq(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Aq}/${Iq}`),e.join(" ")}async function Pq(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",bq(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Pi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,s]of r.entries()){if(i==="x-goog-api-key")throw new Pi(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Pi(`Header name ${i} can only be set using the apiClient field`);n.append(i,s)}}return n}async function kq(t,e,n,r,i,s){const o=new Rq(t,e,n,r,s);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},Oq(s)),{method:"POST",headers:await Pq(o),body:i})}}async function Kc(t,e,n,r,i,s={},o=fetch){const{url:a,fetchOptions:l}=await kq(t,e,n,r,i,s);return Nq(a,l,o)}async function Nq(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Dq(i,t)}return r.ok||await Mq(r,t),r}function Dq(t,e){let n=t;throw t instanceof FP||t instanceof Pi||(n=new Gt(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Mq(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new FP(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Oq(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Cd(t.candidates[0]))throw new to(`${si(t)}`,t);return Lq(t)}else if(t.promptFeedback)throw new to(`Text not available. ${si(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Cd(t.candidates[0]))throw new to(`${si(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),AT(t)[0]}else if(t.promptFeedback)throw new to(`Function call not available. ${si(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Cd(t.candidates[0]))throw new to(`${si(t)}`,t);return AT(t)}else if(t.promptFeedback)throw new to(`Function call not available. ${si(t)}`,t)},t}function Lq(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&s.push(o.text),o.executableCode&&s.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&s.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function AT(t){var e,n,r,i;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&s.push(o.functionCall);if(s.length>0)return s}const Vq=[Ml.RECITATION,Ml.SAFETY,Ml.LANGUAGE];function Cd(t){return!!t.finishReason&&Vq.includes(t.finishReason)}function si(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];Cd(s)&&(i+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(i+=`: ${s.finishMessage}`))}return i}function gc(t){return this instanceof gc?(this.v=t,this):new gc(t)}function jq(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(v){return new Promise(function(w,y){s.push([p,v,w,y])>1||a(p,v)})})}function a(p,v){try{l(r[p](v))}catch(w){h(s[0][3],w)}}function l(p){p.value instanceof gc?Promise.resolve(p.value.v).then(c,d):h(s[0][2],p)}function c(p){a("next",p)}function d(p){a("throw",p)}function h(p,v){p(v),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Fq(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=$q(e),[r,i]=n.tee();return{stream:Bq(r),response:Uq(i)}}async function Uq(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return x1(zq(e));e.push(i)}}function Bq(t){return jq(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield gc(n.read());if(i)break;yield yield gc(x1(r))}})}function $q(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return s();function s(){return e.read().then(({value:o,done:a})=>{if(a){if(i.trim()){r.error(new Gt("Failed to parse stream"));return}r.close();return}i+=o;let l=i.match(RT),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Gt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),i=i.substring(l[0].length),l=i.match(RT)}return s()})}}})}function zq(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const i of r.candidates){const s=i.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:i.index}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e,n,r){const i=await Kc(e,Ds.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return Fq(i)}async function BP(t,e,n,r){const s=await(await Kc(e,Ds.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:x1(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function vc(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return Wq(e)}function Wq(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),i=!0):(e.parts.push(s),r=!0);if(r&&i)throw new Gt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Gt("No content is provided for sending chat message.");return r?e:n}function Hq(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Pi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const s=vc(t);r.contents=[s]}return{generateContentRequest:r}}function bT(t){let e;return t.contents?e=t:e={contents:[vc(t)]},t.systemInstruction&&(e.systemInstruction=$P(t.systemInstruction)),e}function Gq(t){return typeof t=="string"||Array.isArray(t)?{content:vc(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Kq={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function qq(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new Gt(`First content should be with role 'user', got ${r}`);if(!ET.includes(r))throw new Gt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(ET)}`);if(!Array.isArray(i))throw new Gt("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Gt("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of i)for(const l of PT)l in a&&(s[l]+=1);const o=Kq[r];for(const a of PT)if(!o.includes(a)&&s[a]>0)throw new Gt(`Content with role '${r}' can't contain '${a}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="SILENT_ERROR";class Qq{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(qq(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=vc(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n);let p;return this._sendPromise=this._sendPromise.then(()=>BP(this._apiKey,this.model,d,h)).then(v=>{var w;if(v.response.candidates&&v.response.candidates.length>0){this._history.push(c);const y=Object.assign({parts:[],role:"model"},(w=v.response.candidates)===null||w===void 0?void 0:w[0].content);this._history.push(y)}else{const y=si(v.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}p=v}),await this._sendPromise,p}async sendMessageStream(e,n={}){var r,i,s,o,a,l;await this._sendPromise;const c=vc(e),d={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},h=Object.assign(Object.assign({},this._requestOptions),n),p=UP(this._apiKey,this.model,d,h);return this._sendPromise=this._sendPromise.then(()=>p).catch(v=>{throw new Error(kT)}).then(v=>v.response).then(v=>{if(v.candidates&&v.candidates.length>0){this._history.push(c);const w=Object.assign({},v.candidates[0].content);w.role||(w.role="model"),this._history.push(w)}else{const w=si(v);w&&console.warn(`sendMessageStream() was unsuccessful. ${w}. Inspect response object for details.`)}}).catch(v=>{v.message!==kT&&console.error(v)}),p}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(t,e,n,r){return(await Kc(e,Ds.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xq(t,e,n,r){return(await Kc(e,Ds.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function Jq(t,e,n,r){const i=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Kc(e,Ds.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=$P(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=bT(e),s=Object.assign(Object.assign({},this._requestOptions),n);return BP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}async generateContentStream(e,n={}){var r;const i=bT(e),s=Object.assign(Object.assign({},this._requestOptions),n);return UP(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),s)}startChat(e){var n;return new Qq(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=Hq(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return Yq(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=Gq(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Xq(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Jq(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Gt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Pi("Cached content must contain a `name` field.");if(!e.model)throw new Pi("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new Pi(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const s=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new NT(this.apiKey,s,r)}}const eQ="AIzaSyDQKALVupy8AB4wDk3gyoYyfaeq-SffDZE",tQ=new Zq(eQ),nQ=[{category:Rh.HARM_CATEGORY_HARASSMENT,threshold:bh.BLOCK_LOW_AND_ABOVE},{category:Rh.HARM_CATEGORY_HATE_SPEECH,threshold:bh.BLOCK_LOW_AND_ABOVE}],rQ=tQ.getGenerativeModel({model:"gemini-1.5-flash",safetySettings:nQ}),iQ={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"application/json",responseSchema:{type:Ie.OBJECT,properties:{response:{type:Ie.STRING},destination:{type:Ie.STRING},startDate:{type:Ie.STRING},endDate:{type:Ie.STRING},duration:{type:Ie.STRING},numberOfPeople:{type:Ie.STRING},budget:{type:Ie.STRING,enum:["low","moderate","high"]},preferences:{type:Ie.ARRAY,items:{type:Ie.STRING}},generatedItinerary:{type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{day:{type:Ie.INTEGER},hotel:{type:Ie.STRING},activities:{type:Ie.OBJECT,properties:{morning:{type:Ie.OBJECT,properties:{location:{type:Ie.STRING},description:{type:Ie.STRING}},required:["location","description"]},afternoon:{type:Ie.OBJECT,properties:{location:{type:Ie.STRING},description:{type:Ie.STRING}},required:["location","description"]},evening:{type:Ie.OBJECT,properties:{location:{type:Ie.STRING},description:{type:Ie.STRING}},required:["location","description"]},night:{type:Ie.OBJECT,properties:{location:{type:Ie.STRING},description:{type:Ie.STRING}},required:["location","description"]}},required:["morning","afternoon","evening","night"]}},required:["day","hotel","activities"]}}},required:["destination","startDate","endDate","duration","numberOfPeople","budget","preferences","generatedItinerary"]}},sQ=[{role:"user",parts:[{text:'Generate Trip Plan for me for the location: "Paris", from start date: "2024-11-01" to end date: "2024-11-05" for 2 people in low Budget. The people going on the trip prefer culture, art,  food so generate plan accordingly. Give me in generatedItinerary property the list of days with day count, hotel name to stay at, activities to do in the day one for morning, afternoon, evening, night, for each activity tell me the location and description of the activity.'}]},{role:"model",parts:[{text:'```json\n{"budget": "low", "destination": "Paris", "duration": 4, "endDate": "2024-11-05", "generatedItinerary": [{"activities": {"afternoon": {"description": "Visit the Louvre Museum, focusing on key works like the Mona Lisa and Venus de Milo to avoid museum fatigue.", "location": "Louvre Museum"}, "evening": {"description": "Enjoy a picnic dinner along the Seine River, taking in the beautiful city views.", "location": "Seine River"}, "morning": {"description": "Start your day with a visit to the Eiffel Tower. Pre-book your tickets to skip the long queues.", "location": "Eiffel Tower"}, "night": {"description": "Experience a traditional French dinner at a local bistro in the Latin Quarter.", "location": "Latin Quarter"}}, "day": 1, "hotel": "HotelF1 Paris"}, {"activities": {"afternoon": {"description": "Explore the charming streets of Montmartre, visiting the Sacr-Cur Basilica and Place du Tertre.", "location": "Montmartre"}, "evening": {"description": "Enjoy a delicious and affordable crepe from a street vendor.", "location": "Street vendor in Montmartre"}, "morning": {"description": "Visit the Muse d\'Orsay, known for its Impressionist and Post-Impressionist masterpieces.", "location": "Muse d\'Orsay"}, "night": {"description": "Return to the hotel and relax.", "location": "HotelF1 Paris"}}, "day": 2, "hotel": "HotelF1 Paris"}, {"activities": {"afternoon": {"description": "Take a leisurely walk along the Seine River, admiring the bridges and architecture.", "location": "Seine River"}, "evening": {"description": "Indulge in a final French dinner, trying a traditional dish like Boeuf Bourguignon.", "location": "Traditional French restaurant"}, "morning": {"description": "Visit the Palace of Versailles, exploring the palace and gardens.", "location": "Palace of Versailles"}, "night": {"description": "Relax at the hotel, preparing for departure.", "location": "HotelF1 Paris"}}, "day": 3, "hotel": "HotelF1 Paris"}, {"activities": {"afternoon": {"description": "Depart from Paris", "location": "Charles de Gaulle Airport"}, "evening": {"description": "N/A", "location": "N/A"}, "morning": {"description": "Visit a local market and enjoy some final Parisian pastries.", "location": "Local Market"}, "night": {"description": "N/A", "location": "N/A"}}, "day": 4, "hotel": "N/A"}], "numberOfPeople": 2, "preferences": ["culture", "art", "food"], "startDate": "2024-11-01"}\n\n```'}]}];async function oQ(t,e){try{const{destination:n,startDate:r,endDate:i,numberOfPeople:s,budget:o,preferences:a}=e,l=`
      Generate Trip Plan for me for the location: "${n}", 
      from start date: "${r}" to end date: "${i}" for ${s} people in ${o} budget. 
      ${a&&`The people going on the trip prefer ${a.join(", ")}.`} 
      Generate an itinerary in the 'generatedItinerary' property.
    `,d=await rQ.startChat({generationConfig:iQ,history:sQ}).sendMessage(l),h=JSON.parse(d.response.text()),p=await Eq(t,h);return{result:h,tripId:p}}catch(n){throw console.error("Error generating trip:",n),new Error("Trip generation failed. Please try again.")}}const zP=g.createContext({trips:[],loading:!0,setTrips:()=>null}),aQ=({children:t})=>{const[e,n]=Bn.useState([]),[r,i]=Bn.useState(!0),{user:s}=wa();g.useEffect(()=>{s&&o()},[s]);const o=async()=>{if(s){i(!0);try{const l=await E1(s.uid);n(l)}catch(l){console.error("Error loading trips:",l)}finally{i(!1)}}},a={trips:e,loading:r,setTrips:n};return f.jsx(zP.Provider,{value:a,children:t})},WP=()=>{const t=g.useContext(zP);if(t===void 0)throw new Error("useTrips must be used within a TripsProvider");return t},lQ={destination:"",startDate:"",endDate:"",duration:0,numberOfPeople:0,budget:"low",preferences:[]};function cQ(){const{user:t}=wa(),[e,n]=g.useState(lQ),[r,i]=g.useState(!1),{setTrips:s}=WP(),o=fa(),a=d=>{d.preventDefault(),console.log(e),l(e)},l=async d=>{i(!0);try{if(!t||!t.uid)throw new Error("User not found");const h={destination:d.destination,startDate:d.startDate,endDate:d.endDate,duration:d.duration,numberOfPeople:d.numberOfPeople,budget:d.budget,preferences:d.preferences},{result:p,tripId:v}=await oQ(t.uid,h);console.log("response: ",p);const w=await E1(t.uid);s(w),o(`/app/trips/${v}`),i(!1)}catch(h){console.error("Error generating trip:",h)}i(!1)},c=d=>{n(h=>({...h,[d.target.name]:d.target.value}))};return g.useEffect(()=>{if(e.startDate&&e.endDate){const d=new Date(e.startDate),p=new Date(e.endDate).getTime()-d.getTime();n(v=>({...v,duration:Math.round(p/(1e3*60*60*24))}))}},[e.startDate,e.endDate]),f.jsx("div",{className:"Planner",children:f.jsxs(bt,{className:"w-full max-w-2xl mx-auto",children:[f.jsxs(bi,{children:[f.jsx(ra,{children:"Trip Planner"}),f.jsx(If,{children:"Fill in your trip requirements to generate a personalized plan."})]}),f.jsx(Pt,{children:f.jsxs("form",{onSubmit:a,className:"flex flex-col gap-2",children:[f.jsxs("div",{className:"destination-control",children:[f.jsx("label",{htmlFor:"destination",children:"Destination"}),f.jsx(gn,{id:"destination",name:"destination",type:"text",placeholder:"e.g. New York, USA",value:e.destination,onChange:c,required:!0})]}),f.jsxs("div",{className:"date-control",children:[f.jsx("label",{htmlFor:"startDate",children:"Start Date"}),f.jsx(gn,{id:"startDate",name:"startDate",type:"date",value:e.startDate,onChange:c,required:!0}),f.jsx("label",{htmlFor:"endDate",children:"End Date"}),f.jsx(gn,{id:"endDate",name:"endDate",type:"date",value:e.endDate,onChange:c,required:!0}),f.jsx("label",{htmlFor:"duration",children:"Duration (Days)"}),f.jsx(gn,{id:"duration",name:"duration",type:"number",value:e.duration,onChange:c,readOnly:!0,required:!0})]}),f.jsxs("div",{className:"budget-control",children:[f.jsx("label",{htmlFor:"budget",children:"Budget"}),f.jsxs(vq,{onValueChange:d=>{n(h=>({...h,budget:d}))},value:e.budget,name:"budget",required:!0,children:[f.jsx(OP,{className:"w-[180px]",children:f.jsx(yq,{placeholder:"Theme"})}),f.jsxs(jP,{id:"budget",children:[f.jsx(xd,{value:"low",children:"Low"}),f.jsx(xd,{value:"moderate",children:"Moderate"}),f.jsx(xd,{value:"high",children:"High"})]})]})]}),f.jsxs("div",{className:"people-control",children:[f.jsx("label",{htmlFor:"numberOfPeople",children:"Number of People"}),f.jsx(gn,{id:"numberOfPeople",name:"numberOfPeople",type:"number",value:e.numberOfPeople,onChange:c,required:!0})]}),f.jsx("div",{className:"submit-control",children:f.jsxs(Ri,{type:"submit",className:"w-full bg-gradient-to-br relative group/btn from-black dark:from-zinc-900 dark:to-zinc-900 to-neutral-600 block dark:bg-zinc-800  text-white rounded-md h-10 font-medium shadow-[0px_1px_0px_0px_#ffffff40_inset,0px_-1px_0px_0px_#ffffff40_inset] dark:shadow-[0px_1px_0px_0px_var(--zinc-800)_inset,0px_-1px_0px_0px_var(--zinc-800)_inset]",disabled:r,children:[f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r?f.jsx(gH,{className:"animate-spin"}):f.jsx(fc,{}),r?"Generating Trip...":"Generate Trip"]}),f.jsx(yb,{})]})})]})})]})})}function _s({className:t,...e}){return f.jsx("div",{className:H("animate-pulse rounded-md bg-primary/10",t),...e})}function uQ(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var dr=t=>{const{present:e,children:n}=t,r=dQ(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=Ce(r.ref,hQ(i));return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};dr.displayName="Presence";function dQ(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=uQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const c=Hu(r.current);s.current=a==="mounted"?c:"none"},[a]),wt(()=>{const c=r.current,d=i.current;if(d!==t){const p=s.current,v=Hu(c);t?l("MOUNT"):v==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),wt(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=v=>{const y=Hu(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=v=>{v.target===e&&(s.current=Hu(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Hu(t){return(t==null?void 0:t.animationName)||"none"}function hQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var C1="Dialog",[HP,GP]=Ws(C1),[fQ,jn]=HP(C1),KP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[c=!1,d]=sa({prop:r,defaultProp:i,onChange:s});return f.jsx(fQ,{scope:e,triggerRef:a,contentRef:l,contentId:nr(),titleId:nr(),descriptionId:nr(),open:c,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};KP.displayName=C1;var qP="DialogTrigger",QP=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(qP,n),s=Ce(e,i.triggerRef);return f.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":I1(i.open),...r,ref:s,onClick:Q(t.onClick,i.onOpenToggle)})});QP.displayName=qP;var T1="DialogPortal",[pQ,YP]=HP(T1,{forceMount:void 0}),XP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=jn(T1,e);return f.jsx(pQ,{scope:e,forceMount:n,children:g.Children.map(r,o=>f.jsx(dr,{present:n||s.open,children:f.jsx(Hc,{asChild:!0,container:i,children:o})}))})};XP.displayName=T1;var Ph="DialogOverlay",JP=g.forwardRef((t,e)=>{const n=YP(Ph,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jn(Ph,t.__scopeDialog);return s.modal?f.jsx(dr,{present:r||s.open,children:f.jsx(mQ,{...i,ref:e})}):null});JP.displayName=Ph;var mQ=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(Ph,n);return f.jsx(Nf,{as:on,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(ce.div,{"data-state":I1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ms="DialogContent",ZP=g.forwardRef((t,e)=>{const n=YP(Ms,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=jn(Ms,t.__scopeDialog);return f.jsx(dr,{present:r||s.open,children:s.modal?f.jsx(gQ,{...i,ref:e}):f.jsx(vQ,{...i,ref:e})})});ZP.displayName=Ms;var gQ=g.forwardRef((t,e)=>{const n=jn(Ms,t.__scopeDialog),r=g.useRef(null),i=Ce(e,n.contentRef,r);return g.useEffect(()=>{const s=r.current;if(s)return _1(s)},[]),f.jsx(e4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Q(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Q(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Q(t.onFocusOutside,s=>s.preventDefault())})}),vQ=g.forwardRef((t,e)=>{const n=jn(Ms,t.__scopeDialog),r=g.useRef(!1),i=g.useRef(!1);return f.jsx(e4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),e4=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=jn(Ms,n),l=g.useRef(null),c=Ce(e,l);return i1(),f.jsxs(f.Fragment,{children:[f.jsx(Af,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(zc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":I1(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(_Q,{titleId:a.titleId}),f.jsx(EQ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),S1="DialogTitle",t4=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(S1,n);return f.jsx(ce.h2,{id:i.titleId,...r,ref:e})});t4.displayName=S1;var n4="DialogDescription",r4=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(n4,n);return f.jsx(ce.p,{id:i.descriptionId,...r,ref:e})});r4.displayName=n4;var i4="DialogClose",s4=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=jn(i4,n);return f.jsx(ce.button,{type:"button",...r,ref:e,onClick:Q(t.onClick,()=>i.onOpenChange(!1))})});s4.displayName=i4;function I1(t){return t?"open":"closed"}var o4="DialogTitleWarning",[yQ,a4]=RH(o4,{contentName:Ms,titleName:S1,docsSlug:"dialog"}),_Q=({titleId:t})=>{const e=a4(o4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},wQ="DialogDescriptionWarning",EQ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a4(wQ).contentName}}.`;return g.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},l4=KP,xQ=QP,c4=XP,A1=JP,R1=ZP,b1=t4,P1=r4,k1=s4,u4="AlertDialog",[CQ,AJ]=Ws(u4,[GP]),Hr=GP(),d4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Hr(e);return f.jsx(l4,{...r,...n,modal:!0})};d4.displayName=u4;var TQ="AlertDialogTrigger",h4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Hr(n);return f.jsx(xQ,{...i,...r,ref:e})});h4.displayName=TQ;var SQ="AlertDialogPortal",f4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Hr(e);return f.jsx(c4,{...r,...n})};f4.displayName=SQ;var IQ="AlertDialogOverlay",p4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Hr(n);return f.jsx(A1,{...i,...r,ref:e})});p4.displayName=IQ;var Fo="AlertDialogContent",[AQ,RQ]=CQ(Fo),m4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Hr(n),o=g.useRef(null),a=Ce(e,o),l=g.useRef(null);return f.jsx(yQ,{contentName:Fo,titleName:g4,docsSlug:"alert-dialog",children:f.jsx(AQ,{scope:n,cancelRef:l,children:f.jsxs(R1,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Q(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[f.jsx(p0,{children:r}),f.jsx(PQ,{contentRef:o})]})})})});m4.displayName=Fo;var g4="AlertDialogTitle",v4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Hr(n);return f.jsx(b1,{...i,...r,ref:e})});v4.displayName=g4;var y4="AlertDialogDescription",_4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Hr(n);return f.jsx(P1,{...i,...r,ref:e})});_4.displayName=y4;var bQ="AlertDialogAction",w4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Hr(n);return f.jsx(k1,{...i,...r,ref:e})});w4.displayName=bQ;var E4="AlertDialogCancel",x4=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=RQ(E4,n),s=Hr(n),o=Ce(e,i);return f.jsx(k1,{...s,...r,ref:o})});x4.displayName=E4;var PQ=({contentRef:t})=>{const e=`\`${Fo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fo}\` by passing a \`${y4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},kQ=d4,NQ=h4,DQ=f4,C4=p4,T4=m4,S4=w4,I4=x4,A4=v4,R4=_4;const MQ=kQ,OQ=NQ,LQ=DQ,b4=g.forwardRef(({className:t,...e},n)=>f.jsx(C4,{className:H("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));b4.displayName=C4.displayName;const P4=g.forwardRef(({className:t,...e},n)=>f.jsxs(LQ,{children:[f.jsx(b4,{}),f.jsx(T4,{ref:n,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));P4.displayName=T4.displayName;const k4=({className:t,...e})=>f.jsx("div",{className:H("flex flex-col space-y-2 text-center sm:text-left",t),...e});k4.displayName="AlertDialogHeader";const N4=({className:t,...e})=>f.jsx("div",{className:H("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});N4.displayName="AlertDialogFooter";const D4=g.forwardRef(({className:t,...e},n)=>f.jsx(A4,{ref:n,className:H("text-lg font-semibold",t),...e}));D4.displayName=A4.displayName;const M4=g.forwardRef(({className:t,...e},n)=>f.jsx(R4,{ref:n,className:H("text-sm text-muted-foreground",t),...e}));M4.displayName=R4.displayName;const O4=g.forwardRef(({className:t,...e},n)=>f.jsx(S4,{ref:n,className:H(Z0(),t),...e}));O4.displayName=S4.displayName;const L4=g.forwardRef(({className:t,...e},n)=>f.jsx(I4,{ref:n,className:H(Z0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));L4.displayName=I4.displayName;function VQ(){const[t,e]=g.useState([]),[n,r]=g.useState(!0),{user:i}=wa(),s=fa();g.useEffect(()=>{i&&o()},[i]);const o=async()=>{if(i){r(!0);try{const d=await E1(i.uid);e(d)}catch(d){console.error("Error loading trips:",d)}finally{r(!1)}}},a=async(d,h)=>{if(h.stopPropagation(),i)try{await Cq(i.uid,d),e(t.filter(p=>p.id!==d))}catch(p){console.error("Error deleting trip:",p)}},l=d=>{s(`/app/trips/${d}`)},c=()=>{s("/app/planner")};return i?f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"My Trips"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array(3).fill(null).map((d,h)=>f.jsxs(bt,{children:[f.jsx(bi,{children:f.jsx(_s,{className:"h-6 w-3/4 mb-2"})}),f.jsx(Pt,{children:f.jsx("div",{className:"space-y-2",children:Array(4).fill(null).map((p,v)=>f.jsx(_s,{className:"h-4 w-full"},v))})})]},h)):f.jsxs(f.Fragment,{children:[t.map(d=>f.jsxs(bt,{children:[f.jsx(bi,{children:f.jsxs(ra,{className:"flex justify-between items-center",children:[f.jsx("span",{className:"truncate",children:d.destination}),f.jsxs(MQ,{children:[f.jsx(OQ,{asChild:!0,children:f.jsx(Ri,{variant:"ghost",size:"icon",children:f.jsx(EH,{className:"h-5 w-5 text-red-500"})})}),f.jsxs(P4,{children:[f.jsxs(k4,{children:[f.jsx(D4,{children:"Are you sure you want to delete this trip?"}),f.jsxs(M4,{children:["This action cannot be undone. This will permanently delete your trip to ",d.destination,"."]})]}),f.jsxs(N4,{children:[f.jsx(L4,{children:"Cancel"}),f.jsx(O4,{onClick:h=>a(d.id||"",h),children:"Delete"})]})]})]})]})}),f.jsxs(Pt,{className:"space-y-2 cursor-pointer",onClick:()=>l(d.id||""),children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(wb,{className:"h-4 w-4"}),f.jsxs("span",{children:[new Date(d.startDate).toLocaleDateString()," - ",new Date(d.endDate).toLocaleDateString()]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(e1,{className:"h-4 w-4"}),f.jsxs("span",{children:[d.duration," hours"]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(t1,{className:"h-4 w-4"}),f.jsxs("span",{children:[d.numberOfPeople," people"]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Cb,{className:"h-4 w-4"}),f.jsxs("span",{children:["Budget: ",d.budget]})]})]})]},d.id)),f.jsx(bt,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-300",onClick:c,children:f.jsxs(Pt,{className:"flex flex-col items-center justify-center h-full",children:[f.jsx(Tb,{className:"h-12 w-12 mb-2 text-gray-400"}),f.jsx("span",{className:"text-lg font-semibold text-gray-600",children:"Plan a New Trip"})]})})]})})]}):f.jsx("div",{className:"grid place-items-center h-screen text-xl",children:"Please log in to view your trips."})}function jQ({children:t}){return f.jsx("div",{className:"AppWrapper",children:t})}const _m=768;function V4(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${_m-1}px)`),r=()=>{e(window.innerWidth<_m)};return n.addEventListener("change",r),e(window.innerWidth<_m),()=>n.removeEventListener("change",r)},[]),!!t}var FQ="Separator",DT="horizontal",UQ=["horizontal","vertical"],j4=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=DT,...i}=t,s=BQ(r)?r:DT,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(ce.div,{"data-orientation":s,...a,...i,ref:e})});j4.displayName=FQ;function BQ(t){return UQ.includes(t)}var F4=j4;const U4=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>f.jsx(F4,{ref:i,decorative:n,orientation:e,className:H("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));U4.displayName=F4.displayName;const $Q=l4,zQ=c4,B4=g.forwardRef(({className:t,...e},n)=>f.jsx(A1,{className:H("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));B4.displayName=A1.displayName;const WQ=yf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$4=g.forwardRef(({side:t="right",className:e,children:n,...r},i)=>f.jsxs(zQ,{children:[f.jsx(B4,{}),f.jsxs(R1,{ref:i,className:H(WQ({side:t}),e),...r,children:[f.jsxs(k1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[f.jsx(xH,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));$4.displayName=R1.displayName;const HQ=g.forwardRef(({className:t,...e},n)=>f.jsx(b1,{ref:n,className:H("text-lg font-semibold text-foreground",t),...e}));HQ.displayName=b1.displayName;const GQ=g.forwardRef(({className:t,...e},n)=>f.jsx(P1,{ref:n,className:H("text-sm text-muted-foreground",t),...e}));GQ.displayName=P1.displayName;var[Lf,RJ]=Ws("Tooltip",[Sa]),Vf=Sa(),z4="TooltipProvider",KQ=700,gv="tooltip.open",[qQ,N1]=Lf(z4),W4=t=>{const{__scopeTooltip:e,delayDuration:n=KQ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=g.useState(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),f.jsx(qQ,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};W4.displayName=z4;var jf="Tooltip",[QQ,qc]=Lf(jf),H4=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=N1(jf,t.__scopeTooltip),c=Vf(e),[d,h]=g.useState(null),p=nr(),v=g.useRef(0),w=o??l.disableHoverableContent,y=a??l.delayDuration,T=g.useRef(!1),[x=!1,_]=sa({prop:r,defaultProp:i,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(gv))):l.onClose(),s==null||s(I)}}),C=g.useMemo(()=>x?T.current?"delayed-open":"instant-open":"closed",[x]),P=g.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T.current=!1,_(!0)},[_]),M=g.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_(!1)},[_]),L=g.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{T.current=!0,_(!0),v.current=0},y)},[y,_]);return g.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),f.jsx(p1,{...c,children:f.jsx(QQ,{scope:e,contentId:p,open:x,stateAttribute:C,trigger:d,onTriggerChange:h,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayed?L():P()},[l.isOpenDelayed,L,P]),onTriggerLeave:g.useCallback(()=>{w?M():(window.clearTimeout(v.current),v.current=0)},[M,w]),onOpen:P,onClose:M,disableHoverableContent:w,children:n})})};H4.displayName=jf;var vv="TooltipTrigger",G4=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=qc(vv,n),s=N1(vv,n),o=Vf(n),a=g.useRef(null),l=Ce(e,a,i.onTriggerChange),c=g.useRef(!1),d=g.useRef(!1),h=g.useCallback(()=>c.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(m1,{asChild:!0,...o,children:f.jsx(ce.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Q(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Q(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Q(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Q(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Q(t.onBlur,i.onClose),onClick:Q(t.onClick,i.onClose)})})});G4.displayName=vv;var D1="TooltipPortal",[YQ,XQ]=Lf(D1,{forceMount:void 0}),K4=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,s=qc(D1,e);return f.jsx(YQ,{scope:e,forceMount:n,children:f.jsx(dr,{present:n||s.open,children:f.jsx(Hc,{asChild:!0,container:i,children:r})})})};K4.displayName=D1;var oa="TooltipContent",q4=g.forwardRef((t,e)=>{const n=XQ(oa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=qc(oa,t.__scopeTooltip);return f.jsx(dr,{present:r||o.open,children:o.disableHoverableContent?f.jsx(Q4,{side:i,...s,ref:e}):f.jsx(JQ,{side:i,...s,ref:e})})}),JQ=g.forwardRef((t,e)=>{const n=qc(oa,t.__scopeTooltip),r=N1(oa,t.__scopeTooltip),i=g.useRef(null),s=Ce(e,i),[o,a]=g.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:h}=r,p=g.useCallback(()=>{a(null),h(!1)},[h]),v=g.useCallback((w,y)=>{const T=w.currentTarget,x={x:w.clientX,y:w.clientY},_=nY(x,T.getBoundingClientRect()),C=rY(x,_),P=iY(y.getBoundingClientRect()),M=oY([...C,...P]);a(M),h(!0)},[h]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(l&&d){const w=T=>v(T,d),y=T=>v(T,l);return l.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[l,d,v,p]),g.useEffect(()=>{if(o){const w=y=>{const T=y.target,x={x:y.clientX,y:y.clientY},_=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),C=!sY(x,o);_?p():C&&(p(),c())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,d,o,c,p]),f.jsx(Q4,{...t,ref:s})}),[ZQ,eY]=Lf(jf,{isInside:!1}),Q4=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=qc(oa,n),c=Vf(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(gv,d),()=>document.removeEventListener(gv,d)),[d]),g.useEffect(()=>{if(l.trigger){const h=p=>{const v=p.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(g1,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(p0,{children:r}),f.jsx(ZQ,{scope:n,isInside:!0,children:f.jsx(oK,{id:l.contentId,role:"tooltip",children:i||r})})]})})});q4.displayName=oa;var Y4="TooltipArrow",tY=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vf(n);return eY(Y4,n).isInside?null:f.jsx(v1,{...i,...r,ref:e})});tY.displayName=Y4;function nY(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function rY(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function iY(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function sY(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function oY(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),aY(e)}function aY(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var lY=W4,cY=H4,uY=G4,dY=K4,X4=q4;const hY=lY,fY=cY,pY=uY,J4=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(dY,{children:f.jsx(X4,{ref:r,sideOffset:e,className:H("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));J4.displayName=X4.displayName;const mY="sidebar:state",gY=60*60*24*7,vY="16rem",yY="18rem",_Y="3rem",wY="b",Z4=g.createContext(null);function Aa(){const t=g.useContext(Z4);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const e3=g.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o},a)=>{const l=V4(),[c,d]=g.useState(!1),[h,p]=g.useState(t),v=e??h,w=g.useCallback(_=>{const C=typeof _=="function"?_(v):_;n?n(C):p(C),document.cookie=`${mY}=${C}; path=/; max-age=${gY}`},[n,v]),y=g.useCallback(()=>l?d(_=>!_):w(_=>!_),[l,w,d]);g.useEffect(()=>{const _=C=>{C.key===wY&&(C.metaKey||C.ctrlKey)&&(C.preventDefault(),y())};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[y]);const T=v?"expanded":"collapsed",x=g.useMemo(()=>({state:T,open:v,setOpen:w,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:y}),[T,v,w,l,c,d,y]);return f.jsx(Z4.Provider,{value:x,children:f.jsx(hY,{delayDuration:0,children:f.jsx("div",{style:{"--sidebar-width":vY,"--sidebar-width-icon":_Y,...i},className:H("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:s})})})});e3.displayName="SidebarProvider";const t3=g.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",title:r="Sidebar",className:i,children:s,...o},a)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:h}=Aa();return n==="none"?f.jsx("div",{className:H("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:a,...o,children:s}):l?f.jsx($Q,{open:d,onOpenChange:h,...o,children:f.jsx($4,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":yY},side:t,children:f.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):f.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[f.jsx("div",{className:H("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),f.jsx("div",{className:H("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...o,children:f.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});t3.displayName="Sidebar";const M1=g.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:i}=Aa();return f.jsxs(Ri,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:H("h-7 w-7",t),onClick:s=>{e==null||e(s),i()},...n,children:[f.jsx(mH,{}),f.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});M1.displayName="SidebarTrigger";const EY=g.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Aa();return f.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:H("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});EY.displayName="SidebarRail";const xY=g.forwardRef(({className:t,...e},n)=>f.jsx("main",{ref:n,className:H("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));xY.displayName="SidebarInset";const CY=g.forwardRef(({className:t,...e},n)=>f.jsx(gn,{ref:n,"data-sidebar":"input",className:H("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));CY.displayName="SidebarInput";const n3=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"header",className:H("flex flex-col gap-2 p-2",t),...e}));n3.displayName="SidebarHeader";const r3=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"footer",className:H("flex flex-col gap-2 p-2",t),...e}));r3.displayName="SidebarFooter";const TY=g.forwardRef(({className:t,...e},n)=>f.jsx(U4,{ref:n,"data-sidebar":"separator",className:H("mx-2 w-auto bg-sidebar-border",t),...e}));TY.displayName="SidebarSeparator";const i3=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"content",className:H("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));i3.displayName="SidebarContent";const yv=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"group",className:H("relative flex w-full min-w-0 flex-col p-2",t),...e}));yv.displayName="SidebarGroup";const _v=g.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?on:"div";return f.jsx(i,{ref:r,"data-sidebar":"group-label",className:H("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});_v.displayName="SidebarGroupLabel";const SY=g.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?on:"button";return f.jsx(i,{ref:r,"data-sidebar":"group-action",className:H("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});SY.displayName="SidebarGroupAction";const wv=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"group-content",className:H("w-full text-sm",t),...e}));wv.displayName="SidebarGroupContent";const kh=g.forwardRef(({className:t,...e},n)=>f.jsx("ul",{ref:n,"data-sidebar":"menu",className:H("flex w-full min-w-0 flex-col gap-1",t),...e}));kh.displayName="SidebarMenu";const Ol=g.forwardRef(({className:t,...e},n)=>f.jsx("li",{ref:n,"data-sidebar":"menu-item",className:H("group/menu-item relative",t),...e}));Ol.displayName="SidebarMenuItem";const IY=yf("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Ll=g.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o},a)=>{const l=t?on:"button",{isMobile:c,state:d}=Aa(),h=f.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:H(IY({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),f.jsxs(fY,{children:[f.jsx(pY,{asChild:!0,children:h}),f.jsx(J4,{side:"right",align:"center",hidden:d!=="collapsed"||c,...i})]})):h});Ll.displayName="SidebarMenuButton";const AY=g.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},i)=>{const s=e?on:"button";return f.jsx(s,{ref:i,"data-sidebar":"menu-action",className:H("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});AY.displayName="SidebarMenuAction";const RY=g.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:H("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));RY.displayName="SidebarMenuBadge";const bY=g.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const i=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return f.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:H("rounded-md h-8 flex gap-2 px-2 items-center",t),...n,children:[e&&f.jsx(_s,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),f.jsx(_s,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});bY.displayName="SidebarMenuSkeleton";const PY=g.forwardRef(({className:t,...e},n)=>f.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:H("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));PY.displayName="SidebarMenuSub";const kY=g.forwardRef(({...t},e)=>f.jsx("li",{ref:e,...t}));kY.displayName="SidebarMenuSubItem";const NY=g.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...i},s)=>{const o=t?on:"a";return f.jsx(o,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:H("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});NY.displayName="SidebarMenuSubButton";var O1="Avatar",[DY,bJ]=Ws(O1),[MY,s3]=DY(O1),o3=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=g.useState("idle");return f.jsx(MY,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:f.jsx(ce.span,{...r,ref:e})})});o3.displayName=O1;var a3="AvatarImage",l3=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=s3(a3,n),a=OY(r,s.referrerPolicy),l=ln(c=>{i(c),o.onImageLoadingStatusChange(c)});return wt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?f.jsx(ce.img,{...s,ref:e,src:r}):null});l3.displayName=a3;var c3="AvatarFallback",u3=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=s3(c3,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?f.jsx(ce.span,{...i,ref:e}):null});u3.displayName=c3;function OY(t,e){const[n,r]=g.useState("idle");return wt(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var d3=o3,h3=l3,f3=u3;const Ev=g.forwardRef(({className:t,...e},n)=>f.jsx(d3,{ref:n,className:H("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ev.displayName=d3.displayName;const xv=g.forwardRef(({className:t,...e},n)=>f.jsx(h3,{ref:n,className:H("aspect-square h-full w-full",t),...e}));xv.displayName=h3.displayName;const Cv=g.forwardRef(({className:t,...e},n)=>f.jsx(f3,{ref:n,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Cv.displayName=f3.displayName;function LY(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function c(h){const{scope:p,children:v,...w}=h,y=(p==null?void 0:p[t][l])||a,T=g.useMemo(()=>w,Object.values(w));return f.jsx(y.Provider,{value:T,children:v})}function d(h,p){const v=(p==null?void 0:p[t][l])||a,w=g.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,VY(i,...e)]}function VY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...a,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wm="rovingFocusGroup.onEntryFocus",jY={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[Tv,p3,FY]=n1(Ff),[UY,m3]=LY(Ff,[FY]),[BY,$Y]=UY(Ff),g3=g.forwardRef((t,e)=>f.jsx(Tv.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Tv.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(zY,{...t,ref:e})})}));g3.displayName=Ff;var zY=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,p=g.useRef(null),v=Ce(e,p),w=r1(s),[y=null,T]=sa({prop:o,defaultProp:a,onChange:l}),[x,_]=g.useState(!1),C=ln(c),P=p3(n),M=g.useRef(!1),[L,I]=g.useState(0);return g.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(wm,C),()=>S.removeEventListener(wm,C)},[C]),f.jsx(BY,{scope:n,orientation:r,dir:w,loop:i,currentTabStopId:y,onItemFocus:g.useCallback(S=>T(S),[T]),onItemShiftTab:g.useCallback(()=>_(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:g.useCallback(()=>I(S=>S-1),[]),children:f.jsx(ce.div,{tabIndex:x||L===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:Q(t.onMouseDown,()=>{M.current=!0}),onFocus:Q(t.onFocus,S=>{const R=!M.current;if(S.target===S.currentTarget&&R&&!x){const b=new CustomEvent(wm,jY);if(S.currentTarget.dispatchEvent(b),!b.defaultPrevented){const N=P().filter(Z=>Z.focusable),D=N.find(Z=>Z.active),k=N.find(Z=>Z.id===y),ue=[D,k,...N].filter(Boolean).map(Z=>Z.ref.current);_3(ue,d)}}M.current=!1}),onBlur:Q(t.onBlur,()=>_(!1))})})}),v3="RovingFocusGroupItem",y3=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=nr(),l=s||a,c=$Y(v3,n),d=c.currentTabStopId===l,h=p3(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=c;return g.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),f.jsx(Tv.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:f.jsx(ce.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Q(t.onMouseDown,w=>{r?c.onItemFocus(l):w.preventDefault()}),onFocus:Q(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Q(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){c.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=GY(w,c.orientation,c.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const _=x.indexOf(w.currentTarget);x=c.loop?KY(x,_+1):x.slice(_+1)}setTimeout(()=>_3(x))}})})})});y3.displayName=v3;var WY={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function HY(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function GY(t,e,n){const r=HY(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WY[r]}function _3(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function KY(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qY=g3,QY=y3,Sv=["Enter"," "],YY=["ArrowDown","PageUp","Home"],w3=["ArrowUp","PageDown","End"],XY=[...YY,...w3],JY={ltr:[...Sv,"ArrowRight"],rtl:[...Sv,"ArrowLeft"]},ZY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qc="Menu",[yc,eX,tX]=n1(Qc),[Hs,E3]=Ws(Qc,[tX,Sa,m3]),Uf=Sa(),x3=m3(),[nX,Gs]=Hs(Qc),[rX,Yc]=Hs(Qc),C3=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=Uf(e),[l,c]=g.useState(null),d=g.useRef(!1),h=ln(s),p=r1(i);return g.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(p1,{...a,children:f.jsx(nX,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(rX,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:r})})})};C3.displayName=Qc;var iX="MenuAnchor",L1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Uf(n);return f.jsx(m1,{...i,...r,ref:e})});L1.displayName=iX;var V1="MenuPortal",[sX,T3]=Hs(V1,{forceMount:void 0}),S3=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Gs(V1,e);return f.jsx(sX,{scope:e,forceMount:n,children:f.jsx(dr,{present:n||s.open,children:f.jsx(Hc,{asChild:!0,container:i,children:r})})})};S3.displayName=V1;var _n="MenuContent",[oX,j1]=Hs(_n),I3=g.forwardRef((t,e)=>{const n=T3(_n,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Gs(_n,t.__scopeMenu),o=Yc(_n,t.__scopeMenu);return f.jsx(yc.Provider,{scope:t.__scopeMenu,children:f.jsx(dr,{present:r||s.open,children:f.jsx(yc.Slot,{scope:t.__scopeMenu,children:o.modal?f.jsx(aX,{...i,ref:e}):f.jsx(lX,{...i,ref:e})})})})}),aX=g.forwardRef((t,e)=>{const n=Gs(_n,t.__scopeMenu),r=g.useRef(null),i=Ce(e,r);return g.useEffect(()=>{const s=r.current;if(s)return _1(s)},[]),f.jsx(F1,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Q(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),lX=g.forwardRef((t,e)=>{const n=Gs(_n,t.__scopeMenu);return f.jsx(F1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),F1=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:v,disableOutsideScroll:w,...y}=t,T=Gs(_n,n),x=Yc(_n,n),_=Uf(n),C=x3(n),P=eX(n),[M,L]=g.useState(null),I=g.useRef(null),S=Ce(e,I,T.onContentChange),R=g.useRef(0),b=g.useRef(""),N=g.useRef(0),D=g.useRef(null),k=g.useRef("right"),J=g.useRef(0),ue=w?Nf:g.Fragment,Z=w?{as:on,allowPinchZoom:!0}:void 0,X=F=>{var Y,Te;const W=b.current+F,ee=P().filter(Re=>!Re.disabled),ae=document.activeElement,xe=(Y=ee.find(Re=>Re.ref.current===ae))==null?void 0:Y.textValue,We=ee.map(Re=>Re.textValue),et=wX(We,W,xe),je=(Te=ee.find(Re=>Re.textValue===et))==null?void 0:Te.ref.current;(function Re(me){b.current=me,window.clearTimeout(R.current),me!==""&&(R.current=window.setTimeout(()=>Re(""),1e3))})(W),je&&setTimeout(()=>je.focus())};g.useEffect(()=>()=>window.clearTimeout(R.current),[]),i1();const j=g.useCallback(F=>{var ee,ae;return k.current===((ee=D.current)==null?void 0:ee.side)&&xX(F,(ae=D.current)==null?void 0:ae.area)},[]);return f.jsx(oX,{scope:n,searchRef:b,onItemEnter:g.useCallback(F=>{j(F)&&F.preventDefault()},[j]),onItemLeave:g.useCallback(F=>{var W;j(F)||((W=I.current)==null||W.focus(),L(null))},[j]),onTriggerLeave:g.useCallback(F=>{j(F)&&F.preventDefault()},[j]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(F=>{D.current=F},[]),children:f.jsx(ue,{...Z,children:f.jsx(Af,{asChild:!0,trapped:i,onMountAutoFocus:Q(s,F=>{var W;F.preventDefault(),(W=I.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:f.jsx(zc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:v,children:f.jsx(qY,{asChild:!0,...C,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:L,onEntryFocus:Q(l,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(g1,{role:"menu","aria-orientation":"vertical","data-state":$3(T.open),"data-radix-menu-content":"",dir:x.dir,..._,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:Q(y.onKeyDown,F=>{const ee=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ae=F.ctrlKey||F.altKey||F.metaKey,xe=F.key.length===1;ee&&(F.key==="Tab"&&F.preventDefault(),!ae&&xe&&X(F.key));const We=I.current;if(F.target!==We||!XY.includes(F.key))return;F.preventDefault();const je=P().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);w3.includes(F.key)&&je.reverse(),yX(je)}),onBlur:Q(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),b.current="")}),onPointerMove:Q(t.onPointerMove,_c(F=>{const W=F.target,ee=J.current!==F.clientX;if(F.currentTarget.contains(W)&&ee){const ae=F.clientX>J.current?"right":"left";k.current=ae,J.current=F.clientX}}))})})})})})})});I3.displayName=_n;var cX="MenuGroup",U1=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ce.div,{role:"group",...r,ref:e})});U1.displayName=cX;var uX="MenuLabel",A3=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ce.div,{...r,ref:e})});A3.displayName=uX;var Nh="MenuItem",MT="menu.itemSelect",Bf=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=g.useRef(null),o=Yc(Nh,t.__scopeMenu),a=j1(Nh,t.__scopeMenu),l=Ce(e,s),c=g.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const p=new CustomEvent(MT,{bubbles:!0,cancelable:!0});h.addEventListener(MT,v=>r==null?void 0:r(v),{once:!0}),NA(h,p),p.defaultPrevented?c.current=!1:o.onClose()}};return f.jsx(R3,{...i,ref:l,disabled:n,onClick:Q(t.onClick,d),onPointerDown:h=>{var p;(p=t.onPointerDown)==null||p.call(t,h),c.current=!0},onPointerUp:Q(t.onPointerUp,h=>{var p;c.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:Q(t.onKeyDown,h=>{const p=a.searchRef.current!=="";n||p&&h.key===" "||Sv.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Bf.displayName=Nh;var R3=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=j1(Nh,n),a=x3(n),l=g.useRef(null),c=Ce(e,l),[d,h]=g.useState(!1),[p,v]=g.useState("");return g.useEffect(()=>{const w=l.current;w&&v((w.textContent??"").trim())},[s.children]),f.jsx(yc.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:f.jsx(QY,{asChild:!0,...a,focusable:!r,children:f.jsx(ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Q(t.onPointerMove,_c(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Q(t.onPointerLeave,_c(w=>o.onItemLeave(w))),onFocus:Q(t.onFocus,()=>h(!0)),onBlur:Q(t.onBlur,()=>h(!1))})})})}),dX="MenuCheckboxItem",b3=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return f.jsx(M3,{scope:t.__scopeMenu,checked:n,children:f.jsx(Bf,{role:"menuitemcheckbox","aria-checked":Dh(n)?"mixed":n,...i,ref:e,"data-state":$1(n),onSelect:Q(i.onSelect,()=>r==null?void 0:r(Dh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});b3.displayName=dX;var P3="MenuRadioGroup",[hX,fX]=Hs(P3,{value:void 0,onValueChange:()=>{}}),k3=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=ln(r);return f.jsx(hX,{scope:t.__scopeMenu,value:n,onValueChange:s,children:f.jsx(U1,{...i,ref:e})})});k3.displayName=P3;var N3="MenuRadioItem",D3=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=fX(N3,t.__scopeMenu),s=n===i.value;return f.jsx(M3,{scope:t.__scopeMenu,checked:s,children:f.jsx(Bf,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":$1(s),onSelect:Q(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});D3.displayName=N3;var B1="MenuItemIndicator",[M3,pX]=Hs(B1,{checked:!1}),O3=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=pX(B1,n);return f.jsx(dr,{present:r||Dh(s.checked)||s.checked===!0,children:f.jsx(ce.span,{...i,ref:e,"data-state":$1(s.checked)})})});O3.displayName=B1;var mX="MenuSeparator",L3=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});L3.displayName=mX;var gX="MenuArrow",V3=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Uf(n);return f.jsx(v1,{...i,...r,ref:e})});V3.displayName=gX;var vX="MenuSub",[PJ,j3]=Hs(vX),pl="MenuSubTrigger",F3=g.forwardRef((t,e)=>{const n=Gs(pl,t.__scopeMenu),r=Yc(pl,t.__scopeMenu),i=j3(pl,t.__scopeMenu),s=j1(pl,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),f.jsx(L1,{asChild:!0,...c,children:f.jsx(R3,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$3(n.open),...t,ref:vf(e,i.onTriggerChange),onClick:h=>{var p;(p=t.onClick)==null||p.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Q(t.onPointerMove,_c(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Q(t.onPointerLeave,_c(h=>{var v,w;d();const p=(v=n.content)==null?void 0:v.getBoundingClientRect();if(p){const y=(w=n.content)==null?void 0:w.dataset.side,T=y==="right",x=T?-5:5,_=p[T?"left":"right"],C=p[T?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:_,y:p.top},{x:C,y:p.top},{x:C,y:p.bottom},{x:_,y:p.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Q(t.onKeyDown,h=>{var v;const p=s.searchRef.current!=="";t.disabled||p&&h.key===" "||JY[r.dir].includes(h.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),h.preventDefault())})})})});F3.displayName=pl;var U3="MenuSubContent",B3=g.forwardRef((t,e)=>{const n=T3(_n,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Gs(_n,t.__scopeMenu),o=Yc(_n,t.__scopeMenu),a=j3(U3,t.__scopeMenu),l=g.useRef(null),c=Ce(e,l);return f.jsx(yc.Provider,{scope:t.__scopeMenu,children:f.jsx(dr,{present:r||s.open,children:f.jsx(yc.Slot,{scope:t.__scopeMenu,children:f.jsx(F1,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Q(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Q(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Q(t.onKeyDown,d=>{var v;const h=d.currentTarget.contains(d.target),p=ZY[o.dir].includes(d.key);h&&p&&(s.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});B3.displayName=U3;function $3(t){return t?"open":"closed"}function Dh(t){return t==="indeterminate"}function $1(t){return Dh(t)?"indeterminate":t?"checked":"unchecked"}function yX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function _X(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function wX(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=_X(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function EX(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function xX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return EX(n,e)}function _c(t){return e=>e.pointerType==="mouse"?t(e):void 0}var CX=C3,TX=L1,SX=S3,IX=I3,AX=U1,RX=A3,bX=Bf,PX=b3,kX=k3,NX=D3,DX=O3,MX=L3,OX=V3,LX=F3,VX=B3,z1="DropdownMenu",[jX,kJ]=Ws(z1,[E3]),$t=E3(),[FX,z3]=jX(z1),W3=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=$t(e),c=g.useRef(null),[d=!1,h]=sa({prop:i,defaultProp:s,onChange:o});return f.jsx(FX,{scope:e,triggerId:nr(),triggerRef:c,contentId:nr(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:a,children:f.jsx(CX,{...l,open:d,onOpenChange:h,dir:r,modal:a,children:n})})};W3.displayName=z1;var H3="DropdownMenuTrigger",G3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=z3(H3,n),o=$t(n);return f.jsx(TX,{asChild:!0,...o,children:f.jsx(ce.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:vf(e,s.triggerRef),onPointerDown:Q(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Q(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});G3.displayName=H3;var UX="DropdownMenuPortal",K3=t=>{const{__scopeDropdownMenu:e,...n}=t,r=$t(e);return f.jsx(SX,{...r,...n})};K3.displayName=UX;var q3="DropdownMenuContent",Q3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=z3(q3,n),s=$t(n),o=g.useRef(!1);return f.jsx(IX,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Q(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Q(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Q3.displayName=q3;var BX="DropdownMenuGroup",$X=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(AX,{...i,...r,ref:e})});$X.displayName=BX;var zX="DropdownMenuLabel",Y3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(RX,{...i,...r,ref:e})});Y3.displayName=zX;var WX="DropdownMenuItem",X3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(bX,{...i,...r,ref:e})});X3.displayName=WX;var HX="DropdownMenuCheckboxItem",J3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(PX,{...i,...r,ref:e})});J3.displayName=HX;var GX="DropdownMenuRadioGroup",KX=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(kX,{...i,...r,ref:e})});KX.displayName=GX;var qX="DropdownMenuRadioItem",Z3=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(NX,{...i,...r,ref:e})});Z3.displayName=qX;var QX="DropdownMenuItemIndicator",ek=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(DX,{...i,...r,ref:e})});ek.displayName=QX;var YX="DropdownMenuSeparator",tk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(MX,{...i,...r,ref:e})});tk.displayName=YX;var XX="DropdownMenuArrow",JX=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(OX,{...i,...r,ref:e})});JX.displayName=XX;var ZX="DropdownMenuSubTrigger",nk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(LX,{...i,...r,ref:e})});nk.displayName=ZX;var eJ="DropdownMenuSubContent",rk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$t(n);return f.jsx(VX,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rk.displayName=eJ;var tJ=W3,nJ=G3,rJ=K3,ik=Q3,sk=Y3,ok=X3,ak=J3,lk=Z3,ck=ek,uk=tk,dk=nk,hk=rk;const iJ=tJ,sJ=nJ,oJ=g.forwardRef(({className:t,inset:e,children:n,...r},i)=>f.jsxs(dk,{ref:i,className:H("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,f.jsx(sH,{className:"ml-auto"})]}));oJ.displayName=dk.displayName;const aJ=g.forwardRef(({className:t,...e},n)=>f.jsx(hk,{ref:n,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));aJ.displayName=hk.displayName;const fk=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(rJ,{children:f.jsx(ik,{ref:r,sideOffset:e,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));fk.displayName=ik.displayName;const pk=g.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(ok,{ref:r,className:H("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));pk.displayName=ok.displayName;const lJ=g.forwardRef(({className:t,children:e,checked:n,...r},i)=>f.jsxs(ak,{ref:i,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(ck,{children:f.jsx(Eb,{className:"h-4 w-4"})})}),e]}));lJ.displayName=ak.displayName;const cJ=g.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(lk,{ref:r,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(ck,{children:f.jsx(lH,{className:"h-2 w-2 fill-current"})})}),e]}));cJ.displayName=lk.displayName;const mk=g.forwardRef(({className:t,inset:e,...n},r)=>f.jsx(sk,{ref:r,className:H("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));mk.displayName=sk.displayName;const gk=g.forwardRef(({className:t,...e},n)=>f.jsx(uk,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",t),...e}));gk.displayName=uk.displayName;const uJ=({classes:t,children:e})=>{const n=async()=>{try{await a8(Fc),console.log("User logged out successfully")}catch(r){console.error("Error logging out:",r)}};return f.jsx("button",{className:t,onClick:n,children:e})};function dJ({user:t}){const{isMobile:e}=Aa();return f.jsx(kh,{children:f.jsx(Ol,{children:f.jsxs(iJ,{children:[f.jsx(sJ,{asChild:!0,children:f.jsxs(Ll,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[f.jsxs(Ev,{className:"h-8 w-8 rounded-lg",children:[f.jsx(xv,{src:t.avatar,alt:t.name}),f.jsx(Cv,{className:"rounded-lg",children:"CN"})]}),f.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[f.jsx("span",{className:"truncate font-semibold",children:t.name}),f.jsx("span",{className:"truncate text-xs",children:t.email})]}),f.jsx(aH,{className:"ml-auto size-4"})]})}),f.jsxs(fk,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:e?"bottom":"right",align:"end",sideOffset:4,children:[f.jsx(mk,{className:"p-0 font-normal",children:f.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[f.jsxs(Ev,{className:"h-8 w-8 rounded-lg",children:[f.jsx(xv,{src:t.avatar,alt:t.name}),f.jsx(Cv,{className:"rounded-lg",children:"CN"})]}),f.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[f.jsx("span",{className:"truncate font-semibold",children:t.name}),f.jsx("span",{className:"truncate text-xs",children:t.email})]})]})}),f.jsx(gk,{}),f.jsx(pk,{children:f.jsxs(uJ,{classes:"flex gap-2 items-center",children:[f.jsx(fH,{}),"Log out"]})})]})]})})})}function hJ(){const{open:t}=Aa(),{user:e}=wa(),{trips:n}=WP();return f.jsxs(t3,{variant:"floating",collapsible:"icon",children:[f.jsxs(i3,{children:[f.jsx(n3,{children:f.jsxs("div",{className:"flex justify-between",children:[t&&f.jsx(fJ,{}),f.jsx(M1,{})]})}),f.jsxs(yv,{children:[f.jsx(_v,{children:"Application"}),f.jsx(wv,{children:f.jsxs(kh,{children:[f.jsx(Ol,{children:f.jsx(Ll,{asChild:!0,children:f.jsxs(jt,{to:"/app/planner",children:[f.jsx(Tb,{}),f.jsx("span",{children:"Plan a Trip"})]})})}),f.jsx(Ol,{children:f.jsx(Ll,{asChild:!0,children:f.jsxs(jt,{to:"/app/trips",children:[f.jsx(wH,{}),f.jsx("span",{children:"My Trips"})]})})})]})})]}),f.jsxs(yv,{children:[f.jsx(_v,{children:"My Trips"}),f.jsx(wv,{children:f.jsx(kh,{children:n.map(r=>f.jsx(Ol,{children:f.jsx(Ll,{asChild:!0,children:f.jsxs(jt,{to:`/app/trips/${r.id}`,children:[f.jsx(fc,{}),f.jsx("span",{children:r.destination})]})})},r.id))})})]})]}),f.jsx(r3,{children:f.jsx(dJ,{user:{name:(e==null?void 0:e.displayName)||"John Doe",avatar:"https://avatar.iran.liara.run/public",email:(e==null?void 0:e.email)||"john.doe@example.com"}})})]})}const fJ=()=>f.jsxs("div",{className:"flex items-center gap-2 text-lg",children:[f.jsx(fc,{}),f.jsx("span",{children:"AI Trip Planner"})]});function pJ(){const{user:t,loading:e}=wa(),n=V4();return e?f.jsx("div",{children:"Loading..."}):f.jsx(aQ,{children:f.jsx(e3,{children:f.jsxs("div",{className:"ProtectedRoutes flex h-screen w-screen",children:[f.jsxs("aside",{children:[n&&f.jsx(M1,{}),f.jsx(hJ,{})]}),f.jsx("main",{className:"grid place-items-center flex-grow p-2",children:f.jsx("div",{className:"border-2 w-full h-full rounded-lg grid place-items-center overflow-x-hidden overflow-y-auto",children:t?f.jsx(c7,{}):f.jsx(l7,{to:"/login"})})})]})})})}const mJ=({children:t,className:e,svgOptions:n})=>f.jsxs("div",{className:H("h-[20rem] md:h-screen w-full bg-white dark:bg-black",e),children:[f.jsx(gJ,{svgOptions:n}),t]}),OT={initial:{strokeDashoffset:800,strokeDasharray:"50 800"},animate:{strokeDashoffset:0,strokeDasharray:"20 800",opacity:[0,1,1,0]}},gJ=({svgOptions:t})=>{const e=["M720 450C720 450 742.459 440.315 755.249 425.626C768.039 410.937 778.88 418.741 789.478 401.499C800.076 384.258 817.06 389.269 826.741 380.436C836.423 371.603 851.957 364.826 863.182 356.242C874.408 347.657 877.993 342.678 898.867 333.214C919.741 323.75 923.618 319.88 934.875 310.177C946.133 300.474 960.784 300.837 970.584 287.701C980.384 274.564 993.538 273.334 1004.85 263.087C1016.15 252.84 1026.42 250.801 1038.22 242.1C1050.02 233.399 1065.19 230.418 1074.63 215.721C1084.07 201.024 1085.49 209.128 1112.65 194.884C1139.8 180.64 1132.49 178.205 1146.43 170.636C1160.37 163.066 1168.97 158.613 1181.46 147.982C1193.95 137.35 1191.16 131.382 1217.55 125.645C1243.93 119.907 1234.19 118.899 1254.53 100.846C1274.86 82.7922 1275.12 92.8914 1290.37 76.09C1305.62 59.2886 1313.91 62.1868 1323.19 56.7536C1332.48 51.3204 1347.93 42.8082 1361.95 32.1468C1375.96 21.4855 1374.06 25.168 1397.08 10.1863C1420.09 -4.79534 1421.41 -3.16992 1431.52 -15.0078","M720 450C720 450 741.044 435.759 753.062 410.636C765.079 385.514 770.541 386.148 782.73 370.489C794.918 354.83 799.378 353.188 811.338 332.597C823.298 312.005 825.578 306.419 843.707 295.493C861.837 284.568 856.194 273.248 877.376 256.48C898.558 239.713 887.536 227.843 909.648 214.958C931.759 202.073 925.133 188.092 941.063 177.621C956.994 167.151 952.171 154.663 971.197 135.041C990.222 115.418 990.785 109.375 999.488 96.1291C1008.19 82.8827 1011.4 82.2181 1032.65 61.8861C1053.9 41.5541 1045.74 48.0281 1064.01 19.5798C1082.29 -8.86844 1077.21 -3.89415 1093.7 -19.66C1110.18 -35.4258 1105.91 -46.1146 1127.68 -60.2834C1149.46 -74.4523 1144.37 -72.1024 1154.18 -97.6802C1163.99 -123.258 1165.6 -111.332 1186.21 -135.809C1206.81 -160.285 1203.29 -160.861 1220.31 -177.633C1237.33 -194.406 1236.97 -204.408 1250.42 -214.196","M720 450C720 450 712.336 437.768 690.248 407.156C668.161 376.544 672.543 394.253 665.951 365.784C659.358 337.316 647.903 347.461 636.929 323.197C625.956 298.933 626.831 303.639 609.939 281.01C593.048 258.381 598.7 255.282 582.342 242.504C565.985 229.726 566.053 217.66 559.169 197.116C552.284 176.572 549.348 171.846 529.347 156.529C509.345 141.211 522.053 134.054 505.192 115.653C488.33 97.2527 482.671 82.5627 473.599 70.7833C464.527 59.0039 464.784 50.2169 447 32.0721C429.215 13.9272 436.29 0.858563 423.534 -12.6868C410.777 -26.2322 407.424 -44.0808 394.364 -56.4916C381.303 -68.9024 373.709 -72.6804 365.591 -96.1992C357.473 -119.718 358.364 -111.509 338.222 -136.495C318.08 -161.481 322.797 -149.499 315.32 -181.761C307.843 -214.023 294.563 -202.561 285.795 -223.25C277.026 -243.94 275.199 -244.055 258.602 -263.871","M720 450C720 450 738.983 448.651 790.209 446.852C841.436 445.052 816.31 441.421 861.866 437.296C907.422 433.172 886.273 437.037 930.656 436.651C975.04 436.264 951.399 432.343 1001.57 425.74C1051.73 419.138 1020.72 425.208 1072.85 424.127C1124.97 423.047 1114.39 420.097 1140.02 414.426C1165.65 408.754 1173.1 412.143 1214.55 411.063C1256.01 409.983 1242.78 406.182 1285.56 401.536C1328.35 396.889 1304.66 400.796 1354.41 399.573C1404.16 398.35 1381.34 394.315 1428.34 389.376C1475.35 384.438 1445.96 386.509 1497.93 385.313C1549.9 384.117 1534.63 382.499 1567.23 381.48","M720 450C720 450 696.366 458.841 682.407 472.967C668.448 487.093 673.23 487.471 647.919 492.882C622.608 498.293 636.85 499.899 609.016 512.944C581.182 525.989 596.778 528.494 571.937 533.778C547.095 539.062 551.762 548.656 536.862 556.816C521.962 564.975 515.626 563.279 497.589 575.159C479.552 587.04 484.343 590.435 461.111 598.728C437.879 607.021 442.512 605.226 423.603 618.397C404.694 631.569 402.411 629.541 390.805 641.555C379.2 653.568 369.754 658.175 353.238 663.929C336.722 669.683 330.161 674.689 312.831 684.116C295.5 693.543 288.711 698.815 278.229 704.041C267.747 709.267 258.395 712.506 240.378 726.65C222.361 740.795 230.097 738.379 203.447 745.613C176.797 752.847 193.747 752.523 166.401 767.148C139.056 781.774 151.342 783.641 130.156 791.074C108.97 798.507 116.461 802.688 96.0974 808.817C75.7334 814.946 83.8553 819.505 59.4513 830.576C35.0473 841.648 48.2548 847.874 21.8337 853.886C-4.58739 859.898 10.5966 869.102 -16.396 874.524","M720 450C720 450 695.644 482.465 682.699 506.197C669.755 529.929 671.059 521.996 643.673 556.974C616.286 591.951 625.698 590.8 606.938 615.255C588.178 639.71 592.715 642.351 569.76 665.92C546.805 689.49 557.014 687.498 538.136 722.318C519.258 757.137 520.671 760.818 503.256 774.428C485.841 788.038 491.288 790.063 463.484 831.358C435.681 872.653 437.554 867.001 425.147 885.248C412.74 903.495 411.451 911.175 389.505 934.331C367.559 957.486 375.779 966.276 352.213 990.918C328.647 1015.56 341.908 1008.07 316.804 1047.24C291.699 1086.42 301.938 1060.92 276.644 1100.23C251.349 1139.54 259.792 1138.78 243.151 1153.64","M719.974 450C719.974 450 765.293 459.346 789.305 476.402C813.318 493.459 825.526 487.104 865.093 495.586C904.659 504.068 908.361 510.231 943.918 523.51C979.475 536.789 963.13 535.277 1009.79 547.428C1056.45 559.579 1062.34 555.797 1089.82 568.96C1117.31 582.124 1133.96 582.816 1159.12 592.861C1184.28 602.906 1182.84 603.359 1233.48 614.514C1284.12 625.67 1254.63 632.207 1306.33 644.465C1358.04 656.723 1359.27 656.568 1378.67 670.21C1398.07 683.852 1406.16 676.466 1456.34 692.827C1506.51 709.188 1497.73 708.471 1527.54 715.212","M720 450C720 450 727.941 430.821 734.406 379.251C740.87 327.681 742.857 359.402 757.864 309.798C772.871 260.194 761.947 271.093 772.992 244.308C784.036 217.524 777.105 200.533 786.808 175.699C796.511 150.864 797.141 144.333 808.694 107.307C820.247 70.2821 812.404 88.4169 819.202 37.1016C826 -14.2137 829.525 -0.990829 839.341 -30.3874C849.157 -59.784 844.404 -61.5924 855.042 -98.7516C865.68 -135.911 862.018 -144.559 876.924 -167.488C891.83 -190.418 886.075 -213.535 892.87 -237.945C899.664 -262.355 903.01 -255.031 909.701 -305.588C916.393 -356.144 917.232 -330.612 925.531 -374.777","M720 450C720 450 722.468 499.363 726.104 520.449C729.739 541.535 730.644 550.025 738.836 589.07C747.028 628.115 743.766 639.319 746.146 659.812C748.526 680.306 754.006 693.598 757.006 732.469C760.007 771.34 760.322 765.244 763.893 805.195C767.465 845.146 769.92 822.227 773.398 868.469C776.875 914.71 776.207 901.365 778.233 940.19C780.259 979.015 782.53 990.477 787.977 1010.39C793.424 1030.3 791.788 1060.01 797.243 1082.24C802.698 1104.47 801.758 1130.29 808.181 1149.64C814.604 1168.99 813.135 1171.5 818.026 1225.28C822.918 1279.06 820.269 1267.92 822.905 1293.75","M720 450C720 450 737.033 492.46 757.251 515.772C777.468 539.084 768.146 548.687 785.517 570.846C802.887 593.005 814.782 609.698 824.589 634.112C834.395 658.525 838.791 656.702 855.55 695.611C872.31 734.519 875.197 724.854 890.204 764.253C905.21 803.653 899.844 790.872 919.927 820.763C940.01 850.654 939.071 862.583 954.382 886.946C969.693 911.309 968.683 909.254 993.997 945.221C1019.31 981.187 1006.67 964.436 1023.49 1007.61C1040.32 1050.79 1046.15 1038.25 1059.01 1073.05C1071.88 1107.86 1081.39 1096.19 1089.45 1131.96C1097.51 1167.73 1106.52 1162.12 1125.77 1196.89","M720 450C720 450 687.302 455.326 670.489 467.898C653.676 480.47 653.159 476.959 626.58 485.127C600.002 493.295 599.626 495.362 577.94 503.841C556.254 512.319 556.35 507.426 533.958 517.44C511.566 527.454 505.82 526.441 486.464 539.172C467.108 551.904 461.312 546.36 439.357 553.508C417.402 560.657 406.993 567.736 389.393 572.603C371.794 577.47 371.139 583.76 344.54 587.931C317.941 592.102 327.375 593.682 299.411 607.275C271.447 620.868 283.617 615.022 249.868 622.622C216.119 630.223 227.07 630.86 203.77 638.635C180.47 646.41 168.948 652.487 156.407 657.28C143.866 662.073 132.426 669.534 110.894 675.555C89.3615 681.575 90.3234 680.232 61.1669 689.897C32.0105 699.562 34.3696 702.021 15.9011 709.789C-2.56738 717.558 2.38861 719.841 -29.9494 729.462C-62.2873 739.083 -52.5552 738.225 -77.4307 744.286","M720 450C720 450 743.97 465.061 754.884 490.648C765.798 516.235 781.032 501.34 791.376 525.115C801.72 548.889 808.417 538.333 829.306 564.807C850.195 591.281 852.336 582.531 865.086 601.843C877.835 621.155 874.512 621.773 902.383 643.857C930.255 665.94 921.885 655.976 938.025 681.74C954.164 707.505 959.384 709.719 977.273 720.525C995.162 731.33 994.233 731.096 1015.92 757.676C1037.61 784.257 1025.74 768.848 1047.82 795.343C1069.91 821.837 1065.95 815.45 1085.93 834.73C1105.91 854.009 1110.53 848.089 1124.97 869.759C1139.4 891.428 1140.57 881.585 1158.53 911.499C1176.5 941.414 1184.96 933.829 1194.53 948.792C1204.09 963.755 1221.35 973.711 1232.08 986.224C1242.8 998.738 1257.34 1015.61 1269.99 1026.53C1282.63 1037.45 1293.81 1040.91 1307.21 1064.56","M720 450C720 450 718.24 412.717 716.359 397.31C714.478 381.902 713.988 362.237 710.785 344.829C707.582 327.42 708.407 322.274 701.686 292.106C694.965 261.937 699.926 270.857 694.84 240.765C689.753 210.674 693.055 217.076 689.674 184.902C686.293 152.728 686.041 149.091 682.676 133.657C679.311 118.223 682.23 106.005 681.826 80.8297C681.423 55.6545 677.891 60.196 675.66 30.0226C673.429 -0.150848 672.665 -7.94842 668.592 -26.771C664.52 -45.5935 664.724 -43.0755 661.034 -78.7766C657.343 -114.478 658.509 -103.181 653.867 -133.45C649.226 -163.719 650.748 -150.38 647.052 -182.682C643.357 -214.984 646.125 -214.921 645.216 -238.402C644.307 -261.883 640.872 -253.4 637.237 -291.706C633.602 -330.012 634.146 -309.868 630.717 -343.769C627.288 -377.669 628.008 -370.682 626.514 -394.844","M720 450C720 450 730.384 481.55 739.215 507.557C748.047 533.564 751.618 537.619 766.222 562.033C780.825 586.447 774.187 582.307 787.606 618.195C801.025 654.082 793.116 653.536 809.138 678.315C825.16 703.095 815.485 717.073 829.898 735.518C844.311 753.964 845.351 773.196 852.197 786.599C859.042 800.001 862.876 805.65 872.809 845.974C882.742 886.297 885.179 874.677 894.963 903.246C904.747 931.816 911.787 924.243 921.827 961.809C931.867 999.374 927.557 998.784 940.377 1013.59C953.197 1028.4 948.555 1055.77 966.147 1070.54C983.739 1085.31 975.539 1105.69 988.65 1125.69C1001.76 1145.69 1001.82 1141.59 1007.54 1184.37C1013.27 1227.15 1018.98 1198.8 1029.67 1241.58","M720 450C720 450 684.591 447.135 657.288 439.014C629.985 430.894 618.318 435.733 600.698 431.723C583.077 427.714 566.975 425.639 537.839 423.315C508.704 420.991 501.987 418.958 476.29 413.658C450.592 408.359 460.205 410.268 416.97 408.927C373.736 407.586 396.443 401.379 359.262 396.612C322.081 391.844 327.081 393.286 300.224 391.917C273.368 390.547 264.902 385.49 241.279 382.114C217.655 378.739 205.497 378.95 181.98 377.253C158.464 375.556 150.084 369.938 117.474 366.078C84.8644 362.218 81.5401 361.501 58.8734 358.545C36.2067 355.59 33.6442 351.938 -3.92281 346.728C-41.4898 341.519 -18.6466 345.082 -61.4654 341.179C-104.284 337.275 -102.32 338.048 -121.821 332.369","M720 450C720 450 714.384 428.193 708.622 410.693C702.86 393.193 705.531 397.066 703.397 372.66C701.264 348.254 697.8 345.181 691.079 330.466C684.357 315.751 686.929 312.356 683.352 292.664C679.776 272.973 679.079 273.949 674.646 255.07C670.213 236.192 670.622 244.371 665.271 214.561C659.921 184.751 659.864 200.13 653.352 172.377C646.841 144.623 647.767 151.954 644.123 136.021C640.48 120.088 638.183 107.491 636.127 96.8178C634.072 86.1443 632.548 77.5871 626.743 54.0492C620.938 30.5112 622.818 28.9757 618.613 16.577C614.407 4.17831 615.555 -13.1527 608.752 -24.5691C601.95 -35.9855 603.375 -51.0511 599.526 -60.1492C595.678 -69.2472 593.676 -79.3623 587.865 -100.431C582.053 -121.5 584.628 -117.913 578.882 -139.408C573.137 -160.903 576.516 -161.693 571.966 -182.241C567.416 -202.789 567.42 -198.681 562.834 -218.28C558.248 -237.879 555.335 -240.47 552.072 -260.968C548.808 -281.466 547.605 -280.956 541.772 -296.427C535.94 -311.898 537.352 -315.211 535.128 -336.018C532.905 -356.826 531.15 -360.702 524.129 -377.124","M720 450C720 450 711.433 430.82 707.745 409.428C704.056 388.035 704.937 381.711 697.503 370.916C690.069 360.121 691.274 359.999 685.371 334.109C679.469 308.22 677.496 323.883 671.24 294.303C664.984 264.724 667.608 284.849 662.065 258.116C656.522 231.383 656.357 229.024 647.442 216.172C638.527 203.319 640.134 192.925 635.555 178.727C630.976 164.529 630.575 150.179 624.994 139.987C619.413 129.794 615.849 112.779 612.251 103.074C608.654 93.3696 606.942 85.6729 603.041 63.0758C599.14 40.4787 595.242 36.9267 589.533 23.8967C583.823 10.8666 581.18 -2.12401 576.96 -14.8333C572.739 -27.5425 572.696 -37.7703 568.334 -51.3441C563.972 -64.9179 562.14 -67.2124 556.992 -93.299C551.844 -119.386 550.685 -109.743 544.056 -129.801C537.428 -149.859 534.97 -151.977 531.034 -170.076C527.099 -188.175 522.979 -185.119 519.996 -207.061C517.012 -229.004 511.045 -224.126 507.478 -247.077C503.912 -270.029 501.417 -271.033 495.534 -287C489.651 -302.968 491.488 -300.977 484.68 -326.317C477.872 -351.657 476.704 -348.494 472.792 -363.258","M720 450C720 450 723.524 466.673 728.513 497.319C733.503 527.964 731.894 519.823 740.001 542.706C748.108 565.589 744.225 560.598 748.996 588.365C753.766 616.131 756.585 602.096 761.881 636.194C767.178 670.293 768.155 649.089 771.853 679.845C775.551 710.6 775.965 703.738 781.753 724.555C787.54 745.372 787.248 758.418 791.422 773.79C795.596 789.162 798.173 807.631 804.056 819.914C809.938 832.197 806.864 843.07 811.518 865.275C816.171 887.48 816.551 892.1 822.737 912.643C828.922 933.185 830.255 942.089 833.153 956.603C836.052 971.117 839.475 969.242 846.83 1003.98C854.185 1038.71 850.193 1028.86 854.119 1048.67C858.045 1068.48 857.963 1074.39 863.202 1094.94C868.44 1115.49 867.891 1108.03 874.497 1138.67C881.102 1169.31 880.502 1170.72 887.307 1186.56C894.111 1202.4 890.388 1209.75 896.507 1231.25C902.627 1252.76 902.54 1245.39 906.742 1279.23","M720 450C720 450 698.654 436.893 669.785 424.902C640.916 412.91 634.741 410.601 615.568 402.586C596.396 394.571 594.829 395.346 568.66 378.206C542.492 361.067 547.454 359.714 514.087 348.978C480.721 338.242 479.79 334.731 467.646 329.846C455.502 324.96 448.63 312.156 416.039 303.755C383.448 295.354 391.682 293.73 365.021 280.975C338.36 268.219 328.715 267.114 309.809 252.575C290.903 238.036 277.185 246.984 259.529 230.958C241.873 214.931 240.502 224.403 211.912 206.241C183.323 188.078 193.288 190.89 157.03 181.714C120.772 172.538 127.621 170.109 108.253 154.714C88.8857 139.319 75.4927 138.974 56.9647 132.314C38.4366 125.654 33.8997 118.704 4.77584 106.7C-24.348 94.6959 -19.1326 90.266 -46.165 81.9082","M720 450C720 450 711.596 475.85 701.025 516.114C690.455 556.378 697.124 559.466 689.441 579.079C681.758 598.693 679.099 597.524 675.382 642.732C671.665 687.94 663.4 677.024 657.844 700.179C652.288 723.333 651.086 724.914 636.904 764.536C622.723 804.158 631.218 802.853 625.414 827.056C619.611 851.259 613.734 856.28 605.94 892.262C598.146 928.244 595.403 924.314 588.884 957.785C582.364 991.255 583.079 991.176 575.561 1022.63C568.044 1054.08 566.807 1058.45 558.142 1084.32C549.476 1110.2 553.961 1129.13 542.367 1149.25C530.772 1169.37 538.268 1180.37 530.338 1207.27C522.407 1234.17 520.826 1245.53 512.156 1274.2","M720 450C720 450 730.571 424.312 761.424 411.44C792.277 398.569 772.385 393.283 804.069 377.232C835.752 361.182 829.975 361.373 848.987 342.782C867.999 324.192 877.583 330.096 890.892 303.897C904.201 277.698 910.277 282.253 937.396 264.293C964.514 246.333 949.357 246.834 978.7 230.438C1008.04 214.042 990.424 217.952 1021.51 193.853C1052.6 169.753 1054.28 184.725 1065.97 158.075C1077.65 131.425 1087.76 139.068 1111.12 120.345C1134.49 101.622 1124.9 104.858 1151.67 86.3162C1178.43 67.7741 1167.09 66.2676 1197.53 47.2606C1227.96 28.2536 1225.78 23.2186 1239.27 12.9649C1252.76 2.7112 1269.32 -9.47929 1282.88 -28.5587C1296.44 -47.6381 1305.81 -41.3853 1323.82 -62.7027C1341.83 -84.0202 1340.32 -82.3794 1368.98 -98.9326"],n=["#46A5CA","#8C2F2F","#4FAE4D","#D6590C","#811010","#247AFB","#A534A0","#A8A438","#D6590C","#46A29C","#670F6D","#D7C200","#59BBEB","#504F1C","#55BC54","#4D3568","#9F39A5","#363636","#860909","#6A286F","#604483"];return f.jsxs(_r.svg,{viewBox:"0 0 1440 900",fill:"none",xmlns:"http://www.w3.org/2000/svg",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"absolute inset-0 w-full h-full",children:[e.map((r,i)=>f.jsx(_r.path,{d:r,stroke:n[i],strokeWidth:"2.3",strokeLinecap:"round",variants:OT,initial:"initial",animate:"animate",transition:{duration:(t==null?void 0:t.duration)||10,ease:"linear",repeat:1/0,repeatType:"loop",delay:Math.floor(Math.random()*10),repeatDelay:Math.floor(Math.random()*10+2)}},`path-first-${i}`)),e.map((r,i)=>f.jsx(_r.path,{d:r,stroke:n[i],strokeWidth:"2.3",strokeLinecap:"round",variants:OT,initial:"initial",animate:"animate",transition:{duration:(t==null?void 0:t.duration)||10,ease:"linear",repeat:1/0,repeatType:"loop",delay:Math.floor(Math.random()*10),repeatDelay:Math.floor(Math.random()*10+2)}},`path-second-${i}`))]})};function vJ(){return f.jsx(mJ,{className:"flex items-center justify-center w-full flex-col px-4 z-10",children:f.jsxs("div",{className:"content flex flex-col items-center justify-center z-50",children:[f.jsxs("h2",{className:"bg-clip-text text-transparent text-center bg-gradient-to-b from-neutral-900 to-neutral-700 dark:from-neutral-600 dark:to-white text-2xl md:text-4xl lg:text-7xl font-sans py-2 md:py-10 relative z-20 font-bold tracking-tight",children:["404, ",f.jsx("br",{})," Page Not Found."]}),f.jsx("p",{className:"max-w-xl mx-auto text-sm md:text-lg text-neutral-700 dark:text-neutral-400 text-center",children:"The page you are looking for does not exist."}),f.jsx(jt,{to:"/",className:"text-blue-500 hover:underline",children:"Back to Home"})]})})}function yJ(){const{tripId:t}=K9();if(!t)return f.jsx("div",{children:"Trip not found"});const{user:e}=wa(),[n,r]=g.useState(null),[i,s]=g.useState("loading");if(g.useEffect(()=>{if(!e)return;(async()=>{s("loading");try{const d=await xq(t,e.uid);r(d),console.log(d)}catch(d){console.error("Error fetching trip:",d),s("error")}s("loaded")})()},[e,t]),!t)return f.jsx("div",{className:"text-center text-2xl mt-8",children:"Trip not found"});if(i==="error"||!n)return f.jsx("div",{className:"text-center text-2xl mt-8 text-red-500",children:"Error loading trip"});const o=c=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(c)}`,a=({location:c})=>f.jsx("a",{href:o(c),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:c}),l=({icon:c,label:d,value:h})=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(c,{className:"w-5 h-5 text-gray-500"}),f.jsxs("span",{className:"font-medium",children:[d,":"]}),f.jsx("span",{children:h})]});return f.jsx("div",{className:"Trip",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Trip Details"}),i==="loading"?f.jsxs(bt,{children:[f.jsxs(bi,{children:[f.jsx(_s,{className:"h-8 w-3/4 mb-2"}),f.jsx(_s,{className:"h-4 w-1/2"})]}),f.jsx(Pt,{children:f.jsx("div",{className:"space-y-2",children:[...Array(5)].map((c,d)=>f.jsx(_s,{className:"h-4 w-full"},d))})})]}):n?f.jsxs(f.Fragment,{children:[f.jsxs(bt,{className:"mb-8",children:[f.jsxs(bi,{children:[f.jsx(ra,{children:n.destination}),f.jsxs(If,{children:[new Date(n.startDate).toLocaleDateString()," - ",new Date(n.endDate).toLocaleDateString()]})]}),f.jsxs(Pt,{children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsx(l,{icon:e1,label:"Duration",value:`${n.duration} hours`}),f.jsx(l,{icon:t1,label:"People",value:n.numberOfPeople}),f.jsx(l,{icon:Cb,label:"Budget",value:n.budget})]}),n.preferences&&n.preferences.length>0&&f.jsxs("div",{className:"mt-4",children:[f.jsx("span",{className:"font-medium",children:"Preferences:"})," ",n.preferences.join(", ")]})]})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Itinerary"}),f.jsx("div",{className:"space-y-6",children:n.generatedItinerary.map((c,d)=>f.jsxs(bt,{children:[f.jsx(bi,{children:f.jsxs(ra,{className:"flex items-center",children:[f.jsx(wb,{className:"w-5 h-5 mr-2"}),"Day ",c.day]})}),f.jsx(Pt,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(hH,{className:"w-5 h-5 text-gray-500"}),f.jsx("span",{className:"font-medium",children:"Hotel:"}),f.jsx(a,{location:c.hotel})]}),f.jsxs("div",{className:"space-y-2",children:[c.activities.morning.location&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(uH,{className:"w-5 h-5 text-gray-500"}),f.jsx("span",{className:"font-medium",children:"Morning:"}),f.jsx(a,{location:c.activities.morning.location})]}),c.activities.afternoon.location&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(yH,{className:"w-5 h-5 text-gray-500"}),f.jsx("span",{className:"font-medium",children:"Afternoon:"}),f.jsx(a,{location:c.activities.afternoon.location})]}),c.activities.evening.location&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(_H,{className:"w-5 h-5 text-gray-500"}),f.jsx("span",{className:"font-medium",children:"Evening:"}),f.jsx(a,{location:c.activities.evening.location})]}),c.activities.night.location&&f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(pH,{className:"w-5 h-5 text-gray-500"}),f.jsx("span",{className:"font-medium",children:"Night:"}),f.jsx(a,{location:c.activities.night.location})]})]})]})})]},d))})]}):null]})})}function _J(){return f.jsx("div",{className:"App",children:f.jsx(jQ,{children:f.jsxs(d7,{children:[f.jsx(gr,{path:"/",element:f.jsx(TH,{})}),f.jsx(gr,{path:"/login",element:f.jsx(eH,{})}),f.jsx(gr,{path:"/register",element:f.jsx(JW,{})}),f.jsxs(gr,{path:"/app",element:f.jsx(pJ,{}),children:[f.jsx(gr,{path:"planner",element:f.jsx(cQ,{})}),f.jsx(gr,{path:"trips",element:f.jsx(VQ,{})}),f.jsx(gr,{path:"trips/:tripId",element:f.jsx(yJ,{})})]}),f.jsx(gr,{path:"*",element:f.jsx(vJ,{})})]})})})}YS(document.getElementById("root")).render(f.jsx(g.StrictMode,{children:f.jsx(y7,{basename:"/ai-trip-planner-2",children:f.jsx(T7,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:f.jsx(dF,{children:f.jsx(_J,{})})})})}));
